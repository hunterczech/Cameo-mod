World:
    FactionCA@Atreides:
		Name: Atreides DU
		InternalName: atreides
        Game: Dune Universe   
		Side: Houses
		Description: House Atreides\nThe noble Atreides, from the water world of Caladan,\nrely on their ornithopters to ensure air superiority.\nThey have allied themselves with the Fremen, the fearsome\nnative warriors of Dune that can move undetected in battle.\nTheir Strength lies in air superiority\nBonus: Builds structures faster\nSupport Power: Ornithopter Airstrike, Fremen Guerilla
	FactionCA@Harkonnen:
		Name: Harkonnen DU
		InternalName: harkonnen
        Game: Dune Universe   
		Side: Houses
		Description: House Harkonnen\nThe evil Harkonnen of the planet Giedi Prime\nwill stop at nothing to gain control of the spice.\nThey rely on brute force and atomic weapons to achieve their goals:\nwealth, and the destruction of House Atreides.\nTheir Specialities are Devastators and Annihilators.\nBonus: Explosions are more powerful\nSupport Power: Death Hand Missile
	FactionCA@Ordos:
		Name: Ordos DU
		InternalName: ordos
        Game: Dune Universe   
		Side: Houses
		Description: House Ordos\nThe insidious Ordos of the icy planet Sigma Draconis IV\nare known for their wealth, greed and treachery.\nRelying heavily on mercenaries they often resort\nto sabotage and forbidden Ixian technologies.\nTheir Strength lies in Stealth and quick hit and run tactics\nBonus: Stealthed units moves faster\nSupport Power: Saboteur, Chaos Lightning 
	FactionCA@Tleilaxu:
		Name: Tleilaxu DU
		InternalName: tleilaxu
        Game: Dune Universe   
		Side: Houses
		Description: House Tleilaxu\nThe mysterious House Tleilaxu from the planet Thalim are religious zealots who preach ceaselessly\nabout the evils of machines. Thus the technology of House Tleilaxu exalts the primacy of organic life through cloning and re-animating the dead.\nThey rely on constant push and heavy aggression\nBonuses: Various\nSupport Power: Tamed Sandworm         
	FactionCA@Ixian:
		Name: Ixian DU
		InternalName: ixian
        Game: Dune Universe   
		Side: Houses
		Description: House Ixian\nThese fascist arms dealers have access to terrifying technologies -- and they're happy to pass them along if the price is right.\nAnd with Arrakis at the center of an intergalactic struggle, the ambitious Ix only stand to profit.\nTheir Technology is expansive and rare, they have to focus on good control of limited amount of assets. Bigger losses are unacceptable.\nBonuses: Inconspicuous Harvesting\nSupport Power: None    
  	FactionCA@Corrino:
		Name: Corrino DU
        Game: Dune Universe   
		Side: Houses
		InternalName: corrino
		Description: House Corrino\nOnce deadliest and grandest House in the Universe and for many thousands of years the imperial family of Imperium from the world Salusa Secundus.\nCorrino uses their elite trained Sardaukars, to rule the war.\nBonus: Uparmored Harvesters\nSupport Power: Release the Sardaukars
    FactionCA@Guild:
		Name: Spacing Guild DU
        Game: Dune Universe   
		Side: Guilds
		InternalName: guild
		Description: Spacing Guild\nGuild with a monopoly on the technology that allows instantaneous travel across vast reaches of space.\nThey rely heavily on air and teleportation\nBonus: Faster Harvesters, Frigates and Carryalls\nSupport Power: Teleportation\n\nGameplay Notice: Use Alt+Click to travel with multiple units at once     
    FactionCA@Smugglers:
		Name: Smugglers DU
		InternalName: smugglers
        Game: Dune Universe   
		Side: Guilds
		Description: Smugglers Guild\nMercenaries focused on smuggling other houses equipment. Most of their Import-Export takes place through the Star Port.\nThey can also plant mines\nBonus: Star Port that can call in other houses super units.\nSupport Power: None         
 	FactionCA@Fremen:
		Name: Fremen DU
		InternalName: fremen
        Game: Dune Universe   
		Side: Other
		Description: Fremen\nNatives of the planet Arrakis, known as Dune. They are tightly knit tribe of skilled warriors whose years of enduring life\non the desert planet have made them tough, resourceful and highly adaptable.\nThey worship and fear the giant sandwowrms that tunnel their planet's surface.\nThey're good at killing their enemies from the inside\nBonuses: Stealth Buildings, Units do not draw sandworms\nSupport Power: Desert Phantoms	
    FactionCA@TheEmperor:
		Name: The Emperor DU
        Game: Dune Universe   
		Side: Boss Factions
		InternalName: emperor
		Description: The Emperor\nShaddam Corrino IV commands army of Sardaukars, most powerful fighters in\nthe whole Dune Universe trained on cruel planet Salusa Secundus.\nEmperor has most powerful technologies available\nBonus: Golden Lion Throne\nSupport Powers: Death before Dishonor, Ornithopter Airstrike, Fremen Guerilla, Saboteur, Chaos Lightning, Death Hand, Strike Team Paradrop, Bounty Hunting
    FactionCA@Mercenary:
		Name: Mercenaries DU
		InternalName: mercenary
        Game: Dune Universe   
		Side: Other
		Description: Mercenaries\nContractors army - Mercenaries join whoever pays the most. \nThere is very little known about them, but they for sure will betray anyone for the right price.\nFaction relies on high income, bounty hunting and overwhelming attacks.\nBonus: Extra income from Harvesting, Advanced Factory - does not require for Upgrade\nSupport Power: Strike Team Paradrop, Bounty Hunting     
    FactionCA@OAtreides:
		Name: Atreides D2K
		InternalName: oatreides
        Game: Dune 2000
		Side: Houses
		Description: House Atreides\nThe noble Atreides, from the water world of Caladan,\nrely on their ornithopters to ensure air superiority.\nThey have allied themselves with the Fremen, the fearsome\nnative warriors of Dune that can move undetected in battle.\nSupport Power: Ornithopter Airstrike
	FactionCA@OHarkonnen:
		Name: Harkonnen D2K
		InternalName: oharkonnen
        Game: Dune 2000
		Side: Houses
		Description: House Harkonnen\nThe evil Harkonnen of the planet Giedi Prime\nwill stop at nothing to gain control of the spice.\nThey rely on brute force and atomic weapons to achieve their goals:\nwealth, and the destruction of House Atreides.\nSupport Power: Death Hand Missile
	FactionCA@OOrdos:
		Name: Ordos D2K
		InternalName: oordos
        Game: Dune 2000
		Side: Houses
		Description: House Ordos\nThe insidious Ordos of the icy planet Sigma Draconis IV\nare known for their wealth, greed and treachery.\nRelying heavily on mercenaries they often resort\nto sabotage and forbidden Ixian technologies.\nSupport Power: Saboteur
   	FactionCA@RandomDU:
		Name: Any
		InternalName: RandomDU
		RandomFactionMembers: atreides, ordos, harkonnen, mercenary, tleilaxu, fremen, ixian, corrino, guild, smugglers, emperor
        Game: Dune Universe
		Side: Random
		Description: Random Faction\nA random faction from Dune Universe will be chosen when the game starts.     
    FactionCA@RandomD2K:
		Name: Any
		InternalName: RandomD2K
		RandomFactionMembers: oatreides, oordos, oharkonnen
        Game: Dune 2000
		Side: Random
		Description: Random Faction\nA random faction from Dune 2000 will be chosen when the game starts.     

    #########################################
    #   DUNE UNIVERSE
    #########################################
    
    MPStartUnits@duneuniverse:
		Class: none
		ClassName: MCV Only
		BaseActor: d2k_mcv
		Factions: atreides, ordos, harkonnen, mercenary, tleilaxu, fremen, ixian, corrino, guild, smugglers, emperor
	MPStartUnits@duneuniverselight:
		Class: light
		ClassName: Light Support
		Factions: atreides, ordos, harkonnen, mercenary, tleilaxu, fremen, ixian, corrino, guild, smugglers, emperor
		BaseActor: d2k_mcv
		SupportActors: light_inf, light_inf, light_inf, trooper, engineer, raider, quad
		InnerSupportRadius: 3
		OuterSupportRadius: 5
	MPStartUnits@duneuniverseheavy:
		Class: heavy
		ClassName: Heavy Support
		Factions: atreides, ordos, harkonnen, mercenary, tleilaxu, fremen, ixian, corrino, guild, smugglers, emperor
		BaseActor: d2k_mcv
		SupportActors: light_inf, light_inf, light_inf, trooper, grenadier, trike, combat_tank_a, missile_tank
		InnerSupportRadius: 3
		OuterSupportRadius: 5
        
    #########################################
    #   DUNE 2000
    #########################################
    
    MPStartUnits@dune2000:
		Class: none
		ClassName: MCV Only
		BaseActor: omcv
		Factions: oatreides, oordos, oharkonnen
	MPStartUnits@lightdune2000:
		Class: light
		ClassName: Light Support
		Factions: oatreides, oordos, oharkonnen
		BaseActor: omcv
		SupportActors: olight_inf, olight_inf, olight_inf, otrooper, oengineer, oraider, oquad
		InnerSupportRadius: 3
		OuterSupportRadius: 5
	MPStartUnits@heavydune2000:
		Class: heavy
		ClassName: Heavy Support
		Factions: oatreides, oordos, oharkonnen
		BaseActor: omcv
		SupportActors: olight_inf, olight_inf, olight_inf, otrooper, ogrenadier, otrike, ocombat_tank_a, omissile_tank
		InnerSupportRadius: 3
		OuterSupportRadius: 5
        
^DuneUniverseFactionPrereqs:
    ProvidesPrerequisite@du_anydune:
        Prerequisite: d2kfactionselected 
        Factions: atreides, ordos, harkonnen, mercenary, tleilaxu, fremen, ixian, corrino, guild, smugglers, emperor
    ProvidesPrerequisite@du_atreides:
        Factions: atreides
    ProvidesPrerequisite@du_harkonnen:
        Factions: harkonnen
    ProvidesPrerequisite@du_ordos:
        Factions: ordos
    ProvidesPrerequisite@du_anyatreides:
        Prerequisite: anyatreides
        Factions: atreides, ixian, fremen, emperor
    ProvidesPrerequisite@du_anyharkonnen:
        Prerequisite: anyharkonnen
        Factions: harkonnen, corrino, guild, emperor
    ProvidesPrerequisite@du_anyordos:
        Prerequisite: anyordos
        Factions: ordos, smugglers, mercenary, tleilaxu, emperor
    ProvidesPrerequisite@du_atreides1:
		Prerequisite: faction.atreides
        Factions: atreides
    ProvidesPrerequisite@du_harkonnen1:
		Prerequisite: faction.harkonnen
        Factions: harkonnen
    ProvidesPrerequisite@du_ordos1:
		Prerequisite: faction.ordos
        Factions: ordos
    ProvidesPrerequisite@du_smugglers:
		Prerequisite: faction.smugglers
        Factions: smugglers
    ProvidesPrerequisite@du_mercenary:
		Prerequisite: faction.mercenary
        Factions: mercenary
    ProvidesPrerequisite@du_tleilaxu:
		Prerequisite: faction.tleilaxu
        Factions: tleilaxu
    ProvidesPrerequisite@du_fremen:
		Prerequisite: faction.fremen
        Factions: fremen
    ProvidesPrerequisite@du_ixian:
		Prerequisite: faction.ixian
        Factions: ixian
    ProvidesPrerequisite@du_corrino:
		Prerequisite: faction.corrino
        Factions: corrino
    ProvidesPrerequisite@du_emperor:
        Prerequisite: faction.emperor
        Factions: emperor
    ProvidesPrerequisite@du_guild:
		Prerequisite: faction.guild
        Factions: guild        
    ProvidesPrerequisite@du_lightinf:
        Prerequisite: du_lightinf
        Factions: atreides, harkonnen, guild, corrino
    ProvidesPrerequisite@du_ornithopter:
        Prerequisite: du_ornithopter    
        Factions: atreides, ixian, fremen
    ProvidesPrerequisite@du_gunship:
        Prerequisite: du_gunship
        Factions: harkonnen, corrino, emperor
    ProvidesPrerequisite@du_trooper:
        Prerequisite: du_trooper
        Factions: atreides, ordos, harkonnen, mercenary, ixian, corrino, guild, smugglers
    ProvidesPrerequisite@du_palace:
        Prerequisite: du_palace
        Factions: atreides, ordos, harkonnen, fremen
    ProvidesPrerequisite@du_ix_emperor:
        Prerequisite: du_ix_emperor
        Factions: ixian, emperor
    ProvidesPrerequisite@flametank:
        Prerequisite: flametankprereq
        Factions: harkonnen, smugglers, emperor
    ProvidesPrerequisite@autogun_prereq_small:
        Prerequisite: autogun_prereq_small
        Factions: smugglers, mercenary
    ProvidesPrerequisite@autogun_prereq:
        Prerequisite: autogun_prereq
        Factions: smugglers, corrino, mercenary, emperor
    ProvidesPrerequisite@mechanic_prereq:
        Prerequisite: mechanic_prereq
        Factions: atreides, harkonnen, ixian, fremen, corrino, guild, emperor
    ProvidesPrerequisite@d2k_ifv_prereq:
        Prerequisite: d2k_ifv_prereq
        Factions: atreides, harkonnen, ixian, corrino, fremen, guild, emperor
    ProvidesPrerequisite@anydunenotleilaxu:
        Prerequisite: d2k_prereq_no_tleilaxu
        Factions: atreides, ordos, harkonnen, mercenary, fremen, ixian, corrino, guild, smugglers, emperor
    ProvidesPrerequisite@merc_smugglers_barracks:
        Prerequisite: mbarracks_prereq
        Factions: smugglers, mercenary
    ProvidesPrerequisite@shockraiderprereq:
        Prerequisite: shockraiderprereq
        Factions: smugglers, ixian, emperor

Player:
    Inherits@dufactionprereqs: ^DuneUniverseFactionPrereqs
    ClassicProductionQueue@RABUILDINGD2K:
		Type: RABuilding.d2k
		DisplayOrder: 0
		Group: Building
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10
    ClassicProductionQueue@RADEFENCED2K:
		Type: RADefence.d2k
		DisplayOrder: 1
		Group: Defence
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
 		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10    
    ClassicProductionQueue@INFANTRYD2K:
		Type: RAInfantry.d2k
		DisplayOrder: 3
		Group: Infantry
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10  
    ClassicProductionQueue@VEHICLED2K:
		Type: RAVehicle.d2k
		DisplayOrder: 3
		Group: Vehicle
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10 
    ClassicProductionQueue@ARMORD2K:
		Type: RAArmor.d2k
		DisplayOrder: 3
		Group: Vehicle
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10     
    ClassicProductionQueue@STARPORTD2K:
		Type: RAStarport.d2k
		DisplayOrder: 3
		Group: Aircraft
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10 
    ClassicProductionQueue@AIRD2K:
		Type: RAAircraft.d2k
		DisplayOrder: 3
		Group: Aircraft
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10                
    ClassicProductionQueue@ADDOND2K:
		Type: Upgrade.d2k
		DisplayOrder: 0
		Group: Addon
		LowPowerModifier: 250
		ReadyAudio: NewOptions
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Upgrading
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True       
    ClassicProductionQueue@RESEARCHD2K:
		Type: Research.d2k
		DisplayOrder: 0
		Group: Upgrade
		LowPowerModifier: 250
		ReadyAudio: NewOptions
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Upgrading
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True       
	ClassicProductionQueue@PROMOTIONSD2K:
		Type: Promotions.d2k
		DisplayOrder: 10
		Group: Promotion
		ItemLimit: 1
		SpeedUp: false
		DisallowPaused: true    
        ReadyAudio: UpgradeComplete
 	GrantConditionOnPrerequisite@D2K:
		Condition: hasd2kranks
		Prerequisites: d2kfactionselected
	Production@d2k:
		Produces: Promotions.d2k
		RequiresCondition: hasd2kranks
    ClassicProductionQueue@OGBUILDINGD2K:
		Type: Building.od2k
		DisplayOrder: 0
		Group: Building
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10
    ClassicProductionQueue@OGDEFENSED2K:
		Type: Defence.od2k
		DisplayOrder: 1
		Group: Defence
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
 		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10    
    ClassicProductionQueue@OGINFANTRYD2K:
		Type: Infantry.od2k
		DisplayOrder: 3
		Group: Infantry
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10  
    ClassicProductionQueue@OGVEHICLED2K:
		Type: Vehicle.od2k
		DisplayOrder: 3
		Group: Vehicle
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10 
    ClassicProductionQueue@OGARMORD2K:
		Type: Armor.od2k
		DisplayOrder: 3
		Group: Vehicle
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10     
    ClassicProductionQueue@OGSTARPORTD2K:
		Type: Starport.od2k
		DisplayOrder: 3
		Group: Aircraft
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10 
    ClassicProductionQueue@OGAIRD2K:
		Type: Aircraft.od2k
		DisplayOrder: 3
		Group: Aircraft
		LowPowerModifier: 300
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True
		BuildTimeSpeedReduction: 100, 50, 33, 25, 20, 17, 14, 12, 11, 10                
    ClassicProductionQueue@OGADDOND2K:
		Type: Upgrade.od2k
		DisplayOrder: 0
		Group: Addon
		LowPowerModifier: 250
		ReadyAudio: NewOptions
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Upgrading
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		SpeedUp: True       
        
^D2K_MunitionsSiloBuff:
    ExternalCondition@d2krearm:
        Condition: d2k_rearm
    ReloadDelayMultiplier@d2krearm:
        Modifier: 92
        RequiresCondition: d2k_rearm == 1
    ReloadDelayMultiplier@d2krearm2:
        Modifier: 85
        RequiresCondition: d2k_rearm == 2     
    ReloadDelayMultiplier@d2krearm3:
        Modifier: 75
        RequiresCondition: d2k_rearm == 3     
    ReloadDelayMultiplier@d2krearm4:
        Modifier: 64
        RequiresCondition: d2k_rearm == 4    
    ReloadDelayMultiplier@d2krearm5:
        Modifier: 50
        RequiresCondition: d2k_rearm >= 5
        
^D2KPersonalShield:
    ExternalCondition@ShieldDeplete:
        Condition: SmallCaliberShieldHits
    Targetable@BulletImmune:
        RequiresCondition: d2k_personal_shield && !d2k_personal_shield_disabled
    Targetable@PersonalShielded:
        TargetTypes: PersonalShielded
        RequiresCondition: d2k_personal_shield && !d2k_personal_shield_disabled
    GrantCondition@d2k_personal_shield_disabled:
        Condition: d2k_personal_shield_disabled
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 5
    DamageMultiplier@d2k_personal_shield:
        Modifier: 150
        RequiresCondition: d2k_personal_shield && d2k_personal_shield_disabled
    SpeedMultiplier@d2k_personal_shield:
        Modifier: 80
        RequiresCondition: d2k_personal_shield && d2k_personal_shield_disabled
    GrantConditionOnPrerequisite@d2k_personal_shield:
        Condition: d2k_personal_shield
        Prerequisites: d2k_personal_shield
^D2KInfantry:
	Inherits@inf: ^Infantry
    Inherits@munisilo: ^D2K_MunitionsSiloBuff
    Inherits@BulletImmune: ^BulletImmune
    Inherits@personalshield: ^D2KPersonalShield
	WithDeathAnimation:
		DeathTypes:
			ExplosionDeath: 1
			SoundDeath: 2
			SmallExplosionDeath: 3
			BulletDeath: 4
		CrushedSequence: die-crushed
        DeathSequencePalette: playerd2k
        CrushedSequencePalette: playerd2k
        CrushedPaletteIsPlayerPalette: True
	Huntable:
	RevealsShroud:
		Range: 3c768
	SelectionDecorations:
	WithSpriteControlGroupDecoration:
	Targetable:
		TargetTypes: Ground, Infantry
	QuantizeFacingsFromSequence:
		Sequence: stand
	WithInfantryBody:
		IdleSequences: idle1, idle2
	TakeCover:
		DamageModifiers:
			Prone50Percent: 50
		DamageTriggers: TriggerProne
		ProneOffset: 300,0,0
	AttackMove:
	DrawLineToTarget:
	Passenger:
		CargoType: Infantry
		PipType: Green
        Weight: 1
	HiddenUnderFog:
	ActorLostNotification:
	Crushable:
		CrushSound: CRUSH1.WAV
        WarnProbability: 75
        RequiresCondition: !d2k_personal_shield
	Crushable@shield:
		CrushSound: CRUSH1.WAV
        WarnProbability: 15
        RequiresCondition: d2k_personal_shield
	Guard:
		Voice: Guard
	Guardable:
	DetectCloaked:
		Range: 1c768
	DeathSounds:
		DeathTypes: ExplosionDeath, SoundDeath, SmallExplosionDeath, BulletDeath
	MustBeDestroyed:
	TerrainModifiesDamage:
		TerrainModifier:
			Rough: 80
	Voiced:
		VoiceSet: D2KInfantryVoice
	RevealOnFire:
	RevealOnDeath:
		Duration: 100
	HitShape:
		Type: Circle
			Radius: 96
	MapEditorData:
		Categories: Infantry
    Passenger:
	AttackFrontal:
    GrantConditionOnPrerequisite@corrinoelite:
        Prerequisites: faction.corrino, palace_emperor
        Condition: rank-elite
    -DeathSounds@NORMAL:
	-DeathSounds@BURNED:
	-DeathSounds@POISONED:
	-DeathSounds@ZAPPED:				
	-Explodes@Mutate:
    SpeedMultiplier@ordos-stealth-bonus:
        Modifier: 125
        RequiresCondition: cloakordos && cloaked
    GrantConditionOnPrerequisite@ordos:
        Prerequisites: faction.ordos
        Condition: cloakordos
    ProductionCostMultiplier@corrino:     
        Multiplier: 150
        Prerequisites: faction.corrino
        
^D2KInfantryDefaultDeath:
	WithDeathAnimation:
        DeathSequencePalette: player
        CrushedSequencePalette: player
        CrushedPaletteIsPlayerPalette: True
^D2KPlane:
    Inherits@plane: ^Plane
    Aircraft:
		IdleBehavior: None
        
^D2KBuilding:
	Inherits@1: ^BaseBuilding
	Inherits@selection: ^SelectableBuilding
    Inherits@BotMicro: ^BotMicromanageable
	Tooltip:
		GenericName: Structure
	OwnerLostAction:
		Action: Kill
	Building:
		BuildSounds: BUILD1.WAV
        TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,Concrete,ClearDune
	CaptureManager:
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building
	SoundOnDamageTransition:
		DamagedSounds: EXPLSML1.WAV
		DestroyedSounds: EXPLHG1.WAV
	Explodes:
		Type: Footprint
		Weapon: D2kBuildingExplode
		EmptyWeapon: D2kBuildingExplode
        RequiresCondition: !harkonnenexplode      
    Explodes@harkonnen:
    	Type: Footprint
		Weapon: D2kBuildingExplodeH
		EmptyWeapon: D2kBuildingExplodeH
        RequiresCondition: harkonnenexplode   
	RepairableBuilding:
		RepairStep: 500
		PlayerExperience: 25
		RepairingNotification: Repairing
	SpawnActorsOnSell:
		ActorTypes: light_inf
	MustBeDestroyed:
		RequiredForShortGame: true
	ActorLostNotification:
		Notification: BuildingLost
	ShakeOnDeath:
	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished
		SellSounds: BUILD1.WAV
	CommandBarBlacklist:
	WithBuildingRepairDecoration:
		Image: allyrepair
		Sequence: repair
		Position: Center
		Palette: player
		IsPlayerPalette: True
    -ActorPreviewPlaceBuildingPreview: 
    D2kActorPreviewPlaceBuildingPreview:
		OverridePalette: playerd2k     
   	DamagedByTerrain:
		Damage: -600
		DamageInterval: 60
		Terrain: Concrete
		DamageThreshold: 100
		StartOnThreshold: false    
    GrantConditionOnPrerequisite@HARKONNENFACTION:
        Condition: harkonnenexplode
        Prerequisites: faction.harkonnen     
    ProductionTimeMultiplier@ATREIDESBUILD:
        Prerequisites: faction.atreides
        Multiplier: 85
    ProductionCostMultiplier@GUILDBUILD:
        Prerequisites: faction.guild
        Multiplier: 110
    GrantConditionOnPrerequisite@FREMENFACTION:
        Condition: faction.fremen
        Prerequisites: faction.fremen
    GrantConditionOnPrerequisite@GUILDFACTION:
        Condition: faction.guild
        Prerequisites: faction.guild     
    Cloak@fremen:
		InitialDelay: 0
		CloakDelay: 40
		UncloakOn: Attack, Unload, Damage
		IsPlayerPalette: true
        Palette: d2kcloak     
        CloakedCondition: cloaked   
        RequiresCondition: faction.fremen    
        PauseOnCondition: disabled || base-reveal
    Cloak@TScloak:
        Palette: d2kcloak
^D2kUpgradeable:
	GrantConditionOnPrerequisite@UPGRADEABLE:
		Condition: stardecoration
	WithDecoration@upgraded:
		RequiresCondition: stardecoration
		Position: TopRight
		Margin: 6, 8
		RequiresSelection: true
		Image: d2k_pips
		Sequence: tag-upgraded

^D2KPaletteRender:
	RenderSprites:
		PlayerPalette: playerd2k
        Scale: 0.85 
	WithDeathAnimation:
		DeathSequencePalette: playerd2k
        
^D2KPaletteRenderHusk:    
    RenderSprites:
        PlayerPalette: d2kplayer
        Palette: d2keffect
        Scale: 0.85     
        
^D2KVehicleHusk:
    Inherits@palette: ^D2KPaletteRenderHusk
	Inherits: ^Husk
	Husk:
		AllowedTerrain: Sand, Rock, Transition, Concrete, Spice, SpiceSand, SpiceBlobs, Dune
	Burns:
        Anim: 3
		Damage: 100
		Interval: 6
	Targetable:
		TargetTypes: Ground, Vehicle
		RequiresForceFire: true
	WithColoredOverlay@IDISABLE:
		Palette: disabled
	Explodes:
		Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
        
^D2KPaletteRenderInfantry: 
    Inherits: ^D2KPaletteRender       
	Crushable:
		CrushSound: igensqua.wav    
    WithDeathAnimation:
		DeathSequencePalette: playerd2k   
        CrushedSequencePalette: playerd2k
        CrushedPaletteIsPlayerPalette: True
        
^D2KDisableOnLowPowerOrPowerDown:
	Inherits: ^D2KDisableOnLowPower
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown
		Condition: disabled
	ToggleConditionOnOrder:
		DisabledSound: EnablePower
		EnabledSound: DisablePower
		Condition: powerdown
		OrderName: PowerDown
	WithDecoration@POWERDOWN:
		Image: poweroff
		Sequence: offline
		Palette: chrome
		RequiresCondition: powerdown
		Position: Center
		Offsets:
			repairing: 10, 0
	PowerMultiplier@POWERDOWN:
		RequiresCondition: powerdown
		Modifier: 0
	RepairableBuilding:
		RepairCondition: repairing
	WithBuildingRepairDecoration:
		Offsets:
			powerdown: -10, 0
    
^D2KDisableOnLowPower:
	WithColoredOverlay@IDISABLE:
		RequiresCondition: disabled
		Color: 000000B4
        Palette: disabled
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower
		Condition: disabled
        
^D2KVehicle:
    Inherits@vehicle: ^Vehicle
    Inherits@munisilo: ^D2K_MunitionsSiloBuff
    -Carryable:
	Tooltip:
		GenericName: Unit
	Huntable:
	OwnerLostAction:
		Action: Kill
	Mobile:
		TurnSpeed: 5
		Locomotor: wheeled
		PauseOnCondition: notmobile || disabled
	SelectionDecorations:
	WithSpriteControlGroupDecoration:
	Selectable:
		Bounds: 32,32
	Targetable:
		TargetTypes: Ground, Vehicle, C4
	Passenger:
		CargoType: Vehicle
	AttackMove:
	DrawLineToTarget:
	HiddenUnderFog:
	ActorLostNotification:
	Guard:
	Guardable:
	WithFacingSpriteBody:
	Demolishable:
	TemporaryOwnerManager:
	MustBeDestroyed:
	Voiced:
		VoiceSet: D2kVehicleVoice
	AutoCarryable:
		CarriedCondition: notmobile
		ReservedCondition: carryall-reserved
		LockedCondition: notmobile
	WithDecoration@CARRYALL:
		Image: d2k_pips
		Sequence: pickup-indicator
		ReferencePoint: Top, Left
		ZOffset: 256
		RequiresCondition: carryall-reserved
	RevealOnFire:
	RevealOnDeath:
		Duration: 100
		Radius: 2c512
	HitShape:
	MapEditorData:
		Categories: Vehicle
    GrantConditionOnDamageState@DAMAGED:
        Condition: d2kdamage
        ValidDamageStates: Heavy
    SpeedMultiplier@DAMAGED:
        Modifier: 60
        RequiresCondition: d2kdamage
    GrantConditionOnPrerequisite@FREMENFACTION:
        Condition: faction.fremen
        Prerequisites: faction.fremen
    GrantConditionOnPrerequisite@HARKONNENFACTION:
        Condition: harkonnenexplode
        Prerequisites: faction.harkonnen    
    ProductionCostMultiplier@IXIANVEHICLES:
        Prerequisites: faction.ixian
        Multiplier: 120        
    AttractsWorms@fremen:
        Intensity: 0
        RequiresCondition: faction.fremen
    SpeedMultiplier@ordos-stealth-bonus:
        Modifier: 125
        RequiresCondition: cloakordos && cloaked
    GrantConditionOnPrerequisite@ordos:
        Prerequisites: faction.ordos
        Condition: cloakordos    
    Cloak@TDcloak:
        Palette: d2kcloak
        IsPlayerPalette: true
^D2KPrereqs:
    ProvidesPrerequisite@atreides:
		Factions: atreides, ixian, fremen
	ProvidesPrerequisite@ordos:
		Factions: ordos, tleilaxu, mercenary, smugglers
	ProvidesPrerequisite@harkonnen:
		Factions: harkonnen, corrino, guild, emperor

        
^D2KTank:
	Inherits@D2KV: ^D2KVehicle
	Mobile:
		Locomotor: tracked
    
^D2KDefense:
    Inherits: ^Defense
	Inherits@1: ^D2KBuilding
	Inherits@selection: ^SelectableCombatBuilding
    Inherits@munisilo: ^D2K_MunitionsSiloBuff
	WithSpriteTurret:
	AttackTurreted:
	RenderRangeCircle:
	DetectCloaked:
		Range: 1c768
	-GivesBuildableArea:
	-WithMakeAnimation:
	Capturable:
	Sellable:
		RequiresCondition: !being-demolished
	WithWallSpriteBody:   
	LineBuildNode:
		Types: turret
	ThrowsShrapnel:
		Weapons: Debris, Debris3
		Pieces: 2, 2
		Range: 2c0, 4c0
	MustBeDestroyed:
		RequiredForShortGame: false
	RevealOnFire:
	Targetable:
		TargetTypes: Ground, C4, Structure, Defense
	MapEditorData:
		Categories: Defense
	-CommandBarBlacklist:    
    -ActorPreviewPlaceBuildingPreview: 
^D2KMine:
	Inherits: ^SpriteActor
	Interactable:
		Bounds: 24,24
	Buildable:
		Queue: Defense.d2k
		BuildDurationModifier: 100
	WithSpriteBody:
	HiddenUnderFog:
	Mine:
		CrushClasses: mine
		DetonateClasses: mine
	Health:
		HP: 10000
		NotifyAppliedDamage: false
	Armor:
		Type: Concrete
	Building:
        TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,Concrete,ClearDune 
		BuildSounds: CHUNG.WAV
		Dimensions: 1,1
		Footprint: x
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 8
	ActorPreviewPlaceBuildingPreview:
		OverridePalette: placebuildingra
	RevealsShroud:
		Range: 1c0
	Sellable:
		SellSounds: CHUNG.WAV
	Cloak:
		CloakSound:
		UncloakSound:
		Palette:
		CloakTypes: Mine
		InitialDelay: 0
        PauseOnCondition: cloak-force-disabled || base-reveal
	Tooltip:
		Name: Mine
		GenericName: Mine
	Targetable:
		TargetTypes: Ground, Mine
	HitShape:
	MapEditorData:
		Categories: System
	RenderSprites:
		PlayerPalette: raplayer
		Scale: 1.25

^D2K_Ix_technology:
    Mobile:
        PauseOnCondition: disabled || ixdisable
	WithColoredOverlay@IDISABLE:
		RequiresCondition: disabled || ixdisable
		Palette: disabled
    ExternalCondition@ixdisable:
        Condition: ixdisable
        
^D2K_Ix_Turret_EMP:
    Inherits: ^D2K_Ix_technology
    AttackTurreted:
		PauseOnCondition: disabled || ixdisable
        
^D2K_Ix_Frontal_EMP:
    Inherits: ^D2K_Ix_technology
	AttackFrontal:
		FacingTolerance: 2
		PauseOnCondition: disabled || ixdisable
        
^Starport:
    ProductionCostMultiplier@expansive:
		Multiplier: 145
        Prerequisites: !faction.smugglers, !faction.mercenary
        Queue: Starport.d2k, RAStarport.d2k
    ProductionCostMultiplier@expansive2:
		Multiplier: 130
        Prerequisites: faction.mercenary       
        Queue: Starport.d2k, RAStarport.d2k
    ProductionTimeMultiplier:
        Multiplier: 15      
        Prerequisites: !faction.smugglers       
        Queue: Starport.d2k, RAStarport.d2k
    ProductionTimeMultiplier@smugglers:
        Multiplier: 30     
        Prerequisites: faction.smugglers            
        Queue: Starport.d2k, RAStarport.d2k

^D2K_Og_Buff:
    FirepowerMultiplier@D2K_Og_Buff:
        Modifier: 200
    DamageMultiplier@D2K_Og_Buff:
        Modifier: 50

^DU_OrnithopterSupportPower:
    ClassicAirstrikePower@orni:
		Squad:
			ornithopter:
				SpawnOffset: 0,0,0
				TargetOffset: 0,0,0
            ornithopter:
				SpawnOffset: -1024,1024,0
				TargetOffset: -1024,1024,0    
            ornithopter:
				SpawnOffset: 1024,1024,0
				TargetOffset: 1024,1024,0        
		Icon: ornistrike
        IconPalette: d2kunit         
		ChargeInterval: 4500
		Description: Ornithopters
		LongDesc: Ornithopters hit the target with bombs and heavy machine guns
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: EnemyPlanesApproaching
		QuantizedFacings: 8
		DisplayBeacon: True
        AllowMultiple: False
		BeaconPoster: airstrike
		BeaconPosterPalette: beaconposter
		DisplayRadarPing: True
		CameraActor: camera
		CameraRemoveDelay: 150
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
        DisplayTimerStances: Ally, Neutral, Enemy
		UseDirectionalTarget: True
		DirectionArrowAnimation: airstrikedirection
		Strikes: 3
		CircleDelay: 25
		OrderName: ornistrike
		SupportPowerPaletteOrder: 20
		Prerequisites: ~anyatreides, ~techlevel.superweapons, upgrade.hightech, ~faction.atreides
###########################################
#   BUILDINGS
###########################################

^concrete:
	AlwaysVisible:
	Interactable:
	Building:
		BuildSounds: CHUNG.WAV
		AllowInvalidPlacement: true
        TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,ClearDune  
    D2kActorPreviewPlaceBuildingPreview:
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 4
    RenderSprites:    
   	LaysTerrain:
		Template: 856
		TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,ClearDune    
	Tooltip:
		Name: Concrete
		GenericName: Structure
	KillsSelf:
		RemoveInstead: true
	Buildable:
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 10
		Description: Provides a strong foundation that regenerates buildings on top of it.
        IconPalette: d2kunit

concretea:
	Inherits: ^concrete
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Tooltip:
		Name: Concrete Slab
	Valued:
		Cost: 40
	Buildable:
		BuildPaletteOrder: 110
        BuildDuration: 15
		BuildDurationModifier: 100
        Prerequisites: ~d2k_prereq_no_tleilaxu
        
concreteb:
	Inherits: ^concrete
	Building:
		Footprint: xxx xxx xxx 
		Dimensions: 3,3
	Tooltip:
		Name: Large Concrete Slab
	Valued:
		Cost: 80
	Buildable:
		BuildPaletteOrder: 110
		Prerequisites: upgrade.conyard, ~d2k_prereq_no_tleilaxu
        BuildDuration: 25
		BuildDurationModifier: 100

OILB.d2k:
    Inherits@D2kBLD: ^D2KBuilding
	Inherits@oilb: OILB.camea
    Inherits@D2KSprite: ^D2KPaletteRender
    Buildable:
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 200
		Prerequisites: high_tech_factory, ~techlevel.medium, ~d2k_prereq_no_tleilaxu
		Description: Absorbs Spice obtained by the wind flow\nFilters out the sand\nProvides Passive income
        IconPalette: d2kunit
    Tooltip:
		Name: Spice Sifter
    Valued:
        Cost: 2500
    RenderSprites:
        Image: d2k_spice_sifter
    Power:
        Amount: -100
    Health: 
        HP: 60000
    Explodes:
		Type: Footprint
		Weapon: D2kBuildingExplode
		EmptyWeapon: D2kBuildingExplode
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 3, 5
		Range: 1c512, 2c512    
	CashTricklerMultiplier@d2k_spice_sifter_upgrade:
		Modifier: 125
		RequiresCondition: d2k_spice_sifter_upgrade
    GrantConditionOnPrerequisite@d2k_spice_sifter_upgrade:
        Condition: d2k_spice_sifter_upgrade
        Prerequisites: d2k_spice_sifter_upgrade
    GrantConditionOnDamageState@DAMAGED:
        Condition: damaged
        ValidDamageStates: Heavy, Critical
    WithIdleOverlay:
        RequiresCondition: !damaged
    -WithDeathAnimation
    -ActorPreviewPlaceBuildingPreview

construction_yard:
	Inherits@D2kBLD: ^D2KBuilding
    Inherits@shape: ^3x3Shape
	Inherits@UPGRADEABLE: ^D2kUpgradeable
    Inherits@D2KSprite: ^D2KPaletteRender
    Inherits@CPQ: ^CPQCondition    
    Inherits@Prereqs: ^D2KPrereqs   
    Inherits@ai: ^AIConyardCash
    Inherits@conyard: ^Conyard
    Inherits@promotions: ^Promotions
    Inherits@dufactionprereqs: ^DuneUniverseFactionPrereqs
	Buildable:
		Description: Produces structures.
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
        IconPalette: d2kunit
    LaysTerrain:
		Template: 856
		TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,ClearDune    
	Selectable:
		Bounds: 72,48
	Health:
		HP: 400000
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 5c768
	Production@NORMAL:
		Produces: Building.d2k, Defence.d2k
        RequiresCondition: !classicproductionqueues   
  	Production@CLASSICPRODUCTIONQUEUES:
		Produces: RABuilding.d2k, RADefence.d2k
        RequiresCondition: classicproductionqueues        
    Production@upgrade:
        Produces: Upgrade.d2k
	Valued:
		Cost: 2000
	Tooltip:
		Name: Construction Yard     
	CustomSellValue:
		Value: 2000
	SpawnActorsOnSell:
		ActorTypes: light_inf, light_inf, engineer
	BaseBuilding:   
    ProvidesPrerequisite@du_atreides:
		Prerequisite: conyard.atreides
    ProvidesPrerequisite@du_harkonnen:
		Prerequisite: conyard.harkonnen     
    ProvidesPrerequisite@du_ordos:
		Prerequisite: conyard.ordos
	ProductionBar@BUILDING:
		ProductionType: Building.d2k
        RequiresCondition: !classicproductionqueues
 	ProductionBar@RABUILDING:
		ProductionType: RABuilding.d2k   
        RequiresCondition: classicproductionqueues      
	ProductionBar@upgrade:
		ProductionType: Upgrade.d2k        
	ProductionBar@Defence:
		ProductionType: Defence.d2k        
        RequiresCondition: !classicproductionqueues        
    ProductionBar@RADefence:
		ProductionType: RADefence.d2k        
        RequiresCondition: classicproductionqueues            
	Power:
		Amount: 50
	RenderSprites:
		Image: conyard.ordos
		FactionImages:
			atreides: conyard.atreides
			fremen: conyard.atreides
            ixian: conyard.atreides
			harkonnen: conyard.harkonnen
			corrino: conyard.harkonnen
            guild: conyard.harkonnen
            emperor: conyard.harkonnen
	WithBuildingPlacedOverlay:
		RequiresCondition: !build-incomplete
		Palette: d2kunit
	ProductionQueue@normal:
		Type: Building.d2k
        Group: Building
        ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
  		LowPowerModifier: 250      
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled   
 	ProductionQueue@normaldefence:
		Type: Defence.d2k
        Group: Defence     
    	LowPowerModifier: 250    
        ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled        
	ProvidesPrerequisite@buildingname:
	GrantConditionOnPrerequisite@UPGRADEABLE:
		Prerequisites: upgrade.conyard
	RevealOnDeath:
		Radius: 5c768
    BaseProvider:
		Range: 14c0
    GivesBuildableArea:
		AreaTypes: building     
    -WithDeathAnimation:       
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 4, 6
		Range: 1c512, 3c0        
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf    
    SpawnActorOnDeath@death3:
        Actor: light_inf        
    SpawnActorOnDeath@death4:
        Actor: trooper   
    SpawnActorOnDeath@death5:
        Actor: trooper
    FreeActor@CPQDEBUGDUMMY:
        -RequiresCondition
wind_trap:
	Inherits: ^D2KBuilding
    Inherits@D2KSprite: ^D2KPaletteRender
	Buildable:
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 120
		BuildDuration: 150
		BuildDurationModifier: 100
		Description: Provides power for other structures.
        IconPalette: d2kunit      
        Prerequisites: ~d2k_prereq_no_tleilaxu
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 400
	Tooltip:
		Name: Wind Trap
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 72000
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024
    GrantConditionOnPrerequisite@Remote:
		Prerequisites: faction.mercenary
		Condition: wt_upg
    PowerMultiplier@wt_upg:
        Modifier: 125
        RequiresCondition: wt_upg       
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 3c768
	RenderSprites:
		Image: power.ordos
		FactionImages:
			atreides: power.atreides
			fremen: power.atreides
            ixian: power.atreides
			harkonnen: power.harkonnen
			corrino: power.harkonnen
            guild: power.harkonnen
            emperor: power.harkonnen
	WithIdleOverlay@ZAPS:
		RequiresCondition: !build-incomplete
		Sequence: idle-zaps
	Power:
		Amount: 400
	ScalePowerWithHealth:
	ProvidesPrerequisite@buildingname:
	RevealOnDeath:
		Radius: 3c768
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 1, 2
		Range: 1c512, 2c768  
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf        

d2k_mini_windtrap:
	Inherits: ^D2KBuilding
    Inherits@D2KSprite: ^D2KPaletteRender    
	Buildable:
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 110
		BuildDuration: 60
		BuildDurationModifier: 100
		Description: Provides power for other structures.\nTakes a lot less space than regular Wind Trap
        IconPalette: player    
        Prerequisites: ~d2k_prereq_no_tleilaxu
	Selectable:
		Bounds: 24, 24
	Valued:
		Cost: 150
	Tooltip:
		Name: Mini Wind Trap
	Building:
		Footprint: x
		Dimensions: 1,1
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 16000        
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024
    GrantConditionOnPrerequisite@Remote:
		Prerequisites: faction.mercenary
		Condition: wt_upg
    PowerMultiplier@wt_upg:
        Modifier: 125
        RequiresCondition: wt_upg       
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 3c768
	RenderSprites:
		Image: minipower.ordos
		FactionImages:
			atreides: minipower.atreides
			fremen: minipower.atreides
            ixian: minipower.atreides
			harkonnen: minipower.harkonnen
			corrino: minipower.harkonnen
            guild: minipower.harkonnen
            emperor: minipower.harkonnen
        Scale: 0.8
	WithIdleOverlay@ZAPS:
		RequiresCondition: !build-incomplete
		Sequence: idle-zaps
	Power:
		Amount: 150
	ScalePowerWithHealth:
	ProvidesPrerequisite@buildingname:
	RevealOnDeath:
		Radius: 3c768
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2
		Pieces: 1, 1
		Range: 0c512, 1c256  
    ProvidesPrerequisite@windtrap:
        Prerequisite: wind_trap
        
d2k_barracks:
	Inherits: ^D2KBuilding
	Inherits@UPGRADEABLE: ^D2kUpgradeable
    Inherits@D2KSprite: ^D2KPaletteRender
    Inherits@CPQWP: ^CPQConditionWithPrimary 
    Inherits@Prereqs: ^D2KPrereqs
	Buildable:
		Prerequisites: wind_trap, ~!faction.tleilaxu, ~!faction.fremen, ~!faction.ixian, ~!faction.mercenary, ~!faction.corrino, ~!faction.smugglers    
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 220
		BuildDuration: 200
		BuildDurationModifier: 100
		Description: Trains infantry.
        IconPalette: d2kunit      
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 400
	Tooltip:
		Name: Barracks
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 96000
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 3c768
	RallyPoint:
	Exit@1:
		SpawnOffset: 352,576,0
		ExitCell: 0,2
	Exit@2:
		SpawnOffset: 512,480,0
		ExitCell: 1,2
	Production@NORMAL:
		Produces: Infantry.d2k
        RequiresCondition: !classicproductionqueues
   	Production@CLASSICPRODUCTIONQUEUES:
		Produces: RAInfantry.d2k
        RequiresCondition: classicproductionqueues     
	ProductionQueue:
		Type: Infantry.d2k
        Group: Infantry
    	ReadyAudio: UnitReady
		BlockedAudio: NoBuild
     	LowPowerModifier: 250    
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled         
	ProductionBar@infantry:
		ProductionType: Infantry.d2k
        RequiresCondition: !classicproductionqueues
   	ProductionBar@rainfantry:
		ProductionType: RAInfantry.d2k     
        RequiresCondition: classicproductionqueues
	ProvidesPrerequisite@atreides:
		Prerequisite: barracks.atreides
	ProvidesPrerequisite@ordos:
		Prerequisite: barracks.ordos
	ProvidesPrerequisite@harkonnen:
		Prerequisite: barracks.harkonnen
	Power:
		Amount: -30
	RenderSprites:
		Image: barracks.ordos
		FactionImages:
			atreides: barracks.atreides
			fremen: barracks.atreides
			harkonnen: barracks.harkonnen
			corrino: barracks.harkonnen
            guild: barracks.harkonnen
            emperor: barracks.harkonnen
    ProvidesPrerequisite@d2kbarracks:  
        Prerequisite: d2k_barracks
    ProvidesPrerequisite@barracks:
        Prerequisite: barracks
	GrantConditionOnPrerequisite@UPGRADEABLE:
		Prerequisites: upgrade.barracks
	RevealOnDeath: 
		Radius: 3c768
    -WithDeathAnimation:
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf      
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 1, 2
		Range: 1c512, 2c768   

d2k_barracks_ixian:
    Inherits: d2k_barracks
    Buildable:
		Prerequisites: wind_trap, ~faction.ixian
        IconPalette: player                    
    RenderSprites:
        Image: barracks.ixian
        -FactionImages:

d2k_barracks_merc:
    Inherits: d2k_barracks
    Buildable:
		Prerequisites: wind_trap, ~mbarracks_prereq  
        IconPalette: player                  
    RenderSprites:
        Image: barracks.merc
        -FactionImages:

d2k_barracks_corrino:
    Inherits: d2k_barracks
    Buildable:
		Prerequisites: wind_trap, ~faction.corrino  
        IconPalette: player                 
    RenderSprites:
        Image: barracks.corrino
        -FactionImages:
        
d2k_flesh_vat:
	Inherits: ^D2KBuilding
	Inherits@UPGRADEABLE: ^D2kUpgradeable
    Inherits@CPQWP: ^CPQConditionWithPrimary 
	Buildable:
		Prerequisites: ~faction.tleilaxu, d2k_silo_tleilaxu     
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 220
		BuildDuration: 500
		BuildDurationModifier: 100
		Description: Breeds genetically modified Ghola creatures within Axlotl Tanks
        IconPalette: windows256
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 1500
	Tooltip:
		Name: Flesh Vat
  	Power:
		Amount: -25     
    D2kActorPreviewPlaceBuildingPreview:
		OverridePalette: player       
	Building:
		Footprint: x=x =xx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 108000
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 3c768
	RallyPoint:
	Exit@1:
		SpawnOffset: 352,576,0
		ExitCell: 0,2
	Exit@2:
		SpawnOffset: 512,480,0
		ExitCell: 1,2
	Production@NORMAL:
		Produces: Infantry.d2k
        RequiresCondition: !classicproductionqueues
   	Production@CLASSICPRODUCTIONQUEUES:
		Produces: RAInfantry.d2k
        RequiresCondition: classicproductionqueues     
	ProductionQueue:
		Type: Infantry.d2k
        Group: Infantry
    	ReadyAudio: UnitReady
		BlockedAudio: NoBuild
     	LowPowerModifier: 250    
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled         
	ProductionBar@infantry:
		ProductionType: Infantry.d2k
        RequiresCondition: !classicproductionqueues
   	ProductionBar@rainfantry:
		ProductionType: RAInfantry.d2k     
        RequiresCondition: classicproductionqueues
	RenderSprites:
		Image: d2k_flesh_vat
	ProvidesPrerequisite@buildingname:
	GrantConditionOnPrerequisite@UPGRADEABLE:
		Prerequisites: upgrade.barracks
	RevealOnDeath:
		Radius: 3c768
    -WithDeathAnimation:
    -WithMakeAnimation:
    SpawnActorOnDeath@death1:
        Actor: facedancer
    SpawnActorOnDeath@death2:
        Actor: facedancer   
    SpawnActorOnDeath@death3:
        Actor: facedancer     
    SpawnActorOnDeath@death4:
        Actor: facedancer          
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 1, 2
		Range: 1c512, 2c768   

d2k_tleilaxu_tech:
	Inherits: ^D2KBuilding
    Inherits@SW: ^PrimarySuperweapon
    Inherits@shape: ^3x3Shape
    Building:
		Footprint: =x= xxx =x=
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
    Buildable:
		Prerequisites: ~faction.tleilaxu, d2k_flesh_vat, !swpalace    
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 220
		BuildDuration: 1500
		BuildDurationModifier: 100
		Description: Provides upgrades and advanced technologies for Tleilaxu\nProvides Radar\nProvides superweapon
        IconPalette: windows256
    ProvidesRadar:
        RequiresCondition: !disabled && !jammed
	Selectable:
		Bounds: 72, 72
 	RevealsShroud:
		Range: 5c0   
	Valued:
		Cost: 3000
    D2kActorPreviewPlaceBuildingPreview:
		OverridePalette: player           
	Tooltip:
		Name: Center of Genetical Engineering
    Health:
		HP: 125000
    Power:
        Amount: -100
    SpawnActorPower@worm:
		PauseOnCondition: disabled
        AllowMultiple: True
		OrderName: sandworm
        Icon: wormicon
        IconPalette: d2kunit
		ChargeInterval: 3000
		Description: Wormsign
    	IncomingSpeechNotification: EnemyUnitsApproaching    
        DisplayTimerStances: Ally, Neutral, Enemy
		LongDesc: Summons Tamed Sandworm anywhere on the map.\nSandworm can roam around the map and swallow enemy units\nCannot swallow big targets
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
      	Prerequisites: ~faction.tleilaxu 
		Actor: sandworm_tleilaxu_summon
		SupportPowerPaletteOrder: 10      
    SpawnActorOnDeath@death1:
        Actor: facedancer
    SpawnActorOnDeath@death2:
        Actor: facedancer   
    SpawnActorOnDeath@death3:
        Actor: facedancer     
    SpawnActorOnDeath@death4:
        Actor: facedancer           
    ProvidesPrerequisite@swlimit:
        Prerequisite: swpalace
    ProvidesPrerequisite@buildingname:
    -WithMakeAnimation:
    -WithDeathAnimation:
    
refinery:
	Inherits: ^D2KBuilding
    Inherits@D2KSprite: ^D2KPaletteRender    
    Inherits@ref: ^Refinery
    Inherits@ai: ^BotMicromanageable
	Buildable:
		Prerequisites: wind_trap, ~d2k_prereq_no_tleilaxu
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 130
		BuildDuration: 375
		BuildDurationModifier: 100
		Description: Harvesters unload Spice here for processing.
        IconPalette: d2kunit   
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 1400
	Tooltip:
		Name: Spice Refinery
	Building:
		Footprint: =xx xx= ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 108000
	HitShape:
		Type: Rectangle
			TopLeft: -512, -1024
			BottomRight: 1536, 0
	HitShape@BOTTOM:
		Type: Rectangle
			TopLeft: -1536, 0
			BottomRight: 512, 1024   
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 3c768
	Refinery:
		DockAngle: 160
		DockOffset: 2,1
		TickRate: 20
	StoresResources:
		Capacity: 2000
        PipCount: 10
	CustomSellValue:
		Value: 400
	FreeActorWithDelivery@1:
		Actor: harvester
		DeliveryOffset: 2,2
		DeliveringActor: carryall.reinforce
		Facing: 160
    GrantConditionOnPrerequisite@Mercenaries:
        Condition: faction.mercenary
        Prerequisites: faction.mercenary
    RefineryResourceMultiplier@mercenaries:
        Modifier: 110
        RequiresCondition: faction.mercenary
	RenderSprites:
		Image: refinery.ordos
		FactionImages:
			atreides: refinery.atreides
			fremen: refinery.atreides
            ixian: refinery.atreides
			harkonnen: refinery.harkonnen
			corrino: refinery.harkonnen
            guild: refinery.harkonnen
            emperor: refinery.harkonnen
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: idle-top
	WithDockedOverlay@SMOKE:
		RequiresCondition: !build-incomplete
		Sequence: smoke
	Power:
		Amount: -75
	ProvidesPrerequisite@buildingname:
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3
		Pieces: 5, 8
		Range: 1c512, 2c768  
    RefineryResourceMultiplier@baseai:
        Modifier: 140
        RequiresCondition: botmicro
    -WithDeathAnimation:    
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf   
    SpawnActorOnDeath@death3:
        Actor: light_inf  
    SpawnActorOnDeath@death4:
        Actor: trooper     
        
d2k_silo:
	Inherits: ^D2KBuilding
    Inherits@D2KSprite: ^D2KPaletteRender   
	Buildable:
		Prerequisites: refinery, ~d2k_prereq_no_tleilaxu
		Queue: Defence.d2k, RADefence.d2k
		BuildPaletteOrder: 310
		BuildDuration: 156
		BuildDurationModifier: 100
		Description: Stores excess harvested Spice.
        IconPalette: d2kunit
	Selectable:
		Bounds: 32, 32
	Valued:
		Cost: 150
	Tooltip:
		Name: Storage Silo
	RequiresBuildableArea:
        AreaTypes: building
		Adjacent: 4
	Health:
		HP: 25000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 2c768
	RenderSprites:
		Image: silo.ordos
		FactionImages:
			atreides: silo.atreides
			fremen: silo.atreides
            ixian: silo.atreides
			harkonnen: silo.harkonnen
			corrino: silo.harkonnen
            guild: silo.harkonnen
            emperor: silo.harkonnen
	-WithSpriteBody:
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		Capacity: 2000
        PipCount: 10
	-SpawnActorsOnSell:
	Power:
		Amount: -15
	MustBeDestroyed:
		RequiredForShortGame: false 
	ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 3, 5
		Range: 2c0, 5c0
	RevealOnDeath:
		Radius: 2c768
    -WithDeathAnimation:
    SpawnActorOnDeath@death1:
        Actor: light_inf
        
d2k_silo_tleilaxu:
    Inherits: refinery
	Buildable:
		Prerequisites: ~faction.tleilaxu
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 130
		BuildDuration: 450
		BuildDurationModifier: 100
		Description: Workers unload Spice here for processing.\nStores excess harvested Spice.\nCan be built anywhere near Face Dancer Workers\nRearms Ammo\nRepairs Vehicles   
        IconPalette: windows256
    GrantConditionOnPrerequisite@tleilaxu:
        Condition: tleilaxu
        Prerequisites: faction.tleilaxu 
    ProvidesPrerequisite@refinery:  
        Prerequisite: refinery
    D2kActorPreviewPlaceBuildingPreview:
		OverridePalette: player      
    Building:
		Footprint: x== x== x==
		Dimensions: 3,3
    Selectable:
		Bounds: 64, 64, -48, 32
	Tooltip:
		Name: Resource Center
    ProximityExternalCondition@rearm:
        Condition: tleilaxu_rearm
        Range: 2c0
        ValidStances: Ally
    -FreeActorWithDelivery@1:
    Power:
        Amount: 250
    Valued:
        Cost: 1500
    -RenderSprites:
    RenderSprites:
        Image: d2k_resource_center
        PlayerPalette: player
    Refinery:
		TickRate: 40
    Health:
        HP: 45000
 	WithDockedOverlay@SMOKE:
		RequiresCondition: !build-incomplete
		Sequence: eat       
    StoresResources:
		Capacity: 3000
        PipCount: 15
	RequiresBuildableArea:
        AreaTypes: facedancer, building
		Adjacent: 4
    FreeActor@1:
        Actor: facedancer_harv
    FreeActor@2:
        Actor: facedancer_harv
    FreeActor@3:
        Actor: facedancer_harv
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 3, 6
		Range: 1c512, 2c768
    -WithIdleOverlay@TOP:
    -WithMakeAnimation:
    SpawnActorOnDeath@death1:
        Actor: facedancer
    SpawnActorOnDeath@death2:
        Actor: facedancer   
    SpawnActorOnDeath@death3:
        Actor: facedancer    
    RepairsUnits:
		Interval: 12
		HpPerStep: 1000
		StartRepairingNotification: Repairing
		PlayerExperience: 15    

d2k_munitions:
	Inherits: ^D2KBuilding 
    Inherits@D2KSprite: ^D2KPaletteRender     
	Buildable:
		Prerequisites: d2k_barracks, ~d2k_prereq_no_tleilaxu
		Queue: Defence.d2k, RADefence.d2k
		BuildPaletteOrder: 310
		BuildDuration: 125
		BuildDurationModifier: 100
		Description: Refills ammo to nearby units\nUnits fire faster when near (Stacks multiple times)\nExplodes upon taking critical damage\nCauses chain reaction when built close together
        IconPalette: player
	Selectable:
		Bounds: 32, 32
    D2kActorPreviewPlaceBuildingPreview:
		OverridePalette: player           
	Valued:
		Cost: 150
	Tooltip:
		Name: Munitions Silo
	RequiresBuildableArea:
        AreaTypes: building
		Adjacent: 4
	Health:
		HP: 18000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 2c768
	RenderSprites:
		Image: d2k_munitions.ordos
		FactionImages:
			atreides: d2k_munitions.atreides
			fremen: d2k_munitions.atreides
            ixian: d2k_munitions.atreides
			harkonnen: d2k_munitions.harkonnen
			corrino: d2k_munitions.harkonnen
            guild: d2k_munitions.harkonnen
            emperor: d2k_munitions.harkonnen
        Scale: 0.85    
	WithSpriteBody:
    WithMakeAnimation:
	-SpawnActorsOnSell:
	Power:
		Amount: -10
	MustBeDestroyed:
		RequiredForShortGame: false 
	ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 2, 4
		Range: 2c0, 4c0
	RevealOnDeath:
		Radius: 2c768
    -WithDeathAnimation:
    Explodes:
		Type: Footprint
		Weapon: d2k_munitions_explosion
		EmptyWeapon: d2k_munitions_explosion
    Explodes@harkonnen:
        Type: Footprint
		Weapon: d2k_munitions_explosion_h
		EmptyWeapon: d2k_munitions_explosion_h
    ProximityExternalCondition@rearm:
        Condition: tleilaxu_rearm
        Range: 2c0
        ValidStances: Ally
    ProximityExternalCondition@d2krearm:
        Condition: d2k_rearm
        Range: 3c0
        ValidStances: Ally
light_factory:
	Inherits: ^D2KBuilding
	Inherits@UPGRADEABLE: ^D2kUpgradeable
    Inherits@D2KSprite: ^D2KPaletteRender
    Inherits@CPQWP: ^CPQConditionWithPrimary 
    Inherits@Prereqs: ^D2KPrereqs 
	Buildable:
		Prerequisites: refinery, ~d2k_prereq_no_tleilaxu
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 230
		BuildDuration: 200
		BuildDurationModifier: 100
		Description: Produces light vehicles.
        IconPalette: d2kunit        
	Selectable:
		Bounds: 72, 60
	Valued:
		Cost: 600
	Tooltip:
		Name: Light Factory
	Building:
		Footprint: xxx xx= ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 108000
	HitShape:
		TargetableOffsets: -210,608,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c768
	RenderSprites:
		Image: light.ordos
		FactionImages:
			atreides: light.atreides
			fremen: light.atreides
            ixian: light.atreides
			harkonnen: light.harkonnen
			corrino: light.harkonnen
            guild: light.harkonnen
            emperor: light.harkonnen
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: idle-top
	WithProductionOverlay@WELDING:
		RequiresCondition: !build-incomplete
		Queues: Vehicle
		Sequence: production-welding
	RallyPoint:
	Exit@1:
		SpawnOffset: 544,-224,0
		ExitCell: 2,1
	Production@NORMAL:
		Produces: Vehicle.d2k
        RequiresCondition: !classicproductionqueues   
    Production@CLASSICPRODUCTIONQUEUES:
		Produces: RAVehicle.d2k
        RequiresCondition: classicproductionqueues       
	ProductionQueue:
		Type: Vehicle.d2k
        Group: Vehicle
        ReadyAudio: UnitReady
  		LowPowerModifier: 250      
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
	ProductionBar@vehicle:
		ProductionType: Vehicle.d2k
        RequiresCondition: !classicproductionqueues
   	ProductionBar@ravehicle:
		ProductionType: RAVehicle.d2k     
        RequiresCondition: classicproductionqueues
	ProvidesPrerequisite@atreides:
		Prerequisite: light.atreides
	ProvidesPrerequisite@ordos:
		Prerequisite: light.ordos
	ProvidesPrerequisite@harkonnen:
		Prerequisite: light.harkonnen
	ProvidesPrerequisite@trike:
		Prerequisite: light.trike
		Factions: atreides, fremen, harkonnen, corrino, mercenary, ixian
	ProvidesPrerequisite@raider:
		Prerequisite: light.raider
		Factions: ordos, smugglers
	ProvidesPrerequisite@buildingname:
	Power:
		Amount: -125
	GrantConditionOnPrerequisite@UPGRADEABLE:
		Prerequisites: upgrade.light
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 3, 7
		Range: 1c512, 2c768
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf   
    SpawnActorOnDeath@death3:
        Actor: light_inf    
        
heavy_factory:
	Inherits: ^D2KBuilding
	Inherits@UPGRADEABLE: ^D2kUpgradeable
    Inherits@D2KSprite: ^D2KPaletteRender    
    Inherits@CPQWP: ^CPQConditionWithPrimary 
    Inherits@Prereqs: ^D2KPrereqs
	Buildable:
		Prerequisites: refinery, ~!faction.mercenary, ~!faction.tleilaxu, ~techlevel.low
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 330
		BuildDuration: 500
		BuildDurationModifier: 100
		Description: Produces heavy vehicles.
        IconPalette: d2kunit      
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 1000
	Tooltip:
		Name: Heavy Factory
	Building:
		Footprint: _x_ xxx =xX ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 121000
	HitShape:
		TargetableOffsets: -1155,-704,0, -1365,832,0
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 1536
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c768
	RallyPoint:
	Exit@1:
		SpawnOffset: 256,192,0
		ExitCell: 0,2
	Production@NORMAL:
		Produces: Armor.d2k
        RequiresCondition: !classicproductionqueues
  	Production@CLASSICPRODUCTIONQUEUES:
		Produces: RAArmor.d2k
        RequiresCondition: classicproductionqueues      
	ProductionQueue:
		Type: Armor.d2k
        Group: Vehicle
    	ReadyAudio: UnitReady
        LowPowerModifier: 250
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled    
	ProductionBar@armor:
		ProductionType: Armor.d2k
        RequiresCondition: !classicproductionqueues
  	ProductionBar@raarmor:
		ProductionType: RAArmor.d2k      
        RequiresCondition: classicproductionqueues
	ProvidesPrerequisite@atreides:
		Prerequisite: heavy.atreides
	ProvidesPrerequisite@ordos:
		Prerequisite: heavy.ordos
	ProvidesPrerequisite@harkonnen:
		Prerequisite: heavy.harkonnen
	ProvidesPrerequisite@atreides_combat:
		Prerequisite: heavy.atreides_combat
		Factions: atreides, fremen, ixian
	ProvidesPrerequisite@ordos_combat:
		Prerequisite: heavy.ordos_combat
		Factions: ordos, mercenary
	ProvidesPrerequisite@harkonnen_combat:
		Prerequisite: heavy.harkonnen_combat
		Factions: harkonnen, corrino, guild
	ProvidesPrerequisite@missile_tank:
		Prerequisite: heavy.missile_tank
		Factions: atreides, fremen, harkonnen, corrino, mercenary
	RenderSprites:
		Image: heavy.ordos
		FactionImages:
			atreides: heavy.atreides
            ixian: heavy.atreides
			fremen: heavy.atreides
			harkonnen: heavy.harkonnen
			corrino: heavy.harkonnen
            guild: heavy.harkonnen
            emperor: heavy.harkonnen
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: idle-top
	WithProductionOverlay@WELDING:
		RequiresCondition: !build-incomplete
		Queues: Armor
		Sequence: production-welding
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	GrantConditionOnPrerequisite@UPGRADEABLE:
		Prerequisites: upgrade.heavy
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 6, 9
		Range: 1c512, 2c768  
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf   
    SpawnActorOnDeath@death3:
        Actor: trooper    
    SpawnActorOnDeath@death4:
        Actor: trooper  
        
heavy_factory_merc:
    Inherits: heavy_factory
    Tooltip:
		Name: Advanced Heavy Factory
	Health:
		HP: 145000
    RenderSprites: 
        Image: heavy.mercenary
    Buildable:
		Prerequisites: refinery, ~faction.mercenary, ~techlevel.low
        Description: Produces heavy vehicles.\nComes with Heavy Factory Upgrade
        IconPalette: player
    ProvidesPrerequisite@hvyfactory:  
        Prerequisite: heavy_factory
    ProvidesPrerequisite@missiletank:
        Prerequisite: heavy.missile_tank    
    ProvidesPrerequisite@hvyfactoryupgr:  
        Prerequisite: upgrade.heavy   
outpost:
	Inherits: ^D2KBuilding
	Inherits@IDISABLE: ^D2KDisableOnLowPowerOrPowerDown
    Inherits@D2KSprite: ^D2KPaletteRender   
	Buildable:
		Prerequisites: d2k_barracks, ~techlevel.medium, ~d2k_prereq_no_tleilaxu, ~techlevel.low
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 320
		BuildDuration: 312
		BuildDurationModifier: 100
		Description: Provides a radar map of the battlefield.\n  Requires power to operate.
        IconPalette: d2kunit
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 750
	Tooltip:
		Name: Outpost
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 108000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024
	Armor:
		Type: Wood
    EnemyWatcher:
        ScanInterval: 60
        NotificationInterval: 600      
	ExternalCondition@JAMMED:
		Condition: jammed
	RevealsShroud:
		Range: 5c768
	ProvidesRadar:
		RequiresCondition: !disabled && !jammed
	RenderSprites:
		Image: outpost.ordos
		FactionImages:
			atreides: outpost.atreides
			fremen: outpost.atreides
            ixian: outpost.atreides
			harkonnen: outpost.harkonnen
			corrino: outpost.harkonnen
            guild: outpost.harkonnen
            emperor: outpost.harkonnen
	WithIdleOverlay@DISH:
		RequiresCondition: !build-incomplete && !severe-damaged
		Sequence: idle-dish
		PauseOnCondition: disabled
        Offset: -30,-60,0
	GrantConditionOnDamageState@STOPDISH:
		Condition: severe-damaged
	Power:
		Amount: -125
	ProvidesPrerequisite@buildingname:
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 5, 9
		Range: 1c512, 2c768 
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf  
        
starport:
  	Inherits: ^D2KBuilding
    Inherits@D2KSprite: ^D2KPaletteRender    
    Inherits@CPQWP: ^CPQConditionWithPrimary 
    Inherits@Prereqs: ^D2KPrereqs
	Tooltip:
		Name: Starport
	Buildable:
		Prerequisites: heavy_factory, outpost, ~techlevel.high, ~!faction.ixian, ~!faction.smugglers, ~!faction.tleilaxu,~!faction.corrino
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 530
		BuildDuration: 1125
		BuildDurationModifier: 100
		Description: Dropzone for quick reinforcements, at a price.
        IconPalette: d2kunit    
	Valued:
		Cost: 1500
	Building:
		Footprint: xxx x=x =x=
		Dimensions: 3,3
	Selectable:
		Bounds: 96,96
	Health:
		HP: 121000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 512
	HitShape@BOTTOM:
		Type: Rectangle
			TopLeft: -512, 512
			BottomRight: 512, 1536
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 3c768
	RallyPoint:
	Exit@1:
		SpawnOffset: 0,-480,0
		ExitCell: 2,2
	Exit@2:
		SpawnOffset: 0,-480,0
		ExitCell: 0,2
	ProductionAirdrop@NORMAL:
		Produces: Starport.d2k
		ActorType: frigate
        PauseOnCondition: lowpower
        RequiresCondition: !classicproductionqueues
  	ProductionAirdrop@CLASSICPRODUCTIONQUEUES:
		Produces: RAStarport.d2k
		ActorType: frigate
        PauseOnCondition: lowpower  
        RequiresCondition: classicproductionqueues
    ProductionQueue:
        Type: Starport.d2k
        Group: Aircraft
        ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled     
	RenderSprites:
		Image: starport.ordos
		FactionImages:
			atreides: starport.atreides
			fremen: starport.atreides
            ixian: starport.atreides
			harkonnen: starport.harkonnen
            guild: starport.harkonnen
            emperor: starport.harkonnen
	WithDeliveryOverlay:
		RequiresCondition: !build-incomplete
		Palette: starportlights
	ProductionBar@NORMAL:
		ProductionType: Starport.d2k
        RequiresCondition: !classicproductionqueues
 	ProductionBar@CLASSICPRODUCTIONQUEUES:
		ProductionType: RAStarport.d2k
        RequiresCondition: classicproductionqueues       
	ProvidesPrerequisite@atreides:
		Prerequisite: starport.atreides
		Factions: atreides
	ProvidesPrerequisite@ordos:
		Prerequisite: starport.ordos
		Factions: ordos
	ProvidesPrerequisite@harkonnen:
		Prerequisite: starport.harkonnen
		Factions: harkonnen
	ProvidesPrerequisite@atreides_combat:
		Prerequisite: starport.atreides_combat
		Factions: atreides, fremen
	ProvidesPrerequisite@ordos_combat:
		Prerequisite: starport.ordos_combat
		Factions: ordos, smugglers, mercenary
	ProvidesPrerequisite@harkonnen_combat:
		Prerequisite: starport.harkonnen_combat
		Factions: harkonnen, corrino
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 5, 8
		Range: 1c512, 2c768
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf    
        
starport_smuggler:
    Inherits: starport   
    Tooltip:
		Name: Advanced Starport
    RenderSprites:
		Image: starport.smuggler
   	Health:
		HP: 121000     
    Buildable:
		Prerequisites: heavy_factory, outpost, research_centre, ~techlevel.high, ~faction.smugglers
      	Description: Dropzone for quick reinforcements.\nEnables drop-off of supervehicles
        BuildDuration: 1500
		BuildDurationModifier: 100
        IconPalette: player
    Valued:
		Cost: 2000
   	ProvidesPrerequisite@itself:
        Prerequisite: starport
    Power:
        Amount: -250 
       
starport_corrino:
    Inherits: starport_smuggler   
    Tooltip:
		Name: Emperor's Starport
    RenderSprites:
		Image: starport.corrino
   	Health:
		HP: 145000
    Buildable:
		Prerequisites: heavy_factory, outpost, research_centre, ~techlevel.high, ~faction.corrino
      	Description: Dropzone for quick reinforcements.\nEnables drop-off of Corrino's Special Vehicles
        BuildDuration: 1500
        IconPalette: d2kunit
    Valued:
		Cost: 2500
wall:
    Inherits@spriteactor: ^SpriteActor
    Inherits@D2KSprite: ^D2KPaletteRender
	Interactable:
	CombatDebugOverlay:
	FrozenUnderFog:
	ScriptTriggers:
	OwnerLostAction:
		Action: ChangeOwner
	Buildable:
		Queue: Defence.d2k, RADefence.d2k
		Prerequisites: d2k_barracks, upgrade.conyard, ~techlevel.low, ~d2k_prereq_no_tleilaxu
		BuildPaletteOrder: 410
		BuildDuration: 62
		BuildDurationModifier: 100
		Description: Stop units and blocks enemy fire.
        IconPalette: d2kunit            
	Valued:
		Cost: 125
	CustomSellValue:
		Value: 0
	UpdatesPlayerStatistics:
		AddToAssetsValue: false
	Tooltip:
		Name: Concrete Wall
		GenericName: Structure
	AppearsOnRadar:
    D2kActorPreviewPlaceBuildingPreview:
		OverridePalette: playerd2k  
	Building:
		BuildSounds: CHUNG.WAV
        TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,Concrete,ClearDune
	RequiresBuildableArea:
		Adjacent: 7
        AreaTypes: building
	Health:
		HP: 26000
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 1c768
	Crushable:
		CrushClasses: wall
	BlocksProjectiles:
		Height: 512
	LineBuild:
		Range: 5
		NodeTypes: wall, turret
	LineBuildNode:
		Types: wall
	Targetable:
		TargetTypes: Ground, Structure
	WithWallSpriteBody:
	Sellable:
		SellSounds: CHUNG.WAV
	Guardable:
	Explodes:
		Weapon: WallExplode
		EmptyWeapon: WallExplode
	ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 1, 2
		Range: 1c512, 2c768
	HitShape:
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	AppearsOnMapPreview:
	MapEditorData:
		Categories: Defense
	Replaceable:
		Types: Tower
        
medium_gun_turret:
	Inherits: ^D2KDefense
	Inherits@AUTOTARGET: ^AutoTargetGround
    Inherits@D2KSprite: ^D2KPaletteRender   
	Buildable:
		Queue: Defence.d2k, RADefence.d2k
		Prerequisites: d2k_barracks, ~!faction.smugglers, upgrade.barracks, ~techlevel.low, ~!faction.tleilaxu 
		BuildPaletteOrder: 550
		BuildDuration: 268
		BuildDurationModifier: 100
		Description: Defensive structure.\nDetector.\n  Strong vs Tanks\n  Weak vs Infantry, Aircraft
        IconPalette: d2kunit         
	Valued:
		Cost: 800
	Tooltip:
		Name: Gun Turret
    WithMakeAnimation:        
	RequiresBuildableArea:
		Adjacent: 4
	Selectable:
		Bounds: 32, 32
		DecorationBounds: 32, 32, 0, 0
	Health:
		HP: 45000
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 4c768
	BodyOrientation:
		QuantizedFacings: 32
	WithMuzzleOverlay:
    WithSpriteBody:
        Name: make
        Sequence: invisible
    WithMakeAnimation:
        Condition: build-incomplete
        BodyNames: make
	Turreted:
		TurnSpeed: 24
		InitialFacing: 512
		RealignDelay: -1
	Armament:
		Weapon: 110mm_Gun
		LocalOffset: 512,0,432
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect     
	Power:
		Amount: -50
	Replacement:
		ReplaceableTypes: Tower
    WithWallSpriteBody:
        RequiresCondition: !build-incomplete
    WithSpriteTurret:
        RequiresCondition: !build-incomplete
	AttackTurreted:
		RequiresCondition: !build-incomplete
	DetectCloaked:
		Range: 4c0
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 2, 4
		Range: 1c512, 2c768 
    SpawnActorOnDeath@death1:
        Actor: light_inf  
        
artillery_platform:
    Inherits: medium_gun_turret
    Buildable:
		Queue: Defence.d2k, RADefence.d2k
		Prerequisites: ~anyordos, d2k_barracks, upgrade.barracks, ~!faction.smugglers, ~!faction.tleilaxu 
        BuildPaletteOrder: 510
        Description: Defensive structure.\n  Strong vs Infantry, Vehicles, Buildings\n  Weak vs Tanks
    Health:
		HP: 32500
    Valued:
		Cost: 800
	Tooltip:
		Name: Artillery Platform
  	Armament:
		Weapon: D2K_155mm_turret
		LocalOffset: 512,0,640
		Recoil: 150
		RecoilRecovery: 19
    -DetectCloaked:
    -RenderDetectionCircle

autogun_turret:
    Inherits: medium_gun_turret
    Buildable:
		Queue: Defence.d2k, RADefence.d2k
		Prerequisites: ~autogun_prereq, d2k_barracks, upgrade.barracks
        BuildPaletteOrder: 510
        Description: Defensive structure.\n  Strong vs Infantry, Vehicles, Buildings\n  Weak vs Tanks
        IconPalette: chrome
    Health:
		HP: 35000
    Valued:
		Cost: 800
	Tooltip:
		Name: Autogun Turret
	Armament:
		Weapon: autogun_turret
		LocalOffset: 500,-150,400, 500,150,400
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect  
    -DetectCloaked:
    WithSpriteTurret:
        Palette: player
        IsPlayerPalette: True
    -RenderDetectionCircle
    
machine_gun_turret:
    Inherits: medium_gun_turret
    Buildable:
    	Queue: Defence.d2k, RADefence.d2k
		Prerequisites: ~anyatreides, d2k_barracks, ~!faction.fremen
        BuildPaletteOrder: 510
        Description: Defensive structure.\nDetector.\n  Strong vs Infantry\n  Weak vs Tanks     
    Health:
		HP: 42500
    -WithSpriteTurret:    
    WithMuzzleOverlay:
    -WithMakeAnimation
    Valued:
		Cost: 600
	Tooltip:
		Name: Machine Gun Turret
	Armament:
		Weapon: HMG_turret
		LocalOffset: 256,0,576
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect    
        
flame_turret:
    Inherits: medium_gun_turret  
    Buildable:
        Queue: Defence.d2k, RADefence.d2k
        Prerequisites: ~anyharkonnen, d2k_barracks
        BuildPaletteOrder: 510    
        Description: Defensive structure.\nDetector.\n  Strong vs Infantry, Vehicles, Tanks\n  Weak vs Siege
    Health:
		HP: 40000
    -WithSpriteTurret:   
	WithMuzzleOverlay:    
    Valued:
		Cost: 700
	Tooltip:
		Name: Flame Turret
  	Armament:
		Weapon: d2kFlameTurret
        
storm_lasher:
    Inherits: medium_gun_turret  
    Building:
		Footprint: xx xx
		Dimensions: 2,2
    Buildable:
        Queue: Defence.d2k, RADefence.d2k
        Prerequisites: ~anyatreides, ~faction.ixian, research_centre, high_tech_factory
        BuildPaletteOrder: 750    
        Description: Advanced Defensive structure.\nLong reload with huge range and impact\nDetector.\n  Strong vs Infantry, Vehicles, Tanks\n  Weak vs Siege
        IconPalette: player
        BuildDuration: 1000
        BuildDurationModifier: 100
    Health:
		HP: 72000
    -WithSpriteTurret:   
    -WithWallSpriteBody:
    WithSpriteBody:
        Sequence: idle
	WithMuzzleOverlay:    
    WithMakeAnimation:
    Valued:
		Cost: 2500
	Tooltip:
		Name: Storm Lasher
    -WithMuzzleOverlay
  	Armament:
		Weapon: d2kStormLasher
        -MuzzleSequence
    WithIdleOverlay@lasher:
        Sequence: idle-overlay
        RequiresCondition: !build-incomplete && !severe-damaged
	GrantConditionOnDamageState@stoplasher:
		Condition: severe-damaged
    Power:
        Amount: -120
large_gun_turret:
	Inherits: ^D2KDefense
	Inherits@IDISABLE: ^D2KDisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetAll
    Inherits@D2KSprite: ^D2KPaletteRender   
	AttackTurreted:
		PauseOnCondition: disabled
	Buildable:
		Queue: Defence.d2k, RADefence.d2k
		Prerequisites: outpost, heavy_factory, ~techlevel.medium, ~d2k_prereq_no_tleilaxu
		BuildPaletteOrder: 610
		BuildDuration: 312
		BuildDurationModifier: 100
		Description: Defensive structure.\nDetector.\n  Strong vs Infantry, Aircraft\n  Weak vs Tanks\n\n  Requires power to operate.
        IconPalette: d2kunit         
	Valued:
		Cost: 1000
	Tooltip:
		Name: Rocket Turret
	RequiresBuildableArea:
		Adjacent: 4
	Selectable:
		Bounds: 32, 32
		DecorationBounds: 32, 32, 0, 0
	Health:
		HP: 54000
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 5c768
	BodyOrientation:
		QuantizedFacings: 32
	Armament:
		Weapon: D2K_TowerMissile
		LocalOffset: 256,384,768, 256,-384,768
	Turreted:
		TurnSpeed: 32
		InitialFacing: 512
		RealignDelay: -1
	Power:
		Amount: -60
    WithWallSpriteBody:
        RequiresCondition: !build-incomplete
    WithSpriteTurret:        
    WithSpriteBody:
        Name: make
        Sequence: invisible
    WithMakeAnimation:
        Condition: build-incomplete
        BodyNames: make
	RevealOnDeath:
		Radius: 5c768
	Replacement:
		ReplaceableTypes: Tower
	AttackTurreted:
		RequiresCondition: !build-incomplete
	DetectCloaked:
		Range: 6c0
    -WithDeathAnimation:       
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 3, 5
		Range: 1c512, 2c768
    SpawnActorOnDeath@death1:
        Actor: light_inf
        
d2k_mine_ap:
	Inherits: ^D2KMine
	Buildable:
        Queue: Defence.d2k, RADefence.d2k
		BuildPaletteOrder: 60
		BuildDuration: 150
		Prerequisites: d2k_barracks, ~faction.smugglers, ~techlevel.low
		Description: Defensive structure. Explodes when an enemy unit moves over it.\n  Strong vs Infantry\n  Weak vs Tanks\n\n  Invisible to enemy.
	    IconPalette: d2kunit     
    Valued:
		Cost: 125
	Tooltip:
		Name: Anti-Personnel Mine
	Explodes:
		Weapon: D2KAPMine
		EmptyWeapon: D2KAPMine
   	ActorPreviewPlaceBuildingPreview:
		OverridePalette: placebuilding 
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 2, 4
		Range: 1c512, 2c768   
    RenderSprites:
        Scale: 0.6   
        
d2k_sandworm_tower:
	Inherits: ^Defense
	Inherits@AUTOTARGET: ^AutoTargetAll
    Inherits@shape: ^1x1Shape         
	Selectable:
		Bounds: 30,40
	Valued:
		Cost: 1200
	Tooltip:
		Name: Tamed Sandworm 
	Buildable:
		BuildPaletteOrder: 4
		Prerequisites: d2k_flesh_vat, ~faction.tleilaxu, ~techlevel.medium
		Queue: Defence.d2k, RADefence.d2k
        BuildDurationModifier: 50
        BuildDuration: 1250
		Description: Universal Base Defence\nCan burrow to reposition or swallow enemy units\nCannot swallow large units
	Building:
    	Footprint: xx
		Dimensions: 2,1
    Armor:
		Type: Wood
    -RenderDetectionCircle:     
	Health:
		HP: 72000
	RevealsShroud:
		Range: 12c0
	Turreted:
		TurnSpeed: 8
		InitialFacing: 0
	WithSpriteBody:
    WithSpriteTurret:
     -MustBeDestroyed:    
    -WithDeathAnimation:
    -WithMakeAnimation:
    AutoTarget:
		InitialStance: AttackAnything
		ScanRadius: -1
	Armament:
		Weapon: d2k_sandworm_electricity
		LocalOffset: 1200,0,0
	AttackTurreted:
		RequiresCondition: !build-incomplete && !lowpower
	Power:
		Amount: 0
	BodyOrientation:
		QuantizedFacings: 8
   	Transforms:
		IntoActor: sandworm_tleilaxu
		Offset: -1,-1
		TransformSounds: BUILD1.WAV
   		Facing: 64     
		NoTransformNotification: BuildingCannotPlaceAudio     
        
d2k_mine_at:
	Inherits: ^D2KMine
	Buildable:
    	Queue: Defence.d2k, RADefence.d2k
		BuildPaletteOrder: 70
		BuildDuration: 200
		Prerequisites: d2k_barracks, ~faction.smugglers, ~techlevel.medium
		Description: Defensive structure. Explodes when an enemy unit moves over it.\n  Strong vs Tanks\n  Weak vs Infantry\n\n  Invisible to enemy.
	    IconPalette: d2kunit     
    Valued:
		Cost: 200
	Tooltip:
		Name: Anti-Tank Mine
	Explodes:
		Weapon: D2KATMine
		EmptyWeapon: D2KATMine
    ActorPreviewPlaceBuildingPreview:
		OverridePalette: placebuilding   
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 3, 5
		Range: 1c512, 2c768  
    RenderSprites:
        Scale: 0.8
        
repair_pad:
	Inherits: ^D2KBuilding
    Inherits@D2KSprite: ^D2KPaletteRender    
	Buildable:
		Queue: Building.d2k, RABuilding.d2k
		Prerequisites: heavy_factory, ~techlevel.low, ~d2k_prereq_no_tleilaxu
		BuildPaletteOrder: 430
		BuildDuration: 375
		BuildDurationModifier: 100
		Description: Repairs vehicles.\n Allows construction of MCVs
        IconPalette: d2kunit       
	Valued:
		Cost: 800
	Tooltip:
		Name: Repair Pad
	Building:
		Footprint: +++ +++ +++
		Dimensions: 3,3
	Health:
		HP: 108000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	HitShape@TOPANDBOTTOM:
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, 1536
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 3c768
	Selectable:
		Bounds: 72, 72
	Reservable:
	RepairsUnits:
		Interval: 10
		HpPerStep: 800
		StartRepairingNotification: Repairing
        FinishRepairingNotification: Repaired
		PlayerExperience: 15
	RallyPoint:
	RenderSprites:
		Image: repair_pad.gold
		FactionImages:
			atreides: repair_pad.atreides
			fremen: repair_pad.atreides
            ixian: repair_pad.atreides
			harkonnen: repair_pad.dark
			corrino: repair_pad.dark
            guild: repair_pad.dark
            emperor: repair_pad.dark
	WithRepairOverlay:
		RequiresCondition: !build-incomplete
		Palette: effect75alpha
	Power:
		Amount: -50
	ProvidesPrerequisite@buildingname:
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 4, 6
		Range: 1c512, 2c768  
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf        
        
high_tech_factory:
	Inherits: ^D2KBuilding
	Inherits@UPGRADEABLE: ^D2kUpgradeable
    Inherits@D2KSprite: ^D2KPaletteRender    
    Inherits@CPQWP: ^CPQConditionWithPrimary 
    Inherits@orni: ^DU_OrnithopterSupportPower
	Buildable:
		Prerequisites: outpost, ~techlevel.medium, ~d2k_prereq_no_tleilaxu
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 420
		BuildDuration: 468
		BuildDurationModifier: 100
		Description: Unlocks advanced technology.\nAllows production of Air units
        IconPalette: d2kunit      
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 1150
	Tooltip:
		Name: High Tech Factory
	ProductionFromMapEdge@NORMAL:
		Produces: Aircraft.d2k
        RequiresCondition: !classicproductionqueues
    ProductionFromMapEdge@CLASSICPRODUCTIONQUEUES:
		Produces: RAAircraft.d2k    
        RequiresCondition: classicproductionqueues
	ProductionBar@NORMAL:
		ProductionType: Aircraft.d2k
        RequiresCondition: !classicproductionqueues
  	ProductionBar@CLASSICPRODUCTIONQUEUES:
		ProductionType: RAAircraft.d2k  
        RequiresCondition: classicproductionqueues   
	ProductionQueue:
		Type: Aircraft.d2k
        Group: Aircraft
        ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
        LowPowerModifier: 250
		CancelledAudio: Cancelled     
	Exit:
		SpawnOffset: 0,0,728
		ExitCell: 0,0
	Building:
		Footprint: _X_ xxx XXX ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 108000
	HitShape:
		TargetableOffsets: -1312,0,0, -1312,-1024,0, -1312,1024,0
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 1536
	HitShape@TOP:
		TargetableOffsets: 1280,0,0
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c768
    RallyPoint:      
	RenderSprites:
		Image: hightech.ordos
		FactionImages:
			atreides: hightech.atreides
			fremen: hightech.atreides
            ixian: hightech.atreides
			harkonnen: hightech.harkonnen
			corrino: hightech.harkonnen
            guild: hightech.harkonnen
            emperor: hightech.harkonnen
	WithProductionOverlay@WELDING:
		RequiresCondition: !build-incomplete
		Queues: Aircraft
		Sequence: production-welding
  	ProvidesPrerequisite@upgrade3:
		Prerequisite: hightech.harkonnen
		Factions: harkonnen, corrino, guild     
	ProvidesPrerequisite@upgrade:
		Prerequisite: hightech.atreides
		Factions: atreides, ixian, fremen
   	ProvidesPrerequisite@upgrade2:
		Prerequisite: hightech.ordos
		Factions: ordos, mercenary, smugglers, tleilaxu     
	ProvidesPrerequisite@buildingname:	
    ChronoshiftPower@chronoshift:
		OrderName: Chronoshift
		Prerequisites: faction.guild
		PauseOnCondition: lowpower
		Icon: chrono
		ChargeInterval: 1500
		Description: Teleportation
		LongDesc: Teleports a large group of units\nacross the map.
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		#BeginChargeSpeechNotification: ChronosphereCharging
		#EndChargeSpeechNotification: ChronosphereReady
		EndChargeSound: schropen.wav
		Range: 2
		Duration: 0
		KillCargo: False
		DisplayRadarPing: True
		SelectionCursor: ability
		TargetCursor: ability
		LaunchSound: d2k_teleport.wav
		IncomingSound: d2k_teleport.wav
	Power:
		Amount: -75
	GrantConditionOnPrerequisite@UPGRADEABLE:
		Prerequisites: upgrade.hightech
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 7, 10
		Range: 1c512, 2c768  
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf     
    SpawnActorOnDeath@death3:
        Actor: light_inf
    SpawnActorOnDeath@death4:
        Actor: trooper
        
research_centre:
	Inherits: ^D2KBuilding
    Inherits@D2KSprite: ^D2KPaletteRender  
    Inherits@CPQ: ^CPQCondition
	Buildable:
		Queue: Building.d2k, RABuilding.d2k
		Prerequisites: outpost, heavy_factory, upgrade.heavy, ~techlevel.medium, ~d2k_prereq_no_tleilaxu
		BuildPaletteOrder: 520
		BuildDuration: 312
		BuildDurationModifier: 100
		Description: Ixian Research Center\nUnlocks advanced tanks.
        IconPalette: d2kunit     
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 1000
	Tooltip:
		Name: Ix Research Center
	Building:
		Footprint: _X_ xxx XXX ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 108000
	HitShape:
		TargetableOffsets: -1574,-158,0, -1050,-1024,0, -1155,960,0
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 1536
	HitShape@TOP:
		TargetableOffsets: 1312,0,0
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c768
	RenderSprites:
		Image: research.gold
		FactionImages:
			atreides: research.atreides
			fremen: research.atreides
            ixian: research.atreides
			harkonnen: research.corrino
			corrino: research.corrino
            guild: research.corrino
            emperor: research.corrino
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !build-incomplete
		Sequence: idle-lights
	Power:
		Amount: -175
	ProvidesPrerequisite@buildingname:
        RequiresCondition: !ixdisable
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 8, 12
		Range: 1c512, 2c768     
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf     
    SpawnActorOnDeath@death3:
        Actor: light_inf
    SpawnActorOnDeath@death4:
        Actor: trooper     
 	Production:
		Produces: Research.d2k
	ProductionBar:
		ProductionType: Research.d2k
    FreeActor@CPQDEBUGDUMMY:
        -RequiresCondition
        
^Guild_teleport:
    PortableChrono:
        ChronoshiftSound: d2k_teleport.wav
        CircleColor: FF0000
        CircleBorderColor: B00000
        TargetLineColor: FF0000
        MaxDistance: 12
        ChargeDelay: 225
        TargetCursor: ability
palace:
	Inherits: ^D2KBuilding
	Inherits@IDISABLE: ^D2KDisableOnLowPowerOrPowerDown
    Inherits@D2KSprite: ^D2KPaletteRender    
    Inherits@SW: ^PrimarySuperweapon
	Buildable:
		Prerequisites: research_centre, ~techlevel.high, ~du_palace, !swpalace
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 620
		BuildDuration: 937
		BuildDurationModifier: 100
		Description: Unlocks elite infantry and weapons.\nProvides Passive Income\nCan be only built once.
        IconPalette: d2kunit       
	Selectable:
		Bounds: 72, 72
	Valued:
		Cost: 1600
	Tooltip:
		Name: Palace
	Building:
		Footprint: xx= xxx =xx
		Dimensions: 3,3
	Health:
		HP: 121000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 512, -512
	HitShape@BOTTOM:
		Type: Rectangle
			TopLeft: -512, 512
			BottomRight: 1536, 1536
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 4c768
	RenderSprites:
		Image: palace.ordos
		FactionImages:
			atreides: palace.atreides
			fremen: palace.atreides
            ixian: palace.atreides
			harkonnen: palace.harkonnen
			corrino: palace.corrino
            guild: palace.harkonnen
	WithNukeLaunchOverlay:
		RequiresCondition: !build-incomplete && !launchpad-damaged && harkonnen
	GrantConditionOnDamageState@LAUNCHPADDAMAGED:
		Condition: launchpad-damaged
	Power:
		Amount: -200
    ProvidesPrerequisite@swlimit:
		Prerequisite: swpalace       
	#ProductionQueue:
	#	RequiresCondition: atreides || ordos
    SupportPowerChargeBar:
	NukePower:
		Cursor: nuke
		Icon: deathhand
        IconPalette: d2kunit   
		PauseOnCondition: disabled
		Prerequisites: ~techlevel.superweapons, ~faction.harkonnen
		ChargeInterval: 4500
		Description: Death Hand
		LongDesc: Launches an atomic missile at a target location
		SelectTargetSpeechNotification: SelectTarget
		BeginChargeSpeechNotification: DeathHandCharging
        InsufficientPowerSpeechNotification: InsufficientPower
        EndChargeSpeechNotification: DeathHandAvailable
		LaunchSpeechNotification: NuclearWeaponLaunched
		IncomingSpeechNotification: NuclearWarheadApproaching
		MissileWeapon: deathhand
		MissileDelay: 18
        MissilePalette: d2kunit          
        TrailPalette: d2kunit
		SpawnOffset: 32,816,0
		DetonationAltitude: 3c0
		RemoveMissileOnDetonation: False
        AllowMultiple: True
		DisplayBeacon: True
		DisplayRadarPing: True
        DisplayTimerStances: Ally, Neutral, Enemy
		CameraRange: 10c0
		ArrowSequence: arrow
		CircleSequence: circles
		FlightVelocity: 384
		TrailInterval: 0
		TrailImage: large_trail
		TrailSequences: idle
		SupportPowerPaletteOrder: 40
        OrderName: deathhand
	ProduceActorPowerCA@atrfremen:
		Description: Hire Fremen Guerillas
		LongDesc: Fast Elite infantry units armed with assault rifles and machine guns. When grouped, they can take down buildings extremely quickly\n  Strong vs Buildings\n  Weak vs Infantry, Vehicles\n  Special Ability: Invisibility
		Icon: fremeng
        IconPalette: d2kunit         
        AllowMultiple: True
		PauseOnCondition: disabled
		Prerequisites: ~techlevel.superweapons, ~faction.atreides
		Actors: fremeng, fremeng, fremeng
		Type: Fremen
		ChargeInterval: 1500
        AutoFire: true
		OrderName: callatrfremen
		SupportPowerPaletteOrder: 20
        LaunchSound: A_FSEL1.AUD
    DetonateWeaponPower@fremen:
		OrderName: GDI Drop
		Cursor: ability
		PauseOnCondition: lowpower
		Icon: fremen
		Description: Desert Phantoms
		LongDesc: Deploys 8 Desert Phantoms anywhere on map
		InsufficientPowerSpeechNotification: InsufficientPower
		LaunchSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
        DisplayBeacon: True
		DisplayRadarPing: True
        DisplayTimerStances: Ally, Neutral, Enemy
		ChargeInterval: 6000
        IncomingSpeechNotification: EnemyUnitsApproaching
		Weapon: DesertPhantomsSpawn
		CameraActor: camera.small
        IconPalette: windows256
		CameraRemoveDelay: 60
        AllowMultiple: True
        Prerequisites: ~techlevel.superweapons, ~faction.fremen    
    IonCannonPower:
        OrderName: chaoslightning 
        Weapon: d2k_chaos_lightning
		AllowMultiple: true
		Prerequisites: ~techlevel.superweapons, ~faction.ordos
        Icon: d2k_chaos_lightning_icon
        IconPalette: ra2
		Cursor: ioncannon
        Effect: d2k_chaos_effect
        EffectPalette: alpha75
		ChargeInterval: 6000
		Description: Chaos Lightning
		LongDesc: Strikes enemy with Powerful Lightning Strike which deals damage and temporarily causes chaos making units attack each other
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		OnFireSound: ion1.aud
		DisplayRadarPing: True
		DisplayTimerStances: Ally, Neutral, Enemy
		CameraActor: camera
		CameraRemoveDelay: 100
	ProduceActorPowerCA@saboteur:
		Description: Recruit Saboteur
		LongDesc: Sneaky stealth infantry that can infiltrate safely, armed with explosives that can be attached to vehicles and buildings\n  Strong vs Buildings\n  Weak vs Everything\n  Special Abilities: Destroy Buildings, Invisibility
		Icon: saboteur
        AllowMultiple: True
        IconPalette: d2kunit      
		PauseOnCondition: disabled
        AutoFire: true
		Prerequisites: ~techlevel.superweapons, ~faction.ordos
		Actors: saboteur
		Type: Saboteur
		ChargeInterval: 2250
		OrderName: callsaboteur
		SupportPowerPaletteOrder: 30
        LaunchSound: O_SCONF1.AUD
    Exit@1:
		SpawnOffset: -704,768,0
		ExitCell: -1,2
	Exit@2:
		SpawnOffset: -704,768,0
		ExitCell: -1,3
	Exit@3:
		SpawnOffset: -704,768,0
		ExitCell: 0,3
    GrantConditionOnPrerequisite@ATREIDES:
        Condition: atreides
        Prerequisites: faction.atreides
    GrantConditionOnPrerequisite@ORDOS:
        Condition: ordos
        Prerequisites: faction.ordos    
	Production@Atreides:
		Produces: Fremen
		RequiresCondition: atreides
	Production@Ordos:
		Produces: Saboteur
		RequiresCondition: ordos
	SupportPowerChargeBar:
		RequiresCondition: atreides || harkonnen || ordos
	ProvidesPrerequisite@buildingname:
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3
		Pieces: 8, 14
		Range: 1c512, 2c768  
    SpawnActorOnDeath@death1:
        Actor: trooper
    SpawnActorOnDeath@death2:
        Actor: trooper     
    SpawnActorOnDeath@death3:
        Actor: trooper
    SpawnActorOnDeath@death4:
        Actor: trooper   
        
palace_emperor:
    Inherits: ^D2KBuilding
	Inherits@IDISABLE: ^D2KDisableOnLowPowerOrPowerDown
    Inherits@D2KSprite: ^D2KPaletteRender  
    Inherits@SW: ^PrimarySuperweapon    
    Buildable:
		Prerequisites: research_centre, ~techlevel.high, ~faction.corrino, !swpalace
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 620
		BuildDuration: 937
		BuildDurationModifier: 100
		Description: Trains Emperor's Elite Sardaukars.\nProvides Passive Income\nMakes all infantry trained elite\nProvides discount for Sardaukars\nCan be only built once.
        IconPalette: d2kunit  
	Selectable:
		Bounds: 72, 72
    Power:
		Amount: -250
	ProvidesPrerequisite@buildingname:
    -WithDeathAnimation:
    ProvidesPrerequisite@swlimit:
		Prerequisite: swpalace 
    UpdatesDerrickCount:
	Valued:
		Cost: 3000
	Tooltip:
		Name: Emperor's Palace
	Building:
		Footprint: xx= xxx =xx
		Dimensions: 3,3
	Health:
		HP: 145000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 512, -512
	HitShape@BOTTOM:
		Type: Rectangle
			TopLeft: -512, 512
			BottomRight: 1536, 1536
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 4c768
	RenderSprites:
		Image: palace.corrino
   	DetonateWeaponPower@sardaukar:
		OrderName: GDI Drop
		Cursor: ability
		PauseOnCondition: lowpower
		Icon: sardaukar_icon 
		Description: Release the Sardaukars
		LongDesc: Deploys Corrino's Sardaukars from orbit to decimate your enemies.\nDrop Pods damages area around\nProvides passive income
		InsufficientPowerSpeechNotification: InsufficientPower
		LaunchSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
        DisplayBeacon: True
		DisplayRadarPing: True
        DisplayTimerStances: Ally, Neutral, Enemy
		ChargeInterval: 6000
        IncomingSpeechNotification: EnemyUnitsApproaching
		Weapon: SardaukarDroppodSpawner
		CameraActor: camera.small
        IconPalette: d2kunit
		CameraRemoveDelay: 60
        AllowMultiple: True
        Prerequisites: ~techlevel.superweapons, ~faction.corrino
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3
		Pieces: 9, 15
		Range: 1c512, 2c768   
    SpawnActorOnDeath@death1:
        Actor: mpsardaukar
    SpawnActorOnDeath@death2:
        Actor: mpsardaukar     
    SpawnActorOnDeath@death3:
        Actor: mpsardaukar
    SpawnActorOnDeath@death4:
        Actor: mpsardaukar   
    SpawnActorOnDeath@death5:
        Actor: mpsardaukar     
    CashTrickler:
		Interval: 150
		Amount: 50  

golden_lion_throne:
    Inherits: palace_emperor
    Valued:
		Cost: 2000
    -ProvidesPrerequisite@swlimit
    Buildable:
		Prerequisites: research_centre, ~techlevel.high, ~faction.emperor
        Description: Provides Death before Dishonor Support Power and passive income
        BuildLimit: 1
 	RenderSprites:
		Image: golden_lion_throne   
        Scale: 0.85
 	Tooltip:
		Name: Golden Lion Throne
 	Building:
		Footprint: xxx= xxxx =xxx
		Dimensions: 4,3       
    -DetonateWeaponPower@sardaukar
    SpawnActorOnDeath@death1:
        Actor: emperor_sardaukar
    SpawnActorOnDeath@death2:
        Actor: emperor_sardaukar     
    SpawnActorOnDeath@death3:
        Actor: emperor_sardaukar
    SpawnActorOnDeath@death4:
        Actor: emperor_sardaukar   
    SpawnActorOnDeath@death5:
        Actor: emperor_sardaukar      
   	DetonateWeaponPower@elitesardaukar:
		OrderName: GDI Drop
		Cursor: ability
		PauseOnCondition: lowpower
		Icon: sardaukar_elite_icon 
		Description: Death before Dishonor
		LongDesc: Deploys Corrino's Sardaukar Juggernauts and Chief from orbit to devastate your enemies.\nDrop Pods damages area around heavily and stuns everything around\nSardaukar Chief can plant C4 and jams enemy radar
		InsufficientPowerSpeechNotification: InsufficientPower
		LaunchSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
        DisplayBeacon: True
		DisplayRadarPing: True
        DisplayTimerStances: Ally, Neutral, Enemy
		ChargeInterval: 9000
        IncomingSpeechNotification: EnemyUnitsApproaching
		Weapon: SardaukarEliteDroppodSpawner
		CameraActor: camera.small
		CameraRemoveDelay: 60
        AllowMultiple: True
        Prerequisites: ~techlevel.superweapons, ~faction.emperor
    
d2k_command_center:
    Inherits: ^D2KBuilding
	Inherits@IDISABLE: ^D2KDisableOnLowPowerOrPowerDown
    Inherits@SW: ^PrimarySuperweapon  
    Inherits@D2KSprite: ^D2KPaletteRender      
    Buildable:
		Prerequisites: research_centre, ~techlevel.high, ~faction.mercenary, !swpalace
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 620
		BuildDuration: 1000
		BuildDurationModifier: 100
		Description: Allows to call reinforcements and special powers for Mercenaries\nProvides Passive Income
        IconPalette: player  
	Selectable:
		Bounds: 72, 72
    Power:
		Amount: -200
	ProvidesPrerequisite@buildingname:
    -WithDeathAnimation:
    ProvidesPrerequisite@swlimit:
		Prerequisite: swpalace 
	Valued:
		Cost: 2000           
	Tooltip:
		Name: Command Center
	Building:
		Footprint: xx= xxx =xx
		Dimensions: 3,3
	Health:
		HP: 145000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 512, -512
	HitShape@BOTTOM:
		Type: Rectangle
			TopLeft: -512, 512
			BottomRight: 1536, 1536
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 4c768
	RenderSprites:
		Image: d2k_command_center
        Scale: 0.85
   	GrantExternalConditionPower@Bounty:
		OrderName: CashBounty3
		Icon: glabounty3
		ChargeInterval: 4500
		Description: Bounty Hunting
		LongDesc: Places Bounty on selected targets giving up to 40% of their total value\nupon being killed or destroyed.
		Range: 7
		Duration: 375
		SelectTargetSpeechNotification: SelectTarget
		DisplayRadarPing: True
		Condition: glabounty3
		ValidStances: Enemy, Neutral
		Prerequisites: faction.mercenary
		StartFullyCharged: false        
    ParatroopersPower@merc1:
		PauseOnCondition: lowpower
        AllowMultiple: True
	    OrderName: mercenary_1
		Icon: mercenary_1_icon 
        IconPalette: d2kunit
		ChargeInterval: 4500
		Description: Strike Team Paradrop I
		LongDesc: Carryall planes drops a Small Mercenary strike team\nanywhere on the map.
		DropItems: submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, trooper, trooper
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		Prerequisites: ~techlevel.superweapons, ~!d2k_striketeam2, ~!d2k_striketeam3, ~faction.mercenary
        QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clocklarge
		UnitType: carryall.paradrop
		SquadSize: 3
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: airstrikedirection
		StartFullyCharged: false 
      	IncomingSpeechNotification: EnemyUnitsApproaching  
    ParatroopersPower@merc2:
		PauseOnCondition: lowpower
        AllowMultiple: True
	    OrderName: mercenary_2
		Icon: mercenary_1_icon 
        IconPalette: d2kunit
		ChargeInterval: 6000
		Description: Strike Team Paradrop II
		LongDesc: Carryall planes drops a Mercenary strike team\nanywhere on the map.
		DropItems: submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, trooper, trooper, trike, trike, quad
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		Prerequisites: ~techlevel.superweapons, ~d2k_striketeam2, ~!d2k_striketeam3, ~faction.mercenary
        QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clocklarge
		UnitType: carryall.paradrop
		SquadSize: 3
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: airstrikedirection
		StartFullyCharged: false 
      	IncomingSpeechNotification: EnemyUnitsApproaching          
    ParatroopersPower@merc3:
		PauseOnCondition: lowpower
        AllowMultiple: True
	    OrderName: mercenary_3
		Icon: mercenary_1_icon 
        IconPalette: d2kunit
		ChargeInterval: 7500
		Description: Strike Team Paradrop III
		LongDesc: Carryall planes drops Mercenaries army\nanywhere on the map.
		DropItems: submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, submachinegunner, trooper, trooper, trooper, trooper, submachinegunner, submachinegunner, trooper, trike, trike, trike, quad, quad, combat_tank_o, combat_tank_o, siege_tank
		ReinforcementsArrivedSpeechNotification: ReinforcementsArrived
		SelectTargetSpeechNotification: SelectTarget
		AllowImpassableCells: false
		Prerequisites: ~techlevel.superweapons, ~d2k_striketeam2, ~d2k_striketeam3, ~faction.mercenary
        QuantizedFacings: 8
		CameraActor: camera.paradrop
		DisplayBeacon: true
		BeaconPoster: pinficon
		ArrowSequence: arrow
		ClockSequence: clocklarge
		UnitType: carryall.paradrop
		SquadSize: 3
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: airstrikedirection
		StartFullyCharged: false 
      	IncomingSpeechNotification: EnemyUnitsApproaching                  
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3
		Pieces: 9, 15
		Range: 1c512, 2c768   
    SpawnActorOnDeath@death1:
        Actor: light_inf
    SpawnActorOnDeath@death2:
        Actor: light_inf     
    SpawnActorOnDeath@death3:
        Actor: light_inf
    SpawnActorOnDeath@death4:
        Actor: light_inf    
    RenderSprites:

emperor_command_center:
    Inherits: d2k_command_center
    -ProvidesPrerequisite@swlimit
    Buildable:
		Prerequisites: research_centre, ~techlevel.high, ~faction.emperor
		Description: Allows to call Mercenaries reinforcements and Bounty Hunting Support Power
        BuildLimit: 1
    -ParatroopersPower@merc1:
    ParatroopersPower@merc2:
		Prerequisites: ~techlevel.superweapons, ~faction.emperor
    -ParatroopersPower@merc3:
    GrantExternalConditionPower@Bounty:
		Prerequisites: ~techlevel.superweapons, ~faction.emperor

emperor_a_palace:
	Inherits: palace
    Inherits@orni: ^DU_OrnithopterSupportPower
	Buildable:
		Prerequisites: research_centre, ~techlevel.high, ~faction.emperor
		Description: Enables Fremen Guerilla and Ornithopters support powers
        BuildLimit: 1
	Valued:
		Cost: 2000
	Tooltip:
		Name: Atreides Palace
	RenderSprites:
		Image: palace.atreides
        -FactionImages
	-WithNukeLaunchOverlay:
	Power:
		Amount: -200
    ProduceActorPowerCA@atrfremen:
        Prerequisites: ~techlevel.superweapons, ~faction.emperor
    -ProvidesPrerequisite@swlimit:
	-NukePower:
    -DetonateWeaponPower@fremen:
    -IonCannonPower:
	-ProduceActorPowerCA@saboteur:
    -GrantConditionOnPrerequisite@ATREIDES:
    -GrantConditionOnPrerequisite@ORDOS:
    Production@Atreides:
		-RequiresCondition:
	-Production@Ordos:
    ClassicAirstrikePower@orni:
		Prerequisites: ~techlevel.superweapons, ~faction.emperor
emperor_h_palace:
	Inherits: palace
	Buildable:
		Prerequisites: research_centre, ~techlevel.high, ~faction.emperor
		Description: Enables Death Hand Missile
        BuildLimit: 1
	Valued:
		Cost: 2000
	Tooltip:
		Name: Harkonnen Palace
	RenderSprites:
		Image: palace.harkonnen
        -FactionImages
	-WithNukeLaunchOverlay:
	Power:
		Amount: -200
    NukePower:
        Prerequisites: ~techlevel.superweapons, ~faction.emperor
    -ProvidesPrerequisite@swlimit:
    -ProduceActorPowerCA@atrfremen
	NukePower:
    -DetonateWeaponPower@fremen:
    -IonCannonPower:
	-ProduceActorPowerCA@saboteur:
    -GrantConditionOnPrerequisite@ATREIDES:
    -GrantConditionOnPrerequisite@ORDOS:
	-Production@Ordos:
    -Production@Atreides:
    
emperor_o_palace:
	Inherits: palace
	Buildable:
		Prerequisites: research_centre, ~techlevel.high, ~faction.emperor
		Description: Produces Saboteur and enables Chaos Lightning Support Power
        BuildLimit: 1
	Valued:
		Cost: 2000
	Tooltip:
		Name: Ordos Palace
	RenderSprites:
		Image: palace.ordos
        -FactionImages
	-WithNukeLaunchOverlay:
	Power:
		Amount: -200
    ProduceActorPowerCA@saboteur:
        Prerequisites: ~techlevel.superweapons, ~faction.emperor
    IonCannonPower:
        Prerequisites: ~techlevel.superweapons, ~faction.emperor
    -ProvidesPrerequisite@swlimit:
    -ProduceActorPowerCA@atrfremen
	-NukePower:
    -DetonateWeaponPower@fremen:
    -GrantConditionOnPrerequisite@ATREIDES:
    -GrantConditionOnPrerequisite@ORDOS:
    -Production@Atreides:
	Production@Ordos:
		-RequiresCondition
    
conyard.atreides:
	Inherits: construction_yard
	Buildable:
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 1000
		Prerequisites: ~wip-content
		ForceFaction: atreides
        IconPalette: d2kunit     
	RenderSprites:
		Image: conyard.atreides
		-FactionImages:

conyard.harkonnen:
	Inherits: construction_yard
	Buildable:
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 1000
		Prerequisites: ~wip-content
		ForceFaction: harkonnen
        IconPalette: d2kunit     
	RenderSprites:
		Image: conyard.harkonnen
		-FactionImages:

conyard.ordos:
	Inherits: construction_yard
	Buildable:
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 1000
		Prerequisites: ~wip-content
		ForceFaction: ordos
        IconPalette: d2kunit      
	RenderSprites:
		Image: conyard.ordos
		-FactionImages:
        
###################################
#     UNITS
###################################

light_inf:
	Inherits: ^D2KInfantry
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@DECORATIONS: ^InfantryExperienceHospitalHazmatOverrides
	Inherits@anim: ^D2KPaletteRenderInfantry
	Valued:
		Cost: 50
	Tooltip:
		Name: Light Infantry
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 10
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		Description: General-purpose infantry.\n  Strong vs Infantry\n  Weak vs Vehicles
        IconPalette: d2kunit    
        Prerequisites: ~du_lightinf
        BuildDuration: 60
        BuildDurationModifier: 100
	Mobile:
		Speed: 43
	Health:
		HP: 8500
	AutoTarget:
		ScanRadius: 4
	Armament@PRIMARY:							##########
		Weapon: LMG
	Armament@GARRISONED:						##########
		Name: garrisoned
		Weapon: HighV
		MuzzleSequence: garrison-muzzle
        MuzzlePalette: d2keffect      
	WithInfantryBody:
		IdleSequences: idle1,idle2,idle3,idle4
		DefaultAttackSequence: shoot
	Parachutable:
	Inherits@EXT: ^ExternalConditions					##########
	AcceptsDeliveredExperience:							##########
		ValidTypes: infantry							##########

submachinegunner:
    Inherits: light_inf
    Valued:
        Cost: 60
 	Tooltip:
		Name: Mercenary
    Buildable:
		BuildPaletteOrder: 10
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		Description: General-purpose infantry equipped with SMG\nDeals burst damage.\nShort Range\n  Strong vs Infantry, Vehicles\n  Weak vs Siege   
        Prerequisites: ~faction.mercenary
        BuildDuration: 80
        BuildDurationModifier: 100       
        Icon: icon_merc
	Mobile:
		Speed: 48
  	Health:
		HP: 7200
	Armament@PRIMARY:							##########
		Weapon: LMG_burst
    RenderSprites:
        Image: light_inf
    Voiced:
        VoiceSet: D2KTrooper
        
shotgunner:
    Inherits: light_inf
    Valued:
        Cost: 80
    Tooltip:
        Name: Shotgunner
    Buildable:
		BuildPaletteOrder: 10
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		Description: General-purpose infantry equipped with shotgun\nDeals massive damage up front.\nVery Short Range\n  Strong vs Infantry, Vehicles\n  Weak vs Siege   
        Prerequisites: ~faction.smugglers
        BuildDuration: 90
        BuildDurationModifier: 100
 	WithInfantryBody:
		-IdleSequences: idle1,idle2
		DefaultAttackSequence: shoot       
  	Armament@PRIMARY:							##########
		Weapon: d2k_shotgun
        LocalOffset: 0,0,50
   	Health:
		HP: 6000     
    Mobile:
		Speed: 48
        Voice: Move
    RenderSprites:
        Image: shotgunner
    	PlayerPalette: player
    Voiced:
		VoiceSet: D2KShotgunner    
 
shock_infantry:
    Inherits: light_inf
    Valued:
        Cost: 100
    Tooltip:
        Name: Shock Infantry
    Buildable:
		BuildPaletteOrder: 10
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		Description: General-purpose infantry equipped with a long range Shock Gun\nDeals high damage in a line with a long time to reload.\nStrong vs Infantry, Vehicles\n  Weak vs Siege   
        Prerequisites: ~faction.ixian
        BuildDuration: 100
        BuildDurationModifier: 100
 	WithInfantryBody:
		-IdleSequences: idle1,idle2
		DefaultAttackSequence: shoot       
  	Armament@PRIMARY:							##########
		Weapon: D2K_ShockGunInf
        LocalOffset: 135,0,200
   	Health:
		HP: 6000     
    Mobile:
		Speed: 48
    RenderSprites:
        Image: shockgunner
    	PlayerPalette: player
    Voiced:
		VoiceSet: D2KGenericVoice   
        
chem_troop:
    Inherits: light_inf
    Valued:
        Cost: 80
    Tooltip:
        Name: Chemical Trooper
    Buildable:
		BuildPaletteOrder: 10
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		Description: General-purpose infantry equipped with chemical weapon.\nCannot attack buildings\n  Strong vs Infantry\n  Weak vs Vehicles   
        Prerequisites: ~faction.ordos
        IconPalette: player
        BuildDuration: 80
        BuildDurationModifier: 100
 	WithInfantryBody:
		IdleSequences: idle1,idle2
		DefaultAttackSequence: shoot       
  	Armament@PRIMARY:							##########
		Weapon: d2k_chemgun
        LocalOffset: 0,0,50
   	Health:
		HP: 6000     
    Targetable:
        TargetTypes: Ground, Infantry, ToxinImmune 
    Mobile:
		Speed: 35
        Voice: Move
    RenderSprites:
        Image: chemtrooper
    	PlayerPalette: raplayer
    Voiced:
		VoiceSet: D2KChemTrooperVoice    
    WithDeathAnimation:
        DeathSequencePalette: raplayer
        CrushedSequencePalette: raplayer
        CrushedPaletteIsPlayerPalette: True
engineer:
	Inherits: ^D2KInfantry
	Inherits@selection: ^SelectableSupportUnit
	Inherits@anim: ^D2KPaletteRenderInfantry   
	Inherits@EXPERIENCE: ^GainsExperience    
	Inherits@EXT: ^ExternalConditions    
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 30
		Prerequisites: upgrade.barracks, ~d2k_prereq_no_tleilaxu, ~techlevel.low
        BuildDuration: 200
        BuildDurationModifier: 100
		Description: Infiltrates and captures enemy and neutral structures\n  Strong vs Buildings\n  Weak vs Everything
        IconPalette: d2kunit       
	Valued:
		Cost: 300
	Tooltip:
		Name: Engineer
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 4500
	RevealsShroud:
		Range: 2c768
	Mobile:
		Speed: 31
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 3
	EngineerRepair:
	CaptureManager:
	Captures:
		CaptureTypes: building, defense, tech
		PlayerExperience: 50
	-RevealOnFire:
	Voiced:
		VoiceSet: D2KEngineerVoice
	-AttackFrontal:

trooper:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@anim: ^D2KPaletteRenderInfantry
	Inherits@EXPERIENCE: ^GainsExperience    
	Inherits@EXT: ^ExternalConditions    
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 20
		Prerequisites: upgrade.barracks, ~techlevel.low, ~du_trooper
        BuildDuration: 80
        BuildDurationModifier: 100
		Description: Anti-tank infantry\nCan Attack air.\n  Strong vs Tanks\n  Weak vs Infantry, Artillery
        IconPalette: d2kunit            
	Valued:
		Cost: 80
	Tooltip:
		Name: Rocket Trooper
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 10000
	RevealsShroud:
		Range: 4c768
	Mobile:
		Speed: 31
	Armament:
		Weapon: D2K_Rocket_Trooper
		LocalOffset: 128,0,256
    Armament@aa:
		Weapon: D2K_Rocket_Trooper_AA
		LocalOffset: 128,0,256    
	TakeCover:
		ProneOffset: 324,0,-204
	WithInfantryBody:
		DefaultAttackSequence: shoot

thumper:
	Inherits: ^D2KInfantry
 	Inherits@anim: ^D2KPaletteRenderInfantry
	Inherits@EXT: ^ExternalConditions    
    Inherits@selection: ^SelectableSupportUnit
	-RevealOnFire:
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry 
		BuildPaletteOrder: 40
		Prerequisites: upgrade.barracks, ~techlevel.low, ~d2k_prereq_no_tleilaxu
        BuildDuration: 200
        BuildDurationModifier: 100
		Description: Attracts nearby worms when deployed\n  Unarmed
        IconPalette: d2kunit            
	Valued:
		Cost: 150
	Tooltip:
		Name: Thumper Infantry
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 6000
	RevealsShroud:
		Range: 2c768
    WithInfantryBody:
        RequiresCondition: undeployed
	Mobile:
		Speed: 43
		RequiresCondition: undeployed
	GrantConditionOnDeploy:
		DeployedCondition: deployed
		UndeployedCondition: undeployed
		Facing: 128
		AllowedTerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,ClearDune, Dune, Concrete, Sand, SpiceSand, Spice
    WithSpriteBody@DEPLOYED:
		Sequence: thump
		RequiresCondition: !undeployed
	WithMakeAnimation@DEPLOYING:
		Sequence: deploy
	WithIdleOverlay@DEPLOYED:
		Sequence: thump-sand
		RequiresCondition: deployed
	AmbientSound:
		SoundFiles: THUMPER1.WAV
		Interval: 60
		RequiresCondition: deployed
	AttractsWorms:
		Intensity: 1000
		Falloff: 0, 0, 0, 100, 100, 100, 25, 11, 6, 4, 3, 2, 1, 0
		RequiresCondition: deployed
	-AttackFrontal:
    Voiced:
        VoiceSet: D2KThumper

fremen:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@anim: ^D2KPaletteRenderInfantry
 	Inherits@EXPERIENCE: ^GainsExperience   
	Inherits@EXT: ^ExternalConditions    
	Inherits@bot: ^BotMicromanageable
    Tooltip:
		Name: Desert Phantom
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 80
		Prerequisites: ~barracks.atreides, upgrade.barracks, high_tech_factory, ~techlevel.medium, ~du_fremen
        Icon: phantomicon
        IconPalette: windows256
        Description: Fast Elite infantry units armed with assault rifles and machine guns. When grouped, they can take down buildings extremely quickly\nDetector\n  Strong vs Buildings\n  Weak vs Infantry, Vehicles\n  Special Ability: Invisibility
        BuildDuration: 300
        BuildDurationModifier: 100
	Mobile:
		Speed: 68
	Valued:
		Cost: 400 
	Health:
		HP: 15000
	RevealsShroud:
		Range: 5c256
   	Armament@PRIMARY:
		Weapon: Fremen_S
	Armament@SECONDARY:
		Weapon: Fremen_L   
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Cloak:
		InitialDelay: 80
		CloakDelay: 40
		UncloakOn: Attack, Unload, Demolish, Dock, Damage, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        Palette: d2kcloak
        CloakedCondition: cloaked
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical  
	-MustBeDestroyed:
	Voiced:
		VoiceSet: D2KFremenVoice
    DetectCloaked:
		Range: 3c256
    Passenger:
        CargoType: Fremen
        
fremeng:
    Inherits: fremen
    Buildable:
        Prerequisites: ~disabled
    Tooltip:
		Name: Fremen Guerilla
    Mobile:
		Speed: 54     
    Health:
        HP: 20000
    RenderSprites:
        Image: fremen
facedancer:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
 	Inherits@EXPERIENCE: ^GainsExperience   
    Inherits@bot: ^BotMicromanageable
    Inherits@deathpal: ^D2KInfantryDefaultDeath
	Valued:
		Cost: 200
	Tooltip:
		Name: Face Dancer
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 20
        BuildDuration: 175
        BuildDurationModifier: 100
		Prerequisites: ~faction.tleilaxu
		Description: Genetically modified humanoid\nCan shapeshift into various forms.\n Does not lie down when attacked\nCannot be damaged by Tiberium\nThrows grenades\nMust resupply at Resource Center\n  Strong vs Buildings, Infantry, Air, Vehicles\n  Weak vs Siege
	Health:
		HP: 5000
    Power:
        Amount: -10
    IgnoresDisguise:    
    DisguiseTooltip:
		Name: Face Dancer
		GenericName: Soldier
    Disguise:
		DisguisedCondition: disguise
	-WithInfantryBody:
	WithDisguisingInfantryBody:
		DefaultAttackSequence: bite
		IdleSequences: idle
        StandSequences: stand
	Mobile:
		Speed: 80	#42
	AutoTarget:
		ScanRadius: 5
	AttackFrontal:
    AmmoPool:
		Ammo: 6
		AmmoCondition: ammo
        Armaments: primary
    ReloadAmmoPool: 
    	Delay: 150
		Count: 3
		ResetOnFire: true    
        RequiresCondition: tleilaxu_rearm
    ReloadAmmoPool@aireload:
        Delay: 150
        Count: 2
        ResetOnFire: false
        RequiresCondition: botmicro    
    ExternalCondition@rearm:
        Condition: tleilaxu_rearm   
	Armament:
		Weapon: facedancer_grenade
        PauseOnCondition: !ammo
        Name: primary
	Voiced:
		VoiceSet: D2KInfantryVoice
	-TakeCover
	-DamagedByTerrain
	RenderSprites:
        Scale: 0.7
		Image: facedancer
    ChangesHealth:
        Delay: 25
        PercentageStep: 5
        StartIfBelow: 100   
    RevealsShroudMultiplier@tleilaxueyes:
        Modifier: 150
        RequiresCondition: upgrade.tleilaxueyes
    GrantConditionOnPrerequisite@tleilaxueyes:
        Prerequisites: upgrade.tleilaxueyes
        Condition: upgrade.tleilaxueyes
    DetectCloaked:
		Range: 4c0  
        RequiresCondition: upgrade.tleilaxueyes
        
contaminator:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMoveMelee
 	Inherits@EXPERIENCE: ^GainsExperience   
    Inherits@bot: ^BotMicromanageable
    Inherits@deathpal: ^D2KInfantryDefaultDeath
	Valued:
		Cost: 500
	Tooltip:
		Name: Contaminator
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 10
        BuildDuration: 375
        BuildDurationModifier: 100
		Prerequisites: ~faction.tleilaxu, d2k_tleilaxu_tech, upgrade.contaminator, ~techlevel.medium
		Description: The Contaminator is a genetically engineered organism\nthat infects a target organic unit to create another Contaminator\nwhen the target dies. They are quite\nresilient to gunfire.\n  Strong vs Buildings, Infantry, Air, Vehicles\n  Weak vs Siege
    Power:
        Amount: -25
    Health:
		HP: 25000
	Mobile:
		Speed: 60	#42
	AutoTarget:
		ScanRadius: 5
	AttackFrontal:
	WithInfantryBody:
		DefaultAttackSequence: shoot
        StandSequences: stand
    Armament:
        Weapon: contaminator_attack
   	Armament@GARRISONED:						
		Name: garrisoned
		Weapon: contaminator_attack           
	Voiced:
		VoiceSet: BruteVoice
	-TakeCover
	-DamagedByTerrain
	RenderSprites:
    ChangesHealth:
        Delay: 25
        PercentageStep: 5
        StartIfBelow: 100
   	-Crushable:
    
contaminator_s:
    Inherits: contaminator
    DamageMultiplier:
        Modifier: 150
    Power:
        Amount: 0
    Crushable:
		WarnProbability: 0
		CrushSound: squish2.aud    
    RenderSprites:
        Image: contaminator
        Scale: 0.85
    -Buildable:
    
facedancer_harv:
    Inherits@harv: ^Harvester
    Inherits: facedancer
    Inherits@selection: ^SelectableEconomicUnit
   	Tooltip:
		Name: Face Dancer Worker
   	Mobile:
		Speed: 90	#42         
    -Armament:
    -AmmoPool:
    -ReloadAmmoPool:
    -ReloadAmmoPool@aireload:
    Health:
        HP: 5000
    Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 30
        BuildDuration: 120
        BuildDurationModifier: 100
		Prerequisites: d2k_silo_tleilaxu, ~faction.tleilaxu
		Description: Worker unit harvesting resources\nCan shapeshift into various forms\nProvides buildable area for bases
        IconPalette: player
    BaseProvider:
		Range: 3c0
    Power:
        Amount: -5     
    GivesBuildableArea:
        AreaTypes: facedancer     
    Armament@melee:
        Weapon: facedancer_attack  
        Name: secondary      
    RenderSprites:
        Scale: 0.7
		Image: facedancer_harv    
    Harvester:      
        PipCount: 3
		Capacity: 3
		BaleLoadDelay: 4
		BaleUnloadAmount: 2
		BaleUnloadDelay: 10
		MaxUnloadQueue: 9
    WithSpriteBody:
        Sequence: invisible
    WithDockingAnimation:    
    
grenadier:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
 	Inherits@anim: ^D2KPaletteRenderInfantry   
  	Inherits@EXPERIENCE: ^GainsExperience  
    Inherits@EXT: ^ExternalConditions
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 60
		Prerequisites: upgrade.barracks, ~techlevel.medium, high_tech_factory
        BuildDuration: 100
        BuildDurationModifier: 100
		Description: Infantry armed with grenades. \nVery prone to friendly fire\n  Strong vs Buildings, Infantry\n  Weak vs Vehicles
        IconPalette: d2kunit           
	Valued:
		Cost: 100
	Tooltip:
		Name: Grenadier
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 8000
	Mobile:
		Speed: 52
	Armament:
		Weapon: d2k_grenade
		LocalOffset: 192,0,224
		FireDelay: 3
	TakeCover:
		ProneOffset: 96,100,-64
	WithInfantryBody:
		DefaultAttackSequence: throw
	Explodes:
		Weapon: GrenDeath
		EmptyWeapon: GrenDeath
    Voiced:
        VoiceSet: D2KGrenadier

sardaukar:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@anim: ^D2KPaletteRenderInfantry    
 	Inherits@EXPERIENCE: ^GainsExperience   
    Inherits@EXT: ^ExternalConditions
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 50
		Prerequisites: ~palace.sardaukar, ~techlevel.high, ~wip-content
        BuildDuration: 280
        BuildDurationModifier: 100
		Description: Assault infantry of Emperor's Army\n  Strong vs Infantry, Vehicles\n  Weak vs Artillery
        IconPalette: d2kunit         
	Valued:
		Cost: 150
	Tooltip:
		Name: Sardaukar
	Armor:
		Type: Light
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 25000
	Mobile:
		Speed: 31
	RevealsShroud:
		Range: 4c768
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Armament@PRIMARY:
		Weapon: M_LMG
	Armament@SECONDARY:
		Weapon: M_HMG
	Explodes:
		Weapon: SardDeath
		EmptyWeapon: SardDeath
		Chance: 100
	Voiced:
		VoiceSet: D2KSardaukarElite
    Targetable@PersonalShielded:
        TargetTypes: PersonalShieldedSard
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 15
        
mpsardaukar:
	Inherits: sardaukar
    Inherits@MC: ^MCImmune
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 70
		Prerequisites: ~barracks.harkonnen, upgrade.barracks, ~techlevel.medium, ~faction.corrino, high_tech_factory
        BuildDuration: 200
        BuildDurationModifier: 100
	Valued:
		Cost: 400
	Armament@PRIMARY:
		Weapon: M_LMG_H
	Armament@SECONDARY:
		Weapon: M_HMG_H
	RenderSprites:
		Image: sardaukar
    ProductionCostMultiplier@discountsardaukar:
        Prerequisites: palace_emperor
        Multiplier: 66
 
d2k_sardaukar_elite:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove 
 	Inherits@EXPERIENCE: ^GainsExperience   
    Inherits@EXT: ^ExternalConditions
    Inherits@MC: ^MCImmune
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry, Starport.d2k, RAStarport.d2k
		BuildPaletteOrder: 100
		Prerequisites: ~faction.corrino, palace_emperor, ~techlevel.high
        BuildDuration: 500
        BuildDurationModifier: 100
		Description: Heavily Armored Elite assault infantry of Emperor's Army\nCannot lay down or be crushed\n  Strong vs Everything
        IconPalette: player             
	Valued:
		Cost: 1000
	Tooltip:
		Name: Sardaukar Elite
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 35000
	Armor:
		Type: Medium
	Mobile:
		Speed: 25
	RevealsShroud:
		Range: 4c768
    -EdibleByLeap:    
	WithInfantryBody:
        -IdleSequences
		DefaultAttackSequence: shoot
        StandSequences: stand
	Armament@PRIMARY:
		Weapon: d2k_sardaukar_elite
	Voiced:
		VoiceSet: D2KSardaukarElite
	Explodes:
		Weapon: SardDeath
		EmptyWeapon: SardDeath
		Chance: 100
  	RenderSprites:
        PlayerPalette: player
        Scale: 0.8
	WithDeathAnimation:
        DeathSequence: die
        CrushedSequence: die-crushed
        UseDeathTypeSuffix: false
        DeathSequencePalette: player
    -Crushable
    Targetable@PersonalShielded:
        TargetTypes: PersonalShieldedHeavy
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 25
        
emperor_sardaukar:
	Inherits: mpsardaukar
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: ~faction.emperor
        BuildDuration: 125
        BuildDurationModifier: 100
	Valued:
		Cost: 200
	Armament@PRIMARY:
		Weapon: HMG
	-Armament@SECONDARY:
    -ProductionCostMultiplier@discountsardaukar:
    
emperor_sardaukar_elite:
	Inherits: d2k_sardaukar_elite
	Buildable:
		Prerequisites: ~faction.emperor, high_tech_factory
	Tooltip:
		Name: Sardaukar Juggernaut
	Health:
		HP: 45000
    Armament@PRIMARY:
        Weapon: Emperor_Sardaukar_Elite
    RenderSprites:
        Image: d2k_sardaukar_elite

emperor_sardaukar_chief:
	Inherits: mpsardaukar
    Tooltip:
		Name: Sardaukar Chief
    Health:
		HP: 10000
	-Buildable:
	Armament@PRIMARY:
		Weapon: D2KSniperRifle
	Armament@SECONDARY:
        Weapon: emperor_sardaukar_chief_c4
	Mobile:
		Speed: 70
	ProximityExternalCondition@JAMMER:
		Range: 7c0
		ValidStances: Enemy, Neutral
		Condition: jammed
		RequiresCondition: !disabled
	WithRangeCircle@JAMMER:
		Type: jammer
		Range: 7c0
		Color: 0000FF80
    -ProductionCostMultiplier@discountsardaukar:
    
saboteur:
	Inherits: ^D2KInfantry
	Inherits@anim: ^D2KPaletteRenderInfantry    
    Inherits@EXT: ^ExternalConditions
    Inherits@bot: ^BotMicromanageable
	Inherits@MC: ^MCImmune    
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 100
		Prerequisites: ~wip-content
		Description: Sneaky stealth infantry that can infiltrate safely, armed with explosives that can be attached to buildings\nExplodes upon death\nDetector\n  Strong vs Buildings\n  Weak vs Everything\n  Special Abilities: Destroy Buildings, Invisibility
        IconPalette: d2kunit         
	Valued:
		Cost: 300 ## actually 0, but spawns from support power at Palace
	Tooltip:
		Name: Saboteur
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 12000
	Mobile:
		Speed: 50
	-RevealOnFire:
	Cloak:
		InitialDelay: 30
		CloakDelay: 30
		CloakSound: STEALTH1.WAV
		UncloakOn: Attack, Unload, Demolish, Damage, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        Palette: d2kcloak
        CloakedCondition: cloaked
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
  	Armament@c4:
		Weapon: GenericC4
		Cursor: c4    
	Voiced:
		VoiceSet: D2KSaboteurVoice
	AttackFrontal:
	Explodes:
		Weapon: SaboDeath
		EmptyWeapon: SaboDeath
    DetectCloaked:
		Range: 4c0
        
nsfremen:
	Inherits: fremen
	Tooltip:
		Name: Fremen Warrior
   	Health:
		HP: 12000   
	Mobile:
		Speed: 43    
    Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove  
    Valued:
		Cost: 120    
   	Armament@PRIMARY:
		Weapon: Fremen_Upg
    Armament@SECONDARY:
		Weapon: Fremen_RPG   
   	AutoTarget:
		ScanRadius: 7
		InitialStance: ReturnFire
		InitialStanceAI: AttackAnything     
	Buildable:
    	Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 10
		Prerequisites: ~barracks.atreides, ~faction.fremen
		Description: Universal Fremen infantry unit armed with assault rifle and rockets.\nCan attack air.\n  Strong vs Infantry, Vehicles\n  Weak vs Artillery
        BuildDuration: 120
        BuildDurationModifier: 100
        Icon: icon
        IconPalette: d2kunit
	RenderSprites:
		Image: fremen
    Passenger:
        CargoType: Fremen
	-Cloak:
	-GrantConditionOnDamageState@UNCLOAK:

emperor_fremen:
	Inherits: nsfremen
    Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Valued:
		Cost: 250
    Health:
		HP: 17500
	Tooltip:
		Name: Fremen Trooper
    -Armament@PRIMARY
    Armament@SECONDARY:
		Weapon: D2K_Rocket_Trooper
   	AutoTarget:
		ScanRadius: 7
		InitialStance: ReturnFire
		InitialStanceAI: AttackAnything     
	Buildable:
		Prerequisites: ~faction.emperor, upgrade.barracks
        BuildDuration: 150
        Description: Fremen infantry unit armed with Rocket Launcher.\nCan attack air.\n  Strong vs Tanks, Air\n  Weak vs Infantry, Artillery
    
plasma_infantry:
	Inherits: ^D2KInfantry
    Inherits@anim: ^D2KPaletteRenderInfantry    
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@EXT: ^ExternalConditions   
 	Inherits@EXPERIENCE: ^GainsExperience   
    Inherits@deathpal: ^D2KInfantryDefaultDeath
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 100
        BuildDuration: 280
        BuildDurationModifier: 100
		Prerequisites: ~barracks.harkonnen, upgrade.barracks, high_tech_factory, ~techlevel.medium, ~faction.corrino
		Description: Advanced infantry armed with a plasma ball launcher\n  Strong vs Tanks\n  Weak vs Artillery, Infantry
        IconPalette: d2kunit  
	Valued:
		Cost: 300
	Tooltip:
		Name: Plasma Infantry
	Selectable:
		Class: plasma_infantry
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 12000
	Mobile:
		Speed: 28
	RevealsShroud:
		Range: 4c0
	WithInfantryBody:
		DefaultAttackSequence: shoot
 	Voiced:
		VoiceSet: D2KGenericVoice       
	Armament:
		Weapon: PlasBullet
		LocalOffset: 427,0,341
	AttackFrontal:
    Targetable@PersonalShielded:
        TargetTypes: PersonalShieldedSard
        
emperor_plasmainf:
	Inherits: plasma_infantry
	Buildable:
		Prerequisites: ~faction.emperor, upgrade.barracks, high_tech_factory, ~techlevel.medium
    RenderSprites:
        Image: plasma_infantry
        
fedaykin:
	Inherits: ^D2KInfantry
    Inherits@anim: ^D2KPaletteRenderInfantry    
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience    
    Inherits@EXT: ^ExternalConditions  
	Tooltip:
		Name: Fedaykin
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 120
		Prerequisites: ~barracks.atreides, ~fremen_sietch, upgrade.barracks, high_tech_factory, ~techlevel.medium, ~faction.fremen
		Description: Stealth Elite Fremen Guerilla infantry armed with Sonic Weapon\n  Strong vs Infantry, Vehicles, Buildings\n  Weak vs Artillery, Tanks
        IconPalette: d2kunit      
        BuildDuration: 280
        BuildDurationModifier: 100        
	Mobile:
		Speed: 52
	Valued:
		Cost: 300
	Health:
		HP: 17500
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: Sound2
	AttackFrontal:
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Crushable:
		WarnProbability: 80
	Voiced:
		VoiceSet: D2KFremenVoice3
    Cloak:
        Palette: d2kcloak
  		IsPlayerPalette: true  
        InitialDelay: 60
		CloakDelay: 60
        UncloakOn: Unload, Infiltrate, Demolish, Dock, Damage, Heal, Attack    
        CloakedCondition: cloaked   
        PauseOnCondition: cloak-force-disabled || base-reveal
    Passenger:
        CargoType: Fremen

emperor_fedaykin:
	Inherits: fedaykin
	Buildable:
		Prerequisites: ~faction.emperor, upgrade.barracks, high_tech_factory, ~techlevel.medium
    RenderSprites:
        Image: fedaykin
        
d2k_leech:
	Inherits: ^D2KInfantry
    Inherits@EXT: ^ExternalConditions   
    Inherits@EXPERIENCE: ^GainsExperience
    Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 130
		Prerequisites: ~faction.tleilaxu, d2k_tleilaxu_tech, upgrade.leech, ~techlevel.medium
		Description: Stealth creature that can attack infantry and vehicles.\nCan detect cloaked units.\nRegenerates health extremely quickly\nUpon attack lays eggs which, upon death of vehicls, creates another Leech\n  Strong vs Infantry, Vehicles\n  Weak vs Aircraft\n  Special Abilities: Invisibility, Jump, Lay Eggs
        IconPalette: player  
        BuildDuration: 500
        BuildDurationModifier: 100
    Power:
        Amount: -30
    Valued:
		Cost: 600
	Tooltip:
		Name: Leech
	Selectable:
		Bounds: 24,24,0,0
	Health:
		HP: 12000
	Armor:
		Type: Light
	Mobile:
		Speed: 75
		Voice: Move
		RequiresCondition: !attack-cooldown
	RevealsShroud:
		Range: 4c384
	Armament@primary:
		Weapon: DroneJump
     	PauseOnCondition: attacking || attack-cooldown  
    AttackLeap:
		Voice: Attack
		PauseOnCondition: attacking || attack-cooldown
     	Weapon: DroneJump  
	RejectsOrders:
		RequiresCondition: jousting
	SpeedMultiplier@JOUSTING:
		Modifier: 150
		RequiresCondition: jousting
	AttackMove:
		Voice: Move
	AutoTarget:
		ScanRadius: 5
		InitialStance: AttackAnything
	WithInfantryBody:
		-IdleSequences:
		StandSequences: stand
		DefaultAttackSequence: jump
		RequiresCondition: !jousting
	WithFacingSpriteBody:
		Sequence: shoot
		RequiresCondition: jousting
	Targetable@REPAIR:
		TargetTypes: Repair
		RequiresCondition: damaged
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Light, Medium, Heavy, Critical
	IgnoresDisguise:
	Crushable:
		CrushClasses: vehicle
	DetectCloaked:
		Range: 5c512
    Voiced:
        VoiceSet: SCZerglingVoice
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall
	-TakeCover:
	-Passenger:
	-WithDeathAnimation:
	RenderSprites:
		Scale: 0.74
	Cloak:
  		IsPlayerPalette: true  
        InitialDelay: 15
		CloakDelay: 15
        UncloakOn: Unload, Demolish, Dock, Heal, Attack    
        CloakedCondition: cloaked
        PauseOnCondition: cloak-force-disabled || base-reveal
    ChangesHealth:
        Delay: 12
        PercentageStep: 9
        StartIfBelow: 101
        RequiresCondition: cloaked && !move
    GrantConditionOnMovement@move:
        Condition: move
        ValidMovementTypes: Horizontal, Vertical, Turn
    Armament@primary:
		Weapon: LeechAttack
     	PauseOnCondition: attacking || attack-cooldown  
    AttackLeap:
		Voice: Attack
		PauseOnCondition: attacking || attack-cooldown
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 4
        
d2k_leech_s:
    Inherits: d2k_leech
    DamageMultiplier:
        Modifier: 150
    Power:
        Amount: 0
    Crushable:
		WarnProbability: 0
		CrushSound: squish2.aud    
    RenderSprites:
        Image: d2k_leech
        Scale: 0.64
    -Buildable:
    
d2k_drone_h:
    Inherits: d2k_leech
    RenderSprites:
        Image: d2k_drone
        Scale: 0.7
        PlayerPalette: ra2player
    Valued:
		Cost: 200     
    Power:
        Amount: 0
    Mobile:
		Speed: 100
    Armor:
        Type: None
    Tooltip:
		Name: Drone   
    AutoTargetPriority@DEFAULT:
		ValidTargets: Infantry    
    Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 130
		Prerequisites: ~barracks.harkonnen, upgrade.barracks, ~techlevel.medium, high_tech_factory
		Description: Stealth Fast robotic vehicle that can instantly kill infantry.\nCan detect cloaked units.\nRegenerates health while invisible\n  Strong vs Infantry\n  Weak vs Aircraft\n  Special Abilities: Invisibility, Jump
        IconPalette: d2kunit  
        BuildDuration: 300
        BuildDurationModifier: 100
        Icon: icon
    Health:
        HP: 5000
    ChangesHealth:
        Delay: 15
        PercentageStep: 7
        StartIfBelow: 100
        RequiresCondition: cloaked   
    Cloak:
        Palette: ra2cloak
  		IsPlayerPalette: true  
        InitialDelay: 25
		CloakDelay: 25
        UncloakOn: Unload, Infiltrate, Demolish, Dock, Damage, Heal, Attack    
        CloakedCondition: cloaked
        PauseOnCondition: cloak-force-disabled || base-reveal
    Armament@primary:
		Weapon: DroneJumpH
     	PauseOnCondition: attacking || attack-cooldown  
    AttackLeap:
		Voice: Attack
		PauseOnCondition: attacking || attack-cooldown
    Voiced:
		VoiceSet: D2KDroneVoice
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 2
        
rocketeer:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
 	Inherits@EXPERIENCE: ^GainsExperience   
    Inherits@EXT: ^ExternalConditions   
	HiddenUnderFog:
		Type: CenterPosition
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 140
		Prerequisites: ~barracks.harkonnen, upgrade.barracks, high_tech_factory, ~techlevel.medium
		Description: Flying infantry unit armed with dual assault rifle.\n Can Attack air units.\n  Strong vs Infantry\n  Weak vs Vehicles
        IconPalette: d2kunit    
        BuildDuration: 250
        BuildDurationModifier: 100
	Valued:
		Cost: 350
	Tooltip:
		Name: Jetpacker
	Health:
		HP: 4000
	Armor:
		Type: None
	-Mobile:
	RevealsShroud:
		Range: 5c0
		Type: CenterPosition
	Armament:
		Weapon: Rocketeer
	Aircraft:
		CruiseAltitude: 1200
		InitialFacing: 92
		TurnSpeed: 1023
		Speed: 90
		AltitudeVelocity: 83
		AirborneCondition: airborne
		VTOL: true
		CanSlide: true
		CanHover: true
		IdealSeparation: 512
	WithInfantryBody:
		StandSequences: fly
		MoveSequence: fly
		DefaultAttackSequence: shoot-air
		IdleSequences: idle-air
    -Targetable@disguise    
	Hovers:
		BobDistance: -45
	-Targetable:
	Targetable@GROUND:
		TargetTypes: Ground, Infantry, DetonateAttack
		RequiresCondition: !airborne
	Targetable@AIRBORNE:
		TargetTypes: Air
		RequiresCondition: airborne
	QuantizeFacingsFromSequence:
		Sequence: stand
	WithSpriteBody@shadow:
		Name: shadow
		Sequence: shadow
		ForceToGround: true
	-Passenger:
	-WithDeathAnimation:
	RenderSprites:
		PlayerPalette: ra2player
	SpawnActorOnDeath:
		Actor: rocketeer.husk
    WithDeathAnimation:
        DeathSequencePalette: ra2player
        CrushedSequencePalette: ra2player
        CrushedPaletteIsPlayerPalette: True   
rocketeer.husk:
	Inherits: ^HelicopterHusk
	Tooltip:
		Name: Rocketeer
	Aircraft:
		TurnSpeed: 8
		Speed: 88
		CanHover: True
	RenderSprites:
		PlayerPalette: ra2player
	-WithShadow:
	WithSpriteBody@shadow:
		Name: shadow
		Sequence: shadow
		ForceToGround: true
	FallsToEarth:
		Velocity: 0c50
		Explosion: D2KUnitExplodeSmall
        
rocketeer_o:
	Inherits: rocketeer
	Tooltip:
		Name: Stealth Rocketeer
  	Valued:
		Cost: 500      
    Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 140
		Prerequisites: ~barracks.ordos, upgrade.barracks, high_tech_factory, ~techlevel.medium, ~!faction.tleilaxu
		Description: Stealth Flying infantry unit armed with deadly dual machine guns\n  Strong vs Infantry, Vehicles\n  Weak vs Air
        IconPalette: d2kunit    
        BuildDuration: 325
        BuildDurationModifier: 100
    Cloak:
        Palette: ra2cloak
  		IsPlayerPalette: true  
        InitialDelay: 60
		CloakDelay: 60
        UncloakOn: Unload, Infiltrate, Demolish, Dock, Damage, Heal, Attack    
        CloakedCondition: cloaked   
        PauseOnCondition: cloak-force-disabled || base-reveal
    Health:
		HP: 6000
    Armor:
		Type: Light    
    RenderSprites:
		PlayerPalette: ra2player   
        Image: rocketeer
    Armament:
		Weapon: Rocketeer_o    
    Power:
        Amount: 0
        
rocketeer_tleilaxu:
    Inherits: rocketeer_o
    Inherits@bot: ^BotMicromanageable
    Health:
		HP: 3000
    Armor:
		Type: None 
  	Valued:
		Cost: 800  
    Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 140
		Prerequisites: ~techlevel.medium, d2k_tleilaxu_tech, upgrade.rocketeer, ~faction.tleilaxu
   		Description: Flying infantry unit armed with deadly dual machine guns\n\nMust resupply at Resource Center\n  Strong vs Infantry\n  Weak vs Vehicles Strong vs Everything
        BuildDuration: 400
        BuildDurationModifier: 100
    -Cloak:
	Tooltip:
		Name: Rocketeer        
    Armament:
		Weapon: Rocketeer_t  
        PauseOnCondition: !ammo
    AmmoPool:
		Ammo: 30
		AmmoCondition: ammo
        PipCount: 8
    ReloadAmmoPool: 
    	Delay: 40
		Count: 4
		ResetOnFire: true    
        RequiresCondition: tleilaxu_rearm
    ReloadAmmoPool@aireload:
        Delay: 150
        Count: 8
        ResetOnFire: true
        RequiresCondition: botmicro
    ExternalCondition@rearm:
        Condition: tleilaxu_rearm      
    Power:
        Amount: -25
        
d2k_sniper:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@EXT: ^ExternalConditions
  	Inherits@EXPERIENCE: ^GainsExperience  
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 160
		Prerequisites: ~barracks.ordos, upgrade.barracks, ~!faction.ordos. ~!faction.smugglers, ~techlevel.medium, high_tech_factory
		Description: Infantry armed with a long range rifle\nCan detect cloaked units at great distances.\nCan Deplay to grant stealth and accuracy but loses movement\n  Strong vs Infantry, Air, Vehicles\n  Weak vs Tanks\n  Special Ability: Invisibility while static
        IconPalette: d2kunit 
        BuildDuration: 600
        BuildDurationModifier: 100
	Valued:
		Cost: 800
	Tooltip:
		Name: Heavy Sniper
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 5000
	Mobile:
		Speed: 25
	Armament:
		Weapon: D2KSniperRifle
    RevealsShroud:
		Range: 5c0   
  	DetectCloaked:
		Range: 8c0      
	AttackFrontal:
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Crushable:
		WarnProbability: 15
	Cloak:
		InitialDelay: 85
		CloakDelay: 85
		IsPlayerPalette: true
        UncloakOn: Unload, Infiltrate, Demolish, Dock, Damage, Heal, Move
        Palette: racloak
        CloakedCondition: cloaked
        RequiresCondition: deployed
        PauseOnCondition: cloak-force-disabled || base-reveal
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	-MustBeDestroyed:
	WithDeathAnimation:
    WithDecoration@deployed:
        Image: deployed-icon
        Sequence: deployed
        RequiresCondition: deployed
    GrantConditionOnDeploy:
		DeployedCondition: deployed
		SkipMakeAnimation: true
		UndeployOnMove: true
		UndeployOnPickup: true
		PauseOnCondition: disabled
	RenderSprites:
  		PlayerPalette: raplayer
        Scale: 0.8
    WithDeathAnimation:
        DeathSequencePalette: raplayer
        CrushedSequencePalette: raplayer
        CrushedPaletteIsPlayerPalette: True
    InaccuracyMultiplier@deploy:
        Modifier: 0
        RequiresCondition: deployed
    AIDeployNotifier:
		DeployChance: 100
    SpeedMultiplier@deploy:
        Modifier: 0
        RequiresCondition: deployed
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 0
        
d2k_marksman:
    Inherits: d2k_sniper
  	Tooltip:
		Name: Marksman
    Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 160
		Prerequisites: ~barracks.atreides, upgrade.barracks, ~!faction.ixian, ~techlevel.low
		Description: Spotter Infantry armed with a long range rifle\nCan detect cloaked units.\nCan Deplay to grant more view distance and accuracy, but loses movement\n  Strong vs Infantry, Air, Vehicles\n  Weak vs Tanks\n  Special Ability: Binoculars
        IconPalette: d2kunit 
        BuildDuration: 400    
        BuildDurationModifier: 100        
	Health:
		HP: 8000
    Valued:
		Cost: 300
    RevealsShroud:
		Range: 6c0
    DetectCloaked:
		Range: 5c0     
   	Crushable:
		WarnProbability: 50
   	Mobile:
		Speed: 40
    -Cloak:
    -GrantConditionOnDamageState@UNCLOAK:
   	Armament:
		Weapon: D2KMarksmanRifle 
    RevealsShroudMultiplier@deploy:
        Modifier: 200
        RequiresCondition: deployed     
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 2
        
flamethrower:
	Inherits: ^D2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@EXT: ^ExternalConditions
	Inherits@EXPERIENCE: ^GainsExperience    
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 40
		BuildDuration: 220
		BuildDurationModifier: 100
		Prerequisites: ~barracks.harkonnen, upgrade.barracks, high_tech_factory, ~techlevel.medium, ~faction.harkonnen
        Description: Stealth Deadly unit.\nUndetected even when exiting vehicles and infiltrating.\n  Strong vs Infantry, Vehicles, Tanks, Buildings\n  Weak vs Siege\n  Special Ability: Invisibility
        IconPalette: d2kunit    
	Valued:
		Cost: 300
	Tooltip:
		Name: Flamethrower
	Selectable:
		Class: flamethrower
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 8000
	Mobile:
		Speed: 32
	RevealsShroud:
		Range: 4c768
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Armament:
		Weapon: d2kflamegun
	AttackFrontal:
	WithDeathAnimation:
	RenderSprites:
    	PlayerPalette: raplayer
        Scale: 0.85
	Cloak:
		InitialDelay: 85
		CloakDelay: 85
        UncloakOn: Attack, Demolish, Dock, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        Palette: racloak
        CloakedCondition: cloaked
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
    WithDeathAnimation:
        DeathSequencePalette: raplayer
        CrushedSequencePalette: raplayer
        CrushedPaletteIsPlayerPalette: True  
    Voiced:
		VoiceSet: D2KGenericVoice     

d2k_hijacker:
	Inherits: ^D2KInfantry
    Inherits@EXT: ^ExternalConditions
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 170
		Prerequisites: upgrade.barracks, ~barracks.ordos, ~techlevel.low
		Description: Stealth unit that can hijack enemy vehicles\n  Unarmed
        IconPalette: d2kunit    
        BuildDuration: 400
   		BuildDurationModifier: 100     
	Valued:
		Cost: 250
	Tooltip:
		Name: Hijacker
	Health:
		HP: 12000
	RevealsShroud:
		Range: 3c0
	Infiltrates:
		Types: building
		PlayerExperience: 50
		Notification:
	CaptureManager:
	Captures:
		CaptureTypes: vehicle
		PlayerExperience: 50
	-TakeCover:
	WithInfantryBody:
		-IdleSequences:
		StandSequences: stand
  	Cloak:
		InitialDelay: 200
		CloakDelay: 120
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Damage
		CloakTypes: Cloak, Hijacker
		Palette: racloak
		IsPlayerPalette: true      
        CloakedCondition: cloaked
        PauseOnCondition: cloak-force-disabled || base-reveal
	Crushable:
		WarnProbability: 80
	Mobile:
		Speed: 43
	Voiced:
		VoiceSet: D2KEngineerVoice
	WithDeathAnimation:
		DeathSequencePalette: raplayer
        CrushedSequencePalette: raplayer
        CrushedPaletteIsPlayerPalette: True
	RenderSprites:
		PlayerPalette: raplayer  
        Scale: 0.85
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 0
        
d2k_mechanic:
	Inherits: ^D2KInfantry
    Inherits@EXT: ^ExternalConditions   
    Inherits@engineer: ^EngineerDefaultWeapons
	Buildable:
		Queue: Infantry.d2k, RAInfantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 80
        BuildDuration: 375
   		BuildDurationModifier: 100     
		Prerequisites: upgrade.barracks, high_tech_factory, ~techlevel.medium, ~mechanic_prereq
		Description: Repairs nearby vehicles and buildings.\nCan enter vehicle husks to repair them.\nRemoves attached explosives from units and buildings\n  Unarmed
        IconPalette: d2kunit           
	Valued:
		Cost: 400
	Tooltip:
		Name: Mechanic
	Health:
		HP: 6000
	Armor:
		Type: None
   	Passenger:
		PipType: Blue
		Voice: Move     
	Mobile:
		Speed: 38
	RevealsShroud:
		Range: 4c768
	Armament@repair:
		Weapon: D2KRepair
		Cursor: repair
		OutsideRangeCursor: repair
		TargetStances: Ally
		ForceTargetStances: None       
	AttackFrontal:
	CaptureManager:
	Captures:
		CaptureTypes: husk
		PlayerExperience: 25
	Infiltrates:
		Types: Husk
		ValidStances: Ally
		EnterCursor: goldwrench
		PlayerExperience: 25
	WithInfantryBody:
		DefaultAttackSequence: repair
		StandSequences: stand  
	Voiced:
		VoiceSet: D2KEngineerVoice
    AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: Repair, lockdowned, ivanattached, Repairing
	WithDeathAnimation:
		DeathSequencePalette: raplayer
        CrushedSequencePalette: raplayer
        CrushedPaletteIsPlayerPalette: True
	RenderSprites:
		PlayerPalette: raplayer
        Scale: 0.85
    GrantCondition@d2k_personal_shield_disabled:
        RequiresCondition: d2k_personal_shield && SmallCaliberShieldHits > 2
        
d2k_light_tank:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@CARGO: ^CargoVehicle
    Inherits@EXT: ^ExternalConditions
    Inherits@EMP: ^TurretEMP
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 80
		BuildDuration: 325
		BuildDurationModifier: 100
		Prerequisites: ~d2k_ifv_prereq, upgrade.light, ~techlevel.low
		Description: Light Carrier vehicle with light cannon and missile launcher\nCan carry 3 passengers\n Strong vs Vehicles, Tanks\n Weak vs Infantry
	    IconPalette: d2kunit    
    Valued:
		Cost: 750
	Tooltip:
		Name: Personnel Carrier
    AIDeployNotifier:
		DeployChance: 100    
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 40000
	Armor:
		Type: Medium
	Mobile:
		TurnSpeed: 14
		Speed: 85
	Turreted:
		TurnSpeed: 16
		RealignDelay: 0
        Offset: 50,0,0
	RevealsShroud:
		Range: 3c512
	WithMuzzleOverlay:
    Cargo:
        MaxWeight: 3
		Types: Infantry
		PipCount: 3    
	Armament:
		Weapon: d2k70mm
		Recoil: 65
        Name: primary
		RecoilRecovery: 25
		MuzzleSequence: muzzle
        LocalOffset: 575, 0, 175
        MuzzlePalette: d2keffect       
   	Armament@MGround:
		Weapon: d2k_APC.AG
        Name: secondary
		LocalOffset: 575, 75, 175
        PauseOnCondition: !ammo
	Armament@MAA:
		Weapon: d2k_APC.AA
        Name: aa
		LocalOffset: 575, 75, 175   
        PauseOnCondition: !ammo
	AttackTurreted:
        Armaments: primary, secondary, aa
	WithMuzzleOverlay:
	WithSpriteTurret:
        Palette: player
        IsPlayerPalette: true
	Explodes:
    	Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	Selectable:
		Class: light_tank
	AttractsWorms:
		Intensity: 500
	RenderSprites:
    Cloak@TDcloak:
        Palette: racloak 
    AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
        Armaments: secondary, aa
        PipCount: 0
    ReloadAmmoPool: 
    	Delay: 120
		Count: 1
		ResetOnFire: false 

d2k_lion_king:
    Inherits: d2k_light_tank
	Tooltip:
		Name: Lion King
    Valued:
		Cost: 4000
    Health:
		HP: 60000
	Buildable:
		Queue: Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 150
		BuildDuration: 1000
		Prerequisites: ~faction.corrino, upgrade.light, ~techlevel.medium
		Description: Ultimate Transport Vehicle\nCan carry 8 passengers quickly\nLimit: 1   
        BuildLimit: 1
    Cargo:
        MaxWeight: 8
		Types: Infantry
		PipCount: 8
        InitialUnits: plasma_infantry, plasma_infantry, plasma_infantry, plasma_infantry, plasma_infantry, plasma_infantry, plasma_infantry, plasma_infantry
   	-Armament@MGround:
	-Armament@MAA:
	Armament:
		Weapon: 80mm_H
    AttackTurreted:
        Armaments: primary
    WithSpriteTurret:
        Palette: playerd2k
    -AmmoPool
    -ReloadAmmoPool
    
d2k_light_tank.bot1:
    Inherits: d2k_light_tank
    Buildable:
		Prerequisites: ~d2k_ifv_prereq, upgrade.light, ~techlevel.low, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 133
    Cargo:
        InitialUnits: trooper, trooper, trooper
    RenderSprites:
        Image: d2k_light_tank
        
d2k_light_tank.bot2:
    Inherits: d2k_light_tank.bot1
    ProductionCostMultiplier:
        Multiplier: 150
    Cargo:
        InitialUnits: grenadier, grenadier, grenadier 
        
d2k_light_tank.bot3:
    Inherits: d2k_light_tank.bot1
    ProductionCostMultiplier:
        Multiplier: 110
    Cargo:
        InitialUnits: light_inf, light_inf, light_inf 
        
d2k_atreides_apc:
 	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@CARGO: ^CargoVehicle
    Inherits@EXT: ^ExternalConditions
    Inherits@EMP: ^TurretEMP
    Inherits@starport: ^Starport
 	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 100
		BuildDuration: 375
		BuildDurationModifier: 100
		Prerequisites: ~faction.atreides, upgrade.heavy, ~techlevel.medium
		Description: Stealth Heavy Carrier vehicle with machine gun\nCan carry 12 passengers\nDue to its giant size its very attractive to worms
	    IconPalette: windows256       
    Valued:
		Cost: 1000
	Tooltip:
		Name: Armoured Personnel Carrier
    AIDeployNotifier:
		DeployChance: 100    
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 120000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 6
		Speed: 50
	Turreted:
		TurnSpeed: 20
		RealignDelay: 15
        Offset: 175,165,110
	RevealsShroud:
		Range: 4c0
	WithMuzzleOverlay:
    Cargo:
        MaxWeight: 12
		Types: Infantry
		PipCount: 12 
	Armament:
		Weapon: HMG
		Recoil: 0
		RecoilRecovery: 25
		MuzzleSequence: muzzle
        LocalOffset: 225, 165, 110
        MuzzlePalette: d2keffect       
	AttackTurreted:
	WithMuzzleOverlay:
	WithSpriteTurret:
        Palette: player
        IsPlayerPalette: true
	Explodes:
    	Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
	Selectable:
		Class: d2k_atreides_apc
	RenderSprites:
		PlayerPalette: player
  	Cloak:
		InitialDelay: 500
		CloakDelay: 375
		UncloakOn: Attack, Unload, Demolish, Damage
		CloakTypes: Cloak
		Palette: player
		IsPlayerPalette: true      
        CloakedCondition: cloaked
        PauseOnCondition: cloak-force-disabled || base-reveal
   	AttractsWorms:
		Intensity: 1000

d2k_atreides_apc.bot1:
    Inherits: d2k_atreides_apc
    Buildable:
		Prerequisites: ~faction.atreides, upgrade.heavy, ~techlevel.medium, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 200
    Cargo:
        InitialUnits: light_inf, light_inf, light_inf, light_inf, light_inf, light_inf, trooper, trooper, trooper, grenadier, grenadier, grenadier
    RenderSprites:
        Image: d2k_atreides_apc

d2k_atreides_apc.bot2:
    Inherits: d2k_atreides_apc.bot1
    ProductionCostMultiplier:
        Multiplier: 300 
    Cargo:
        InitialUnits: trooper, trooper, trooper, trooper, trooper, trooper, trooper, trooper, trooper, trooper, trooper, grenadier
        
d2k_zergling:
    Inherits: SCZERGLING
    Tooltip:
		Name: Mutated Zergling
 	Buildable:
		Queue: Infantry.d2k, Infantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 10
		BuildDuration: 80
		BuildDurationModifier: 100
		Prerequisites: ~faction.tleilaxu
		Description: Creature made from DNA of Alien Zerg race\nGenetically enhanced to be breed more powerful
    Tooltip:
		Name: 
 	Mobile:
		Speed: 135
	Health:
		HP: 10000
  	Power:
		Amount: -20
 	Valued:
		Cost: 250
    FirepowerMultiplier:
        Modifier: 150
    RenderSprites:
        Image: sczergling
        Scale: 1.25

d2k_scourge:
	Inherits: SCSCOURGE
	Valued:
		Cost: 300
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Tooltip:
		Name: Mutated Scourge
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: ~faction.tleilaxu, d2k_tleilaxu_tech, ~techlevel.low
		Queue: Infantry.d2k, Infantry.d2k, Infantry.X_Infantry
		Description: Creature made from DNA of Alien Zerg race\nInvisible\nServes for terrain exploration\nUnarmed
        BuildDuration: 375
        BuildDurationModifier: 100
	Aircraft:
		TurnSpeed: 7
		Speed: 185
	Health:
		HP: 5000
	Armor:
		Type: None
	RevealsShroud:
		Range: 6c0
		Type: GroundPosition
	-Armament@PRIMARY:
	-GrantConditionOnAttack:
	-KillsSelf:
	AttackAircraft:
    Power:
        Amount: -10
    Cloak:
		InitialDelay: 0
		CloakDelay: 0
		UncloakOn: None
		IsPlayerPalette: true     
        PauseOnCondition: cloak-force-disabled || base-reveal
    RenderSprites:
        Image: SCSCOURGE
        
d2k_basq:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@EXT: ^ExternalConditions
    Inherits@EMP: ^FrontalEMP
    Inherits@bot: ^BotMicromanageable
	Buildable:
		Queue: Infantry.d2k, Infantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 80
		BuildDuration: 650
		BuildDurationModifier: 100
		Prerequisites: ~faction.tleilaxu, upgrade.basq, d2k_tleilaxu_tech, ~techlevel.medium
		Description: Bio hover tank\nGood against both ground and air\nResistant against missiles and heavy calibre armaments
	    IconPalette: ra2    
    Valued:
		Cost: 750
    Power:
        Amount: -40    
	Tooltip: 
		Name: Basq 
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 42500
	Armor:
		Type: None
	Mobile:
		TurnSpeed: 14
		Speed: 115
        Locomotor: hover
	RevealsShroud:
		Range: 4c0
	Armament:
		Weapon: d2k_basq
		Recoil: 65
		RecoilRecovery: 25
		MuzzleSequence: muzzle
        LocalOffset: 600, 0, 175   
        PauseOnCondition: !ammo        
    Armament@aa:
		Weapon: d2k_basq_AA
		Recoil: 65
		RecoilRecovery: 25
		MuzzleSequence: muzzle
        LocalOffset: 600, 0, 175    
        PauseOnCondition: !ammo
	AttackFrontal:
	Explodes:
    	Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	Selectable:
		Class: d2k_basq
	AttractsWorms:
		Intensity: 500
	RenderSprites:
        Scale: 0.7
    Cloak@TDcloak:
        Palette: racloak 
    AmmoPool:
		Ammo: 20
		AmmoCondition: ammo
        PipCount: 5
    ReloadAmmoPool: 
    	Delay: 40
		Count: 5
		ResetOnFire: true    
        RequiresCondition: tleilaxu_rearm
    ReloadAmmoPool@aireload:
        Delay: 100
        Count: 5
        ResetOnFire: true
        RequiresCondition: botmicro
    ExternalCondition@rearm:
        Condition: tleilaxu_rearm     
      
bomb_buggy:
	Inherits: ^D2KVehicle
    Inherits@BotMicro: ^BotMicromanageable
    Inherits@EXT: ^ExternalConditions   
    Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@starport: ^Starport
	Valued:
		Cost: 500
	Tooltip:
		Name: Bomb Buggy
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 110
		BuildDuration: 300
		BuildDurationModifier: 100
		Prerequisites: ~techlevel.low, ~light.harkonnen, upgrade.light, ~faction.corrino
		Description: Suicidal remote vehicle armed with high explosives\nHas very weak armor \n\n Requires a Light Factory in order to move.
        IconPalette: d2kunit    
	WithColoredOverlay:
		Palette: disabled
		RequiresCondition: !remote
	Selectable:
		Class: bomb_buggy
		DecorationBounds: 28,28
	Mobile:
		TurnSpeed: 24
		Speed: 120
		PauseOnCondition: notmobile || !remote
	GrantConditionOnPrerequisite@Remote:
		Prerequisites: light_factory
		Condition: remote     
	Health:
		HP: 6000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 4c768
	Explodes:
		Weapon: D2KBuggyExplosion
		EmptyWeapon: D2KBuggyExplosion
	AttackFrontal:
		FacingTolerance: 128
	Armament@PRIMARY:
		Weapon: SuicideBomberTargeting
	GrantConditionOnAttack:
		Condition: triggered
	GrantConditionOnDeploy:
		DeployedCondition: triggered
	KillsSelf@Triggered:
		RequiresCondition: triggered
	ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 4, 8
		Range: 1c0, 3c768
	-Capturable:
	RenderSprites:
        Scale: 0.8
    Cloak@TDcloak:
        Palette: racloak    
 	Voiced:
		VoiceSet: USASentryDroneVoice
        
d2k_stealth_tank:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@EXT: ^ExternalConditions   
    Inherits@IXEMP: ^D2K_Ix_Turret_EMP
    Inherits@starport: ^Starport
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: ReturnFire
	Valued:
		Cost: 1200
	Tooltip:
		Name: Alshabah
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 100
		BuildDuration: 600
		BuildDurationModifier: 100
		Prerequisites: ~heavy.atreides, research_centre, ~techlevel.high, ~faction.fremen
		Description: Fremen Quick Stealth tank armed with missile launcher and autocannon\nLow durability\n  Strong vs Vehicles, Air\n  Weak vs Infantry
        IconPalette: d2kunit    
	Selectable:
		Class: stealth_tank
	Mobile:
		TurnSpeed: 20
		Speed: 100
	Health:
		HP: 37500
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 5c0
    Voiced:
        VoiceSet: D2KFremenVoice2
	Cloak:
		InitialDelay: 40
		CloakDelay: 25
		UncloakOn: Attack, Unload, Demolish, Dock, Damage, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        CloakedCondition: cloaked
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
    Armament@cannon:
		Weapon: D2K_alshabah_autocannon
		LocalOffset: 400,0,0
        Name: primary
        MuzzlePalette: d2keffect       
	Armament@RGround:
		Weapon: Rocket.stealth
        Name: secondary
        PauseOnCondition: !ammo
		LocalOffset: 213,43,128, 213,-43,128
	Armament@RAA:
		Weapon: Rocket.stealthAA
        Name: aa
        PauseOnCondition: !ammo
		LocalOffset: 213,43,128, 213,-43,128
    WithSpriteTurret:
    Turreted:
        TurnSpeed: 15
        Offset: -25,0,350
	AttackTurreted:
        Armaments: primary, secondary, aa
	SpawnActorOnDeath:
		Actor: d2k_stealth_tank.husk
	-MustBeDestroyed:
    AmmoPool:
		Ammo: 2
		AmmoCondition: ammo
        Armaments: secondary, aa
        PipCount: 0
    ReloadAmmoPool: 
    	Delay: 250
		Count: 2
		ResetOnFire: false 
    Explodes:
    	Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	RenderSprites:
		PlayerPalette: player
	AttractsWorms:
		Intensity: 0
        
d2k_stealth_tank.husk:
	Inherits: ^D2KVehicleHusk
	Tooltip:
		Name: Destroyed Alshabah
	TransformOnCapture:
		IntoActor: d2k_stealth_tank
	InfiltrateForTransform:
		IntoActor: d2k_stealth_tank
	RenderSprites:

emperor_stealth_tank:
    Inherits: d2k_stealth_tank
    Buildable:
		Prerequisites: upgrade.heavy, research_centre, ~techlevel.high, ~faction.emperor
    RenderSprites:
        Image: d2k_stealth_tank
        
d2k_apc:
	Inherits: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@CARGO: ^CargoVehicle
    Inherits@EXT: ^ExternalConditions   
    Inherits@EMP: ^TurretEMP
    Inherits@starport: ^Starport
	Valued:
		Cost: 500
	Tooltip:
		Name: Personnel Carrier
	Buildable:
		Queue: Vehicle.d2k, Starport.d2k, RAStarport.d2k, RAVehicle.d2k
		BuildPaletteOrder: 40
		BuildDuration: 325
		BuildDurationModifier: 100
		Prerequisites: upgrade.light, ~light.ordos, ~techlevel.low, ~!faction.tleilaxu, ~!faction.ordos
		Description: Hit and Run Vehicle with small cannon and missile launcher\nCan carry 3 passengers
        IconPalette: d2kunit       
	AIDeployNotifier:
		DeployChance: 100     
	Selectable:
		Class: apc
	Mobile:
		TurnSpeed: 12
		Speed: 110
	Health:
		HP: 38000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 4c768
	Turreted:
		TurnSpeed: 15
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall        
	Armament@primary:
		Weapon: d2k25mm
        Name: primary
		LocalOffset: 768,0,90  
	AttackTurreted:
        Armaments: primary, secondary, aa
	AutoTarget:
	Cargo:
		Types: Infantry
		MaxWeight: 3
		LoadingCondition: notmobile
        PipCount: 3
	WithSpriteTurret@default:
		Sequence: turret-tank
        IsPlayerPalette: true
      	Palette: player
	SpawnActorOnDeath:
		Actor: d2k_apc.husk
	RenderSprites:
        Image: d2k_apc
        PlayerPalette: raplayer
        Scale: 1      
    Armament@MGround:
		Weapon: d2k_APCo.AG
        Name: secondary
		LocalOffset: 768,75,90
        PauseOnCondition: !ammo
	Armament@MAA:
		Weapon: d2k_APCo.AA
        Name: aa
		LocalOffset: 768,75,90
        PauseOnCondition: !ammo
    AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
        Armaments: secondary, aa
        PipCount: 0
    ReloadAmmoPool: 
    	Delay: 150
		Count: 1
		ResetOnFire: false    

d2k_apc.bot1:
    Inherits: d2k_apc
    Buildable:
        Prerequisites: upgrade.light, ~light.ordos, ~techlevel.low, ~!faction.tleilaxu, ~!faction.ordos, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 133
    Cargo:
        InitialUnits: trooper, trooper, trooper
    RenderSprites: 
        Image: d2k_apc

d2k_apc.bot2:
    Inherits: d2k_apc.bot1
    ProductionCostMultiplier:
        Multiplier: 150
    Cargo:
        InitialUnits: grenadier, grenadier, grenadier

d2k_apc.bot3:
    Inherits: d2k_apc.bot1
    ProductionCostMultiplier:
        Multiplier: 110
    Cargo:
        InitialUnits: light_inf, light_inf, light_inf
        
d2k_apc.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 10000
	Tooltip:
		Name: Destroyed Personnel Carrier
	ThrowsParticle@turret:
		Anim: turret
	TransformOnCapture:
		IntoActor: d2k_apc
	InfiltrateForTransform:
		IntoActor: d2k_apc
	RenderSprites:
        PlayerPalette: raplayer

d2k_stealth_apc:
    Inherits: d2k_apc
    Valued:
		Cost: 450
	Tooltip:
		Name: Stealth Personnel Carrier
	Buildable:
		BuildPaletteOrder: 40
		BuildDuration: 300
		BuildDurationModifier: 100
		Prerequisites: upgrade.light, high_tech_factory, ~light.ordos, ~techlevel.medium, ~faction.ordos
		Description: Stealth Hit and Run Vehicle\nCan carry 6 passengers\nUnarmed.\n  Special Ability: Invisibility
        IconPalette: d2kunit      
        Icon: icon_stealth
   	-Turreted:   
	-Armament@primary:    
    -AutoTarget:
    -AttackTurreted:
    -WithSpriteTurret@default:
    -AutoTargetPriority@DEFAULT:
    -AutoTargetPriority@ATTACKANYTHING:
    -SpawnActorOnDeath:
    Voiced:
        VoiceSet: D2KStealthLightVehicle
    Cargo:
		Types: Infantry
		MaxWeight: 6
		LoadingCondition: notmobile
        PipCount: 6
   	Mobile:
		TurnSpeed: 16
		Speed: 120    
    Cloak:
		InitialDelay: 80
		CloakDelay: 80
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        UncloakOn: Unload, Infiltrate, Demolish, Dock, Damage, Heal, Attack    
      	Palette: racloak         
        CloakedCondition: cloaked
    -Armament@MGround:
	-Armament@MAA:

d2k_stealth_apc.bot1:
    Inherits: d2k_stealth_apc
    Buildable:
		Prerequisites: upgrade.light, high_tech_factory, ~light.ordos, ~techlevel.medium, ~faction.ordos, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 125
    Cargo:
        InitialUnits: chem_troop, chem_troop, chem_troop, chem_troop, chem_troop, trooper

d2k_stealth_apc.bot2:
    Inherits: d2k_stealth_apc.bot1
    ProductionCostMultiplier:
        Multiplier: 150
    Cargo:
        InitialUnits: trooper, trooper, trooper, trooper, trooper, chem_troop

d2k_stealth_apc.bot3:
    Inherits: d2k_stealth_apc.bot2
    Cargo:
        InitialUnits: grenadier, grenadier, grenadier, grenadier, chem_troop, trooper
        
d2k_mcv:
	Inherits@D2KT: ^D2KTank
	Inherits@selection: ^SelectableSupportUnit
    Inherits@D2KSprite: ^D2KPaletteRender
    Inherits@mcv: ^MCV
    Inherits@conyard: ^Conyard
	Inherits@EXT: ^ExternalConditions    
    Inherits@starport: ^Starport
	Buildable:
		Prerequisites: repair_pad, upgrade.heavy, ~techlevel.medium
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 110
		BuildDuration: 750
		BuildDurationModifier: 100
		Description: Deploys into another Construction Yard\n  Unarmed
        IconPalette: d2kunit            
	Valued:
		Cost: 2000
	Tooltip:
		Name: Mobile Construction Vehicle
	Selectable:
		Class: mcv
		DecorationBounds: 45, 32
	Health:
		HP: 400000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 31
	RevealsShroud:
		Range: 2c768
	MustBeDestroyed:
		RequiredForShortGame: true
	BaseBuilding:
	Explodes:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
	Transforms:
		IntoActor: construction_yard
		Offset: -1,-1
		TransformSounds: BUILD1.WAV
   		Facing: 64     
		NoTransformNotification: BuildingCannotPlaceAudio
	SpawnActorOnDeath:
		Actor: d2k_mcv.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
	AttractsWorms:
		Intensity: 700
	ChangesHealth:
		Step: 50
		Delay: 3
		StartIfBelow: 50
	-RevealOnFire:
    Cloak@TDcloak:
        Palette: d2kcloak
    Voiced:
        VoiceSet: D2KMCV

d2k_tleilaxu_mcv:
    Inherits: d2k_mcv
    Buildable:
		Prerequisites: d2k_tleilaxu_tech, upgrade.mcv, ~faction.tleilaxu, ~techlevel.medium
		Queue: Infantry.d2k, RAInfantry.d2k
		BuildPaletteOrder: 110
		BuildDuration: 750
		BuildDurationModifier: 100  
    RenderSprites:
        Image: d2k_mcv
        
d2k_jammer:
	Inherits@D2KT: ^D2KTank
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@EXT: ^ExternalConditions
    Inherits@starport: ^Starport
	Valued:
		Cost: 1200
	Tooltip:
		Name: Ix Projector
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 80
		BuildDuration: 562
		BuildDurationModifier: 100
		Prerequisites: research_centre, ~techlevel.high, ~du_ix_emperor
		Description: Ultimate Ixian unit for causing chaos and distraction among enemy forces\nJams nearby enemy outposts and Ixian technologies within enemy hands\nCan detect cloaked units.\nCan disable enemy vehicles with EMP.\nCan make fake projections giving impression there is a larger army present.\nProjections disappears when too far away from Projector\n  Special Abilities: Invisibility, Safety Measure, Projections, Detector
	    IconPalette: windows256      
    Health:
		HP: 16000
	Armor:
		Type: Medium
	Mobile:
		TurnSpeed: 12
		Speed: 65
        Locomotor: hover
    Hovers:
	RevealsShroud:
		Range: 8c0
	ProximityExternalCondition@JAMMER:
		Range: 18c0
		ValidStances: Enemy, Neutral
		Condition: jammed
    WithIdleOverlay@SPINNER:
		Sequence: spinner
		Offset: -64,0,0
	WithRangeCircle@JAMMER:
		Type: jammer
		Range: 18c0
		Color: 0000FF80
    ProximityExternalCondition@IXDISABLE:
		Range: 14c0
		ValidStances: Enemy, Neutral
		Condition: ixdisable   
    ProximityExternalCondition@projection:
		Range: 12c0
		ValidStances: Ally
		Condition: projectionrange        
	Armament@Anim:
		Weapon: empdisable.anim
		RequiresCondition: end_disable == 0
	Armament@End:
		Weapon: empdisable.end
		RequiresCondition: end_disable >= 1
	GrantConditionOnAttack@End:
		Condition: end_disable
		RequiredShotsPerInstance: 25
		MaximumInstances: 1
		RevokeDelay: 4
		RevokeAll: true
		IsCyclic: false
	AttackFrontal:
	Targetable:
		TargetTypes: Ground, Jammer, Vehicle
	RenderJammerCircle:
	SpawnActorOnDeath:
		Actor: d2k_jammer.husk
	DetectCloaked:
		Range: 8c0
	Cloak@STEALTH:
		InitialDelay: 40
		CloakDelay: 80
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
	RenderSprites:
		Scale: 0.9
        Image: d2k_projector
	GrantConditionOnDeploy:
		DeployedCondition: projection
		SkipMakeAnimation: true
		UndeployOnMove: true
		UndeployOnPickup: true
		PauseOnCondition: disabled
    AmmoPool: 
        Name: projection
        Ammo: 3
        Armaments: 
    ReloadAmmoPool:
        AmmoPool: projection
        Delay: 500
        Count: 3
	PeriodicExplosion@projections:
		Weapon: d2k_projections
		RequiresCondition: projection
        AmmoPoolName: projection
   	AIDeployNotifier:
		DeployChance: 100      

d2k_jammer.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 10000
	Tooltip:
		Name: Destroyed Ix Projector
	TransformOnCapture:
		IntoActor: d2k_jammer
	InfiltrateForTransform:
		IntoActor: d2k_jammer
	RenderSprites:
    	Image: d2k_projector.husk
		Scale: 0.8

swarmer:
	Inherits: ^RANeutralPlane
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience 
    Inherits@starport: ^Starport
	AutoTarget:
		InitialStance: ReturnFire
	Valued:
		Cost: 450
	Buildable:
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		BuildPaletteOrder: 30
		Prerequisites: ~anyordos, outpost, ~techlevel.medium, ~!faction.tleilaxu
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Light plane armed with dual machine guns. \nCan attack air.\n Strong vs Infantry and Air
	Tooltip:
		Name: Swarmer
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 12000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 5c0
		Type: GroundPosition
	AttackAircraft:
		FacingTolerance: 80
	Armament@PRIMARY:
		Weapon: d2kChainGun
		LocalOffset: 256,-213,0, 256,213,0
		MuzzleSequence: muzzle
        MuzzlePalette: ra2effect       
	Aircraft:
		CruiseAltitude: 1920
		Speed: 264
		TurnSpeed: 12
		RepulsionSpeed: 40
		MaximumPitch: 56
		CanHover: false    
	Guard:
		Voice: Guard
	Guardable:
	WithMuzzleOverlay:
	Targetable:
		TargetTypes: Air, Plane
	SpawnActorOnDeath:
		Actor: swarmer.husk
	Selectable:
		Class: phoenix
		Bounds: 30,25,0,0
	SelectionDecorations:
	Voiced:
		VoiceSet: D2KVehicleVoice
	RenderSprites:
		Scale: 0.7
  	ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 1, 2
		Range: 1c0, 3c0    
        
d2k_aa_mine:
	Inherits: ^RANeutralPlane
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@GAINSEXPERIENCE: ^GainsExperience 
    Inherits@starport: ^Starport
	AutoTarget:
		InitialStance: ReturnFire
	Valued:
		Cost: 500
	Buildable:
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		BuildPaletteOrder: 30
		Prerequisites: ~anyordos, outpost, ~techlevel.medium, ~!faction.tleilaxu
		BuildDuration: 500
		BuildDurationModifier: 100
		Description: Slowly Flying Mine that hurls missiles upon contact with enemy airplane before exploding\nIn higher numbers can take down entire squadron
	Tooltip:
		Name: Anti-Air Mine
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 1000
	Armor:
		Type: Light
	RevealsShroud:
		Range: 5c0
		Type: GroundPosition
   	Explodes:
		Weapon: D2KAAMineExplosion
		EmptyWeapon: D2KAAMineExplosion     
    RangeMultiplier@mine:
        Modifier: 1000
        RequiresCondition: attack
    RejectsOrders@mine:
        RequiresCondition: attack
    KillsSelf@mine:
        RequiresCondition: attack
        Delay: 20
    GrantConditionOnAttack:
        Condition: attack
	AttackAircraft:
		FacingTolerance: 128
	Armament@PRIMARY:
		Weapon: d2k_aa_mine     
        LocalOffset: -250,-300,300, -250,300,300
		LocalYaw: -100,100
	Aircraft:
		CruiseAltitude: 1920
		Speed: 25
		TurnSpeed: 2
		RepulsionSpeed: 40
		MaximumPitch: 56
		CanHover: true
	Targetable:
		TargetTypes: Air, Plane, Mine
	Selectable:
		Class: d2k_aa_mine
		Bounds: 30,25,0,0
	SelectionDecorations:
	Voiced:
		VoiceSet: D2KVehicleVoice
	RenderSprites:
		Scale: 0.8
    AutoTarget:
        InitialStance: AttackAnything
	ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 4, 6
		Range: 1c0, 3c768
	Cloak:
        UncloakOn: Damage
        IsPlayerPalette: true
        PauseOnCondition: cloak-force-disabled || base-reveal
    Hovers:
    -SpawnActorOnDeath:

^Ornithopter_Missiles:
    GrantConditionOnPrerequisite@orniupg:
        Condition: d2k_ornithopter_upgrade
        Prerequisites: d2k_ornithopter_upgrade
	Armament@bombs:
        RequiresCondition: !d2k_ornithopter_upgrade
	Armament@missiles:
        Name: secondary
		Weapon: OrniMissile
        RequiresCondition: d2k_ornithopter_upgrade
        
ornithopter:
    Inherits@D2KSprite: ^D2KPaletteRender  
	Inherits@EXT: ^ExternalConditions
	Inherits: ^Plane
    Inherits@ornimiss: ^Ornithopter_Missiles 
	AttackBomber:
        FacingTolerance: 0
	Armament@bombs:
        Name: secondary
		Weapon: OrniBomb
        RequiresCondition: !d2k_ornithopter_upgrade
    Armament@guns:
        Name: primary
		Weapon: OrniGun
		LocalOffset: 0,128,0, 0,-128,0
        MuzzleSequence: muzzle
        MuzzlePalette: d2keffect       
	Health:
		HP: 45000
	Armor:
		Type: Medium
    WithMuzzleOverlay:   
	Aircraft:
		Speed: 224
		TurnSpeed: 2
		Repulsable: False
		CruiseAltitude: 1920
	AmmoPool:
		Ammo: 6
	Tooltip:
		Name: Ornithopter
	SpawnActorOnDeath:
		Actor: ornithopter.husk
	RejectsOrders:
	RevealOnFire:
    Targetable@AIRBORNE:
		TargetTypes: Air
    HitShape:
		Type: Circle
			Radius: 256
	-MapEditorData:
    Interactable: 
    
ornithopter.controllable:
    Inherits@D2KSprite: ^D2KPaletteRender  
    Inherits: ^RANeutralPlane
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience
    Inherits@starport: ^Starport
    Inherits@ornimiss: ^Ornithopter_Missiles 
    AutoTarget:
		InitialStance: ReturnFire
	Valued:
		Cost: 1250
	Tooltip:
		Name: Ornithopter
    Buildable:
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		BuildPaletteOrder: 40
		Prerequisites: ~du_ornithopter, outpost, ~techlevel.medium
		BuildDuration: 600
		BuildDurationModifier: 100
		Description: Powerful Aircraft armed with dual Heavy Machine Guns and Bombs.\n Strong vs Everything
        IconPalette: d2kunit
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 32000
	AmmoPool:
        Name: primary
		Ammo: 6
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 250
		Count: 6
		ResetOnFire: false
	AttackAircraft:
        AttackType: Strafe
        Armaments: primary, guns
        StrafeRunLength: 7c0
        PersistentTargeting: False
        FacingTolerance: 10
	Armament@guns:
        Name: guns
		Weapon: OrniGunC
		LocalOffset: 0,128,0, 0,-128,0
        MuzzleSequence: muzzle
        MuzzlePalette: d2keffect      
    Armament@bombs:
        Name: primary
		Weapon: OrniBombC    
        PauseOnCondition: !ammo
	Armament@missiles:
        Name: primary
        PauseOnCondition: !ammo
	Aircraft:
        CruiseAltitude: 1920
		Speed: 184
		RepulsionSpeed: 40
		MaximumPitch: 56
		Repulsable: true
		CanHover: false
		AirborneCondition: airborne
		TurnSpeed: 10
	RevealsShroud:
		Range: 4c0
		Type: GroundPosition
    WithMuzzleOverlay:
	Guard:
		Voice: Guard       
	Guardable:
	Targetable:
		TargetTypes: Air, Plane
	WithFacingSpriteBody:
		RequiresCondition: airborne
	WithFacingSpriteBody@LANDED:
		Sequence: idle-landed
		RequiresCondition: !airborne
	Selectable:
		Class: ornithopter.controllable
		Bounds: 40,30,0,0
	SelectionDecorations:
	SpawnActorOnDeath:
		Actor: ornithopter.controllable.husk
	Voiced:
		VoiceSet: D2KVehicleVoice
	RenderSprites:
		Image: ornithopter
	MapEditorData:
		Categories: Aircraft
        
ornithopter.controllable.husk:
	Inherits: ornithopter.husk
	Aircraft:
		Speed: 156  
        
d2k_air_drone: 
    Inherits: ^RANeutralPlane
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@GAINSEXPERIENCE: ^GainsExperience
    Inherits@starport: ^Starport
    AutoTarget:
		InitialStance: ReturnFire
	Valued:
		Cost: 750
	Tooltip:
		Name: Air Drone
    Buildable:
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		BuildPaletteOrder: 10
		Prerequisites: ~anyatreides, outpost, ~techlevel.medium
		BuildDuration: 450
		BuildDurationModifier: 100
		Description: Stealthed and Light air unit that is used for defence against other air units.\nCarries an AA missile launcher that automatically fires\nat any air unit within range. Due to it's light armor,\nit is easily destroyed from enemy AA fire.\nDetector
        IconPalette: windows256
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 16000
	AmmoPool:
        Name: primary
		Ammo: 2
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 200
		Count: 1
		ResetOnFire: false
	AttackAircraft:
        FacingTolerance: 64
	Armament:
		Weapon: d2k_air_drone
		LocalOffset: 0,0,0
        MuzzleSequence: muzzle
        MuzzlePalette: d2keffect       
        PauseOnCondition: !ammo
	Aircraft:
        CruiseAltitude: 1800
		Speed: 205
		RepulsionSpeed: 50
		MaximumPitch: 56
		Repulsable: true
		CanHover: false
		AirborneCondition: airborne
		TurnSpeed: 10
	RevealsShroud:
		Range: 4c0
		Type: GroundPosition
	Guard:
		Voice: Guard
	Guardable:
	Targetable:
		TargetTypes: Air, Plane
	WithFacingSpriteBody:
		RequiresCondition: airborne
	WithFacingSpriteBody@LANDED:
		Sequence: idle
		RequiresCondition: !airborne
	Selectable:
		Class: d2k_air_drone
		Bounds: 34,30,0,0
	SelectionDecorations:
	SpawnActorOnDeath:
		Actor: d2k_air_drone.husk
	Voiced:
		VoiceSet: D2KVehicleVoice
	RenderSprites:
		Image: d2k_air_drone
	MapEditorData:
		Categories: Aircraft
    DetectCloaked:
		Range: 4c0   
  	ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 1, 2
		Range: 1c0, 3c0     
    Cloak:
		InitialDelay: 150
		CloakDelay: 150
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        UncloakOn: Unload, Infiltrate, Demolish, Dock, Damage, Heal, Attack    
        CloakedCondition: cloaked    
        
phoenix:
	Inherits: ^RANeutralPlane
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@GAINSEXPERIENCE: ^GainsExperience 
    Inherits@starport: ^Starport
	AutoTarget:
		InitialStance: ReturnFire
	Valued:
		Cost: 800
	Buildable:
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		BuildPaletteOrder: 40
		Prerequisites: outpost, ~du_gunship, ~techlevel.medium
		BuildDuration: 512
		BuildDurationModifier: 100
		Description: Medium Plane armed with dual Air-To-Ground flame rockets.\n Strong vs Buildings, Vehicles, Infantry
	Tooltip:
		Name: Gunship
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 25000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 4c512
		Type: GroundPosition
	AmmoPool:
		Ammo: 3
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 200
		Count: 1
		ResetOnFire: true
	AttackAircraft:
		FacingTolerance: 80
	Armament:
		Weapon: PhoenixRocket
		LocalOffset: 0,-640,0, 0,640,0
		LocalYaw: -40, 24
		PauseOnCondition: !ammo
	Aircraft:
		CruiseAltitude: 1920
		Speed: 154
		TurnSpeed: 8
		RepulsionSpeed: 40
		MaximumPitch: 56
		CanHover: false
	Guard:
		Voice: Guard
	Guardable:      
	Targetable:
		TargetTypes: Air, Plane
	SpawnActorOnDeath:
		Actor: phoenix.husk
	Selectable:
		Class: phoenix
		Bounds: 36,28,0,2
		DecorationBounds: 40,29,0,1
	SelectionDecorations:
	Voiced:
		VoiceSet: D2KVehicleVoice
	RenderSprites:
        Image: d2k_gunship
    ThrowsShrapnel:
		Weapons: Debris2, Debris3
		Pieces: 2, 3
		Range: 2c0, 4c0     
        
swarmer.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Swarmer
	Aircraft:
		TurnSpeed: 2
		Speed: 172
	RenderSprites:
        Scale: 0.8
 	FallsToEarth:
		Explosion: D2KUnitExplodeSmall        
        
phoenix.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Gunship
	Aircraft:
		TurnSpeed: 2
		Speed: 172
	RenderSprites:
        Image: d2k_gunship.husk
    FallsToEarth:
		Explosion: D2KUnitExplodeMed    
d2k_air_drone.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Air Drone
	Aircraft:
		TurnSpeed: 2
		Speed: 196
	RenderSprites:
        Image: d2k_air_drone.husk
        Scale: 0.8      
 	FallsToEarth:
		Explosion: D2KUnitExplodeSmall   
   
d2k_combat_fleet:
	Inherits: ^Helicopter
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@MC: ^MCImmune 
    Inherits@guildtele: ^Guild_teleport
    Inherits@starport: ^Starport
	Valued:
		Cost: 1500
	Tooltip:
		Name: Combat Fleet
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 40
		Prerequisites: high_tech_factory, research_centre, ~techlevel.high, ~faction.guild
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		Description: Heavy fleet which fires multiple unguided rockets at its targets.\n Strong vs Ground targets
        IconPalette: ra2
	Aircraft:
		InitialFacing: 224
		TurnSpeed: 6
		Speed: 45
		IdealSeparation: 1c0
		RepulsionSpeed: 10
	Health:
		HP: 80000
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
	Armor:
		Type: Heavy
	Armament:
		Weapon: D2K_Combat_Fleet
		LocalOffset: 1200,-600,0,1200,600,0
	Turreted:
	AttackAircraft:
		FacingTolerance: 40
	SelectionDecorations:
	Selectable:
		DecorationBounds: 60,48
	Voiced:
		VoiceSet: D2KVehicleVoice
    RenderSprites:
  	SpawnActorOnDeath:
		Actor: d2k_combat_fleet.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
   	ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 3, 5
		Range: 2c0, 5c0
        
d2k_combat_fleet.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Combat Fleet
	Aircraft:
		TurnSpeed: 5
		Speed: 80
    RenderSprites:
        Image: d2k_combat_fleet
        Scale: 1.25
   	FallsToEarth:
		Explosion: D2KUnitExplodeLarge       
   
d2k_kwny_fighter:
	Inherits: ^Helicopter
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@MC: ^MCImmune 
    Inherits@guildtele: ^Guild_teleport
    Inherits@starport: ^Starport
	Valued:
		Cost: 1200
	Tooltip:
		Name: Kwny Fighter
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: high_tech_factory, ~techlevel.high, ~faction.guild
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		Description: Fast Spaceship fighter used for aerial combat. Equipped with guided missiles\nStrong vs Everything
        IconPalette: ra2
	Aircraft:
		InitialFacing: 224
		TurnSpeed: 6
		Speed: 90
		IdealSeparation: 1c0
		RepulsionSpeed: 10
	Health:
		HP: 35000
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition 
	Armor:
		Type: Medium
	Armament:
		Weapon: d2k_kwny_fighter
		LocalOffset: 1200,-400,0,1200,400,0
	Turreted:
	AttackAircraft:
		FacingTolerance: 40
	SelectionDecorations:
	Selectable:
		DecorationBounds: 45,40
	Voiced:
		VoiceSet: D2KVehicleVoice
  	SpawnActorOnDeath:
		Actor: d2k_kwny_fighter.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
   	ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 3, 5
		Range: 2c0, 5c0
         
d2k_kwny_fighter.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Kwny Fighter
	Aircraft:
		TurnSpeed: 5
		Speed: 200
    RenderSprites:
        Image: d2k_kwny_fighter
   	FallsToEarth:
		Explosion: D2KUnitExplodeMed

d2k_farasha:
	Inherits: ^Helicopter
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@MC: ^MCImmune 
    Inherits@guildtele: ^Guild_teleport
    Inherits@starport: ^Starport
	Valued:
		Cost: 7500
	Tooltip:
		Name: Farasha
    Hovers:
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 180
		Prerequisites: high_tech_factory, research_centre, ~techlevel.high, ~faction.guild
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		Description: Carrier spaceship.\nUses Alfayrus drones to attack
        IconPalette: ra2
        BuildDuration: 1500
        BuildDurationModifier: 100
	Aircraft:
		InitialFacing: 224
		TurnSpeed: 6
		Speed: 35
		IdealSeparation: 1c0
		RepulsionSpeed: 10
  	CarrierMaster:
		Actors: d2k_farasha_drone, d2k_farasha_drone, d2k_farasha_drone, d2k_farasha_drone, d2k_farasha_drone, d2k_farasha_drone
		RearmTicks: 10
		RespawnTicks: 375
		InstaRepair: true
		SlaveDisposalOnKill: KillSlaves
		SpawnAllAtOnce: false         
	Health:
		HP: 160000
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
	Armor:
		Type: Heavy
  	Armament@drones:
		Weapon: d2k_dronelauncher
	Armament:
		Weapon: d2k_farasha
		LocalOffset: 750,0,0
	Turreted:
	AttackAircraft:
		FacingTolerance: 30
	SelectionDecorations:
	Selectable:
		DecorationBounds: 45,40
	Voiced:
		VoiceSet: D2KVehicleVoice
  	SpawnActorOnDeath:
		Actor: d2k_farasha.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
   	ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 6, 10
		Range: 3c0, 6c0
    RenderSprites:
        
d2k_farasha.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Farasha
	Aircraft:
		TurnSpeed: 5
		Speed: 45
    RenderSprites:
        Image: d2k_farasha
   	FallsToEarth:
		Explosion: D2KUnitExplodeLarge

d2k_farasha_drone:
	Inherits: ^Plane
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Valued:
		Cost: 50
	Tooltip:
		Name: Alfayrus
    Hovers:
	Aircraft:
		InitialFacing: 224
		TurnSpeed: 8
		Speed: 215
		Repulsable: false
		VTOL: true
		CruiseAltitude: 1c256
	Targetable:
		TargetTypes: Air
	CarrierSlave:
		LandingDistance: 2c0
	Health:
		HP: 12500
	Armor:
		Type: Light
	RevealsShroud:
		Range: 6c0
		Type: GroundPosition
	Armament@PRIMARY:
		Weapon: d2k_farasha_drone
		LocalOffset: 150,0,0
	AttackAircraft:
		FacingTolerance: 20
	Voiced:
		VoiceSet: D2KVehicleVoice
	-ActorLostNotification:
	-UpdatesPlayerStatistics:
	Interactable:
	HitShape:
	-MapEditorData:
    SpawnActorOnDeath:
		Actor: d2k_farasha_drone.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true   
   	ThrowsShrapnel:
		Weapons: Debris, Debris2
		Pieces: 1, 2
		Range: 1c0, 3c0
        
d2k_farasha_drone.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Alfayrus
	Aircraft:
		TurnSpeed: 5
		Speed: 260
    RenderSprites:
        Image: d2k_farasha_drone
   	FallsToEarth:
		Explosion: D2KUnitExplodeSmall

d2k_airdefenseplatform:
	Inherits: ^Helicopter
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@starport: ^Starport
	Valued:
		Cost: 1500
	Tooltip:
		Name: Air Defense Platform
    Hovers:
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 180
		Prerequisites: high_tech_factory, research_centre, ~techlevel.high, ~anyharkonnen
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k, Aircraft.X_Aircrafts
		Description: Base Defense equipped with Dual High Calibre Machinegun
        IconPalette: ra2
        BuildDuration: 625
        BuildDurationModifier: 100
	Aircraft:
		InitialFacing: 224
		TurnSpeed: 4
		Speed: 28
		IdealSeparation: 1c0
		RepulsionSpeed: 10
	Health:
		HP: 75000
	RevealsShroud:
		Range: 10c0
		Type: GroundPosition
	Armor:
		Type: Heavy
	Armament:
		Weapon: d2k_airdefenseplatform
		LocalOffset: -250,0,-200
        MuzzleSequence: muzzle
        MuzzlePalette: d2keffect
	Turreted:
	AttackAircraft:
		FacingTolerance: 20
	SelectionDecorations:
	Selectable:
		DecorationBounds: 45,40
    WithMuzzleOverlay:  
	Voiced:
		VoiceSet: D2KVehicleVoice
  	SpawnActorOnDeath:
		Actor: d2k_airdefenseplatform.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
    RenderSprites:
   	ThrowsShrapnel:
		Weapons: Debris, Debris2
		Pieces: 2, 3
		Range: 1c0, 3c0
        
d2k_airdefenseplatform.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Farasha
	Aircraft:
		TurnSpeed: 5
		Speed: 35
    RenderSprites:
        Image: d2k_airdefenseplatform
   	FallsToEarth:
		Explosion: D2KUnitExplodeLarge
        
harvester:
	Inherits@D2KT: ^D2KTank
    Inherits@harv: ^Harvester
	Inherits@selection: ^SelectableEconomicUnit
    Inherits@D2KSprite: ^D2KPaletteRender  
    Inherits@EXT: ^ExternalConditions
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		Prerequisites: refinery, ~d2k_prereq_no_tleilaxu
		BuildPaletteOrder: 10
		BuildDuration: 400
		BuildDurationModifier: 100
		Description: Collects Spice for processing\n  Unarmed
        IconPalette: d2kunit           
	Valued:
		Cost: 1000
	Tooltip:
		Name: Spice Harvester
	Selectable:
		Class: harvester
		DecorationBounds: 32, 32
	Harvester:
		Capacity: 45
		HarvestFacings: 8
		BaleUnloadDelay: 10
		SearchFromProcRadius: 30
		SearchFromHarvesterRadius: 15
	CarryableHarvester:
	Health:
		HP: 200000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 43
	RevealsShroud:
		Range: 3c768
    GrantConditionOnPrerequisite@guildharv:
		Prerequisites: faction.guild
		Condition: harv_spd
    GrantConditionOnPrerequisite@ixianharv:
		Prerequisites: faction.ixian
		Condition: harv_cloak   
    SpeedMultiplier@harv_upg:
        Modifier: 125
        RequiresCondition: harv_spd
    GrantConditionOnPrerequisite@corrinoharv:
		Prerequisites: faction.corrino
		Condition: harv_hp    
    DamageMultiplier@corrinoharv:
        Modifier: 60
        RequiresCondition: harv_hp
	Explodes:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
	SpawnActorOnDeath:
		Actor: harvester.Husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
	WithHarvestOverlay:
		Palette: effect50alpha
	WithDockingAnimation:
	AttractsWorms:
		Intensity: 750
	ChangesHealth:
		Step: 50
		Delay: 3
		StartIfBelow: 50
	-RevealOnFire:
    Cloak@TDcloak:
        Palette: d2kcloak
    Cloak:
		InitialDelay: 80
		CloakDelay: 80
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        UncloakOn: Unload, Infiltrate, Demolish, Dock, Damage, Heal, Attack    
      	Palette: d2kcloak         
        CloakedCondition: cloaked 
        RequiresCondition: harv_cloak
    Voiced:
        VoiceSet: D2KHarvester
        
trike:
	Inherits@D2KV: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender      
	Inherits@EXT: ^ExternalConditions   
    Inherits@EMP: ^FrontalEMP
    Inherits@starport: ^Starport
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 10
		Prerequisites: ~light.trike, ~!faction.harkonnen
		BuildDuration: 175
		BuildDurationModifier: 100
		Description: Fast scout\n  Strong vs Infantry\n  Weak vs Tanks
        IconPalette: d2kunit          
	Valued:
		Cost: 250
	Tooltip:
		Name: Trike
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Selectable:
		Class: trike
	Health:
		HP: 27500
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 40
		Speed: 128
	RevealsShroud:
		Range: 4c768
	WithMuzzleOverlay:
	Armament@damage:
		Weapon: HMG
		LocalOffset: -544,0,0
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect
	AttackFrontal:
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall
	AttractsWorms:
		Intensity: 420
    Cloak@TDcloak:
        Palette: d2kcloak
    Voiced:
        VoiceSet: D2KTrike
d2k_buzzsaw:
	Inherits@D2KV: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove     
	Inherits@EXT: ^ExternalConditions   
    Inherits@EMP: ^FrontalEMP
    Inherits@starport: ^Starport
	Valued:
		Cost: 300
	Tooltip:
		Name: Buzzsaw
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: ~faction.harkonnen
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
        BuildDuration: 200
		BuildDurationModifier: 100
		Description: Fast and moderately armoured, this unit is ideal for scouting\nan area quickly and taking out infantry either with its dual cannons\nor with the massive central blade\n  Strong vs Infantry\n  Weak vs Vehicles, Aircraft
	Mobile:
		TurnSpeed: 12
		Speed: 102
        Voice: Move    
	Health:
		HP: 30000
    Repairable:
		HpPerStep: 1200
	Armor:
		Type: Light
	RevealsShroud:
		Range: 7c0
	RenderSprites:
        Image: d2k_buzzsaw
    Armament@hmg:
		Weapon: D2K70mmH
		LocalOffset: 180,-100,110, 180,100,110
	Armament@saw:
		Weapon: D2K_buzzsaw
	AttackFollow:
        FacingTolerance: 32
	AcceptsDeliveredExperience:							##########
		ValidTypes: vehicle
    WithFacingSpriteBody:
        RequiresCondition: !sawup
    WithFacingSpriteBody@sawup:
        Sequence: idle-up
        RequiresCondition: sawup
	Voiced:
		VoiceSet: D2KBuzzsawVoice 
   	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall  
    GrantConditionOnTerrain:
        TerrainTypes: Rough, Road, Tiberium, BlueTiberium, RedTiberium, GoldTiberium, Ore, Gems, SCMinerals, ClearDune, Dune, Concrete, Sand, SpiceSand, Spice
        Condition: sawup
quad:
	Inherits: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender    
 	Inherits@EXT: ^ExternalConditions 
    Inherits@EMP: ^FrontalEMP    
    Inherits@starport: ^Starport
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k
		Prerequisites: upgrade.light, ~!faction.tleilaxu, ~!faction.smugglers, ~!faction.guild, ~!faction.corrino, ~!faction.emperor, ~techlevel.low
		BuildPaletteOrder: 20
		BuildDuration: 210
		BuildDurationModifier: 100
		Description: Missile Scout\nCan attack air\n  Strong vs Vehicles\n  Weak vs Infantry
        IconPalette: d2kunit          
	Valued:
		Cost: 400
	Tooltip:
		Name: Rocket Quad
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 36000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 32
		Speed: 96
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: D2K_Rocket
		LocalOffset: 128,64,64, 128,-64,64
        MuzzlePalette: d2keffect
   	Armament@aa:
		Weapon: D2K_Rocket_AA
		LocalOffset: 128,64,64, 128,-64,64
        MuzzlePalette: d2keffect     
	AttackFrontal:
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall
	Selectable:
		Class: quad
	AttractsWorms:
		Intensity: 470
    Cloak@TDcloak:
        Palette: d2kcloak
    Voiced:
        VoiceSet: D2KRPGQuad
        
d2k_rocket_buggy:  
	Inherits: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove  
 	Inherits@EXT: ^ExternalConditions 
    Inherits@EMP: ^FrontalEMP    
    Inherits@starport: ^Starport
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k
		Prerequisites: ~faction.corrino, ~techlevel.low
		BuildPaletteOrder: 20
		BuildDuration: 175
		BuildDurationModifier: 100
		Description: Missile Scout\n  Strong vs Vehicles\n  Weak vs Infantry      
        IconPalette: ra2
	Valued:
		Cost: 350
	Tooltip:
		Name: Rocket Buggy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 26000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 32
		Speed: 112
	RevealsShroud:
		Range: 5c256
	Armament:
		Weapon: D2K_Rocket_Buggy
		LocalOffset: 252,0,64
	AttackFrontal:
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall
	Selectable:
		Class: d2k_rocket_buggy
	AttractsWorms:
		Intensity: 420
    Cloak@TDcloak:
        Palette: cloak
    Voiced:
        VoiceSet: D2KRPGQuad
        
d2k_transport_buggy:  
	Inherits: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
 	Inherits@EXT: ^ExternalConditions 
    Inherits@starport: ^Starport
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k
		Prerequisites: ~faction.corrino, upgrade.light, ~techlevel.low
		BuildPaletteOrder: 20
		BuildDuration: 280
		BuildDurationModifier: 100
		Description: Quick Transport Unit with 4 spaces for units.
        IconPalette: ra2
    Valued:
		Cost: 600
	Tooltip:
		Name: Transport Buggy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
    Cargo:
		Types: Infantry
		MaxWeight: 4
		LoadingCondition: notmobile
        PipCount: 4
	Health:
		HP: 30000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 28
		Speed: 124
	RevealsShroud:
		Range: 6c0
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall
	Selectable:
		Class: d2k_transport_buggy
	AttractsWorms:
		Intensity: 460
    Cloak@TDcloak:
        Palette: cloak
    Voiced:
        VoiceSet: D2KRPGQuad
    AIDeployNotifier:
        DeployChance: 100
    RenderSprites:
        Image: d2k_transport_buggy

d2k_transport_buggy.bot1:
    Inherits: d2k_transport_buggy
    Buildable:
		Prerequisites: ~faction.corrino, upgrade.light, ~techlevel.low, ~botplayer
    Valued:
		Cost: 2500
    Cargo:
        InitialUnits: plasma_infantry, plasma_infantry, plasma_infantry, plasma_infantry

d2k_transport_buggy.bot2:
    Inherits: d2k_transport_buggy.bot1
    Valued:
		Cost: 2400
    Cargo:
        InitialUnits: trooper, trooper, trooper, trooper
        
d2k_sardaukar_buggy:
    Inherits: d2k_transport_buggy
    Valued:
		Cost: 3000
    Tooltip:
		Name: Sardaukar Transport
    Mobile:
		TurnSpeed: 26
		Speed: 116
    Buildable:
		Queue: Starport.d2k, RAStarport.d2k
        Description: Transport unit with 6 spaces\nFilled with Sardaukars\nLimit: 3
        BuildLimit: 3
        Icon: icon_sard
        BuildPaletteOrder: 140
    Cargo:
        InitialUnits: mpsardaukar, mpsardaukar, mpsardaukar, mpsardaukar, mpsardaukar, mpsardaukar

        
d2k_combat_buggy:  
	Inherits: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove  
 	Inherits@EXT: ^ExternalConditions 
    Inherits@EMP: ^TurretEMP    
    Inherits@starport: ^Starport
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k
		Prerequisites: ~faction.smugglers, upgrade.light, ~techlevel.low
		BuildPaletteOrder: 20
		BuildDuration: 225
		BuildDurationModifier: 100
		Description: Hit and run vehicle with good combat capabilities\n  Strong vs Vehicles\n  Weak vs Infantry      
        IconPalette: ra2
	Valued:
		Cost: 325
	Tooltip:
		Name: Combat Buggy
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 28000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 30
		Speed: 106
	RevealsShroud:
		Range: 5c0
	Armament:
		Weapon: 80mm_H
		LocalOffset: 500,0,-140
        MuzzleSequence: muzzle
    ReloadDelayMultiplier:
        Modifier: 120
	AttackTurreted:
    Turreted:
        TurnSpeed: 11
        Offset: 100,0,200
    WithSpriteTurret:
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall
	Selectable:
		Class: d2k_combat_buggy
	AttractsWorms:
		Intensity: 420
    Cloak@TDcloak:
        Palette: cloak
    Voiced:
        VoiceSet: D2KRPGQuad
        
siege_quad:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender   
 	Inherits@EXT: ^ExternalConditions   
  	Inherits@EMP: ^FrontalEMP  
    Inherits@starport: ^Starport
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k
		Prerequisites: upgrade.light, ~autogun_prereq, research_centre, ~techlevel.low
		BuildPaletteOrder: 50
		BuildDuration: 325
		BuildDurationModifier: 100
		Description: Quad with additional Siege weapon on top giving this vehicle\nability to fight both infantry and vehicles\nDue to Siege weapon blocking top part of the vehicle\nit's unable to target Air\n  Strong vs Infantry, Buildings\n  Weak vs Tanks
        IconPalette: player         
	Valued:
		Cost: 600
	Tooltip:
		Name: Siege Quad
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 38500
	Armor:
		Type: Light
	Mobile:
		Speed: 90
		TurnSpeed: 10
	RevealsShroud:
		Range: 6c768
	Turreted:
		Offset: 64,12,0
		TurnSpeed: 10
    RangeMultiplier@ammo:
        Modifier: 175
        RequiresCondition: ammo
    RangeMultiplier@noammo:
        Modifier: 80
        RequiresCondition: !ammo       
	Armament:
        Name: primary
		Weapon: D2K_Rocket
		LocalOffset: 128,64,64, 128,-64,64
        MuzzlePalette: d2keffect  
        PauseOnCondition: ammo
	Armament@siege:
        Name: secondary
		Weapon: D2K_SiegeQuad
		Recoil: 25
		RecoilRecovery: 19
		LocalOffset: 512,0,320
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect   
        PauseOnCondition: !ammo
	AmmoPool:
		Ammo: 1
        PipCount: 0
		AmmoCondition: ammo
        Armaments: secondary
	ReloadAmmoPool:
		Delay: 100
		Count: 1
		ResetOnFire: false       
    AttackFrontal: 
	WithMuzzleOverlay:
	WithSpriteTurret:
	Explodes:
		Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	AutoTarget:
		InitialStanceAI: Defend
	Selectable:
		Class: siege_quad
	AttractsWorms:
		Intensity: 500
    Cloak@TDcloak:
        Palette: d2kcloak
        
guild_quad:
    Inherits: quad
    Inherits@guildtele: ^Guild_teleport
    Tooltip:
		Name: Ramsh Quad
    DamageMultiplier:
        Modifier: 125
    SpeedMultiplier:
        Modifier: 85
    RenderSprites:
        Image: quad    
    ProductionCostMultiplier:
        Multiplier: 125
        Prerequisites: faction.guild
    Buildable:
		Prerequisites: upgrade.light, ~faction.guild, ~techlevel.low
        
mg_quad:
    Inherits: quad
    Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Tooltip:
		Name: MG Quad
    Buildable:
        Prerequisites: ~faction.smugglers
        Description: Quad MG Scout\n  Strong vs Infantry\n  Weak vs Vehicles
        BuildPaletteOrder: 0
    Valued: 
        Cost: 300
    Armament:
        Weapon: HMGo
        LocalOffset: -400,0,0
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect  
    -Armament@aa:
    RenderSprites:
        Image: quad
    WithMuzzleOverlay:
    Voiced:
        VoiceSet: D2KQuad

emperor_mg_quad:
    Inherits: mg_quad
    Buildable:
        Prerequisites: ~faction.emperor

mg_quad_tleilaxu:
    Inherits: mg_quad
    Inherits@bot: ^BotMicromanageable
    Buildable:    
        Prerequisites: ~faction.tleilaxu, d2k_tleilaxu_tech, upgrade.mg_quad, ~techlevel.low
        Queue: Infantry.d2k, Infantry.d2k, Infantry.X_Infantry
        Description: Speedy Quad with burst MG\nMust resupply at resource center\nCan carry up to 3 passengers\n  Strong vs Infantry\n  Weak vs Vehicles
        BuildPaletteOrder: 10
        BuildDuration: 175
        BuildDurationModifier: 100
    Valued: 
        Cost: 850
    Cargo:
		Types: Infantry
		MaxWeight: 3
		LoadingCondition: notmobile
        PipCount: 3
    AIDeployNotifier:
		DeployChance: 100      
    Mobile:
		TurnSpeed: 15
		Speed: 150     
    Power:
        Amount: -15    
   	Health:
		HP: 24000     
    Armament:
        Weapon: HMG_tleilaxu
        PauseOnCondition: !ammo
        MuzzlePalette: d2keffect    
    AmmoPool:
        PipCount: 12
		Ammo: 72
		AmmoCondition: ammo   
    ReloadAmmoPool: 
    	Delay: 40
		Count: 8
		ResetOnFire: true    
        RequiresCondition: tleilaxu_rearm
    ReloadAmmoPool@aireload:
        Delay: 150
        Count: 12
        ResetOnFire: false
        RequiresCondition: botmicro   
    ExternalCondition@rearm:
        Condition: tleilaxu_rearm

mg_quad_tleilaxu.bot:
    Inherits: mg_quad_tleilaxu
    Buildable:
		Prerequisites: ~faction.tleilaxu, d2k_tleilaxu_tech, upgrade.mg_quad, ~techlevel.low, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 110
    Cargo:
        InitialUnits: facedancer, facedancer, facedancer
        
siege_tank:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender   
 	Inherits@EXT: ^ExternalConditions   
  	Inherits@EMP: ^FrontalEMP  
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		Prerequisites: upgrade.heavy, ~techlevel.medium, ~!faction.tleilaxu, ~!faction.ixian, ~!faction.emperor
		BuildPaletteOrder: 50
		BuildDuration: 325
		BuildDurationModifier: 100
		Description: Siege Artillery\n  Strong vs Infantry, Buildings\n  Weak vs Tanks
        IconPalette: d2kunit            
	Valued:
		Cost: 600
	Tooltip:
		Name: Siege Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 40000
	Armor:
		Type: Light
	Mobile:
		Speed: 43
		TurnSpeed: 12
	RevealsShroud:
		Range: 6c768
	Turreted:
		Offset: 32,16,0
		TurnSpeed: 12
	Armament:
		Weapon: D2K_155mm
		Recoil: 150
		RecoilRecovery: 19
		LocalOffset: 512,0,320
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect    
	AttackFrontal:
	WithMuzzleOverlay:
	WithSpriteTurret:
	Explodes:
		Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	AutoTarget:
		InitialStanceAI: Defend
	Selectable:
		Class: siegetank
	SpawnActorOnDeath:
		Actor: siege_tank.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
	AttractsWorms:
		Intensity: 600
    Cloak@TDcloak:
        Palette: d2kcloak
    GrantConditionOnPrerequisite@d2k_siege_range_upgrade:
        Condition: d2k_siege_range_upgrade
        Prerequisites: d2k_siege_range_upgrade
    RangeMultiplier@d2k_siege_range_upgrade:
        Modifier: 145
        RequiresCondition: d2k_siege_range_upgrade
    Voiced:
        VoiceSet: D2KSiegeTank
siege_tank_ixian:
    Inherits: siege_tank
    Inherits@IXEMP: ^D2K_Ix_Frontal_EMP
    Inherits@SHADOWS: ^Shadows
    Buildable:
		Prerequisites: upgrade.heavy, ~techlevel.medium, ~du_ix_emperor, research_centre
        Description: Stealth Siege Artillery with turnable turret\nthat can shoot burst up to 3 shots in\na row at a higher range.\nLess accurate than regular version and with long reload times\n  Strong vs Infantry, Vehicles, Buildings\n  Weak vs Everything
        IconPalette: ra2
    Health:
		HP: 24000    
    Valued:
		Cost: 900    
   	Mobile:
		Speed: 70
		TurnSpeed: 12 
    Armor:
		Type: Light        
    AmmoPool:
		Ammo: 3
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 100
		Count: 3
		ResetOnFire: true                 
   	Tooltip:
		Name: Ix Siege Tank 
    -Turreted:
    -WithMuzzleOverlay:
    Armament:
		Weapon: D2K_155mm2
        PauseOnCondition: !ammo
        LocalOffset: 1024,0,400
        -MuzzleSequence:
        -MuzzlePalette:
    RenderSprites:
        Image: ix_siege_tank
        PlayerPalette: player
    Cloak:
		InitialDelay: 80
		CloakDelay: 80
		UncloakOn: Attack, infiltrate, damage
		IsPlayerPalette: true
        CloakedCondition: cloaked
        PauseOnCondition: cloak-force-disabled || base-reveal
    -WithSpriteTurret:
    -SpawnActorOnDeath:
    WithShadow:
		Offset: 128, 128, 0
		ZOffset: -512 
        
d2k_autogun_tank:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
 	Inherits@EXT: ^ExternalConditions   
  	Inherits@EMP: ^FrontalEMP  
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		Prerequisites: ~heavy.ordos, ~techlevel.medium, ~!faction.tleilaxu
		BuildPaletteOrder: 50
		BuildDuration: 625
		BuildDurationModifier: 100
		Description: Heavy Anti-Infantry Tank\n  Strong vs Infantry, Vehicles\n  Weak vs Tanks        
	Valued:
		Cost: 1000
	Tooltip:
		Name: Heavy Autogun Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 145000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 45
		TurnSpeed: 7
	RevealsShroud:
		Range: 6c768
	Turreted:
		Offset: 32,16,0
		TurnSpeed: 12
	Armament:
		Weapon: autogun_tank
		LocalOffset: 500,-150,200, 500,150,200
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect   
	AttackFrontal:
	WithMuzzleOverlay:
    RenderSprites:
        Scale: 0.85
	Explodes:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
	AutoTarget:
		InitialStanceAI: Defend
	Selectable:
		Class: d2k_autogun_tank
	AttractsWorms:
		Intensity: 600
    Cloak@TDcloak:
        Palette: cloak 
    Voiced:
        VoiceSet: D2KAutoGunTank

d2k_autogun_tank.husk:
	Inherits: ^D2KVehicleHusk
	Tooltip:
		Name: Autogun Tank (Destroyed)
    Health:
		HP: 1500
	TransformOnCapture:
		IntoActor: d2k_autogun_tank

d2k_autogun_tank_small:
    Inherits: combat_tank_h
    Inherits@IXEMP: ^D2K_Ix_Turret_EMP
    Valued:
		Cost: 575
    Tooltip:
		Name: Combat Autogun Tank
    Buildable:
		Prerequisites: ~autogun_prereq_small, ~techlevel.medium   
        Description: Combat Anti-Infantry Vehicle
        IconPalette: ra2
	Armament:
		Weapon: autogun_tank
		LocalOffset: 600,-150,425, 600,150,425
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect   
	AttackTurreted:
        Armaments: primary
    Turreted:
        Offset: 100,0,-410
    -SpawnActorOnDeath:
    RenderSprites:
        PlayerPalette: player
    Voiced:
        VoiceSet: D2KAutoGunTank

missile_tank:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender   
 	Inherits@EXT: ^ExternalConditions 
    Inherits@IXEMP: ^D2K_Ix_Frontal_EMP
    Inherits@starport: ^Starport
	Tooltip:
		Name: Missile Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Armor.d2k, Vehicle.X_Vehicles, Starport.d2k, RAStarport.d2k, RAArmor.d2k 
		Prerequisites: ~heavy.missile_tank, upgrade.heavy, research_centre, ~techlevel.high, ~!faction.ixian, ~!faction.guild
		BuildPaletteOrder: 60
		BuildDuration: 400
		BuildDurationModifier: 100
		Description: Rocket Artillery\n  Strong vs Vehicles, Buildings, Aircraft\n  Weak vs Infantry\nDetector
        IconPalette: d2kunit         
	Valued:
		Cost: 750
	Mobile:
		Speed: 64
		TurnSpeed: 20
	Health:
		HP: 50000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 6c768
	Armament:
		Weapon: mtank_pri
		LocalOffset: -128,128,171, -128,-128,171
	AttackFrontal:
	AutoTarget:
		InitialStanceAI: Defend
	Explodes:
		Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	Selectable:
		Class: missiletank
	SpawnActorOnDeath:
		Actor: missile_tank.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
	AttractsWorms:
		Intensity: 600
    Cloak@TDcloak:
        Palette: d2kcloak
    DetectCloaked:
		Range: 4c0 
    Voiced:
        VoiceSet: D2KMissileTank
        
missile_tank_ixian:
    Inherits: missile_tank
    Buildable:
		Prerequisites: upgrade.heavy, ~techlevel.high, ~du_ix_emperor, research_centre  
        Description: Stealth Rocket Artillery\nCan shoot up to 10 rockets in a row at much higher distance\nLess accurate than regular version and with long reload times\n  Strong vs Vehicles, Buildings, Tanks\n  Weak vs Everything
 	Health:
		HP: 28000    
    Armor:
		Type: Light    
    AmmoPool:
		Ammo: 10
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 300
		Count: 10
		ResetOnFire: true               
    Valued:
		Cost: 1500   
   	Mobile:
		Speed: 50
		TurnSpeed: 7
   	Armament:
		Weapon: mtank_pri2
		LocalOffset: -128,128,171, -128,-128,171     
        PauseOnCondition: !ammo
   	Tooltip:
		Name: Ix Missile Tank
    Cloak:
		InitialDelay: 60
		CloakDelay: 60
		UncloakOn: Attack, infiltrate, damage
		IsPlayerPalette: true
        CloakedCondition: cloaked    
    RenderSprites:
        Image: ix_missile_tank
        Scale: 0.77
        PlayerPalette: player
    -SpawnActorOnDeath:    
    -DetectCloaked:

d2k_flame_tank:
	Inherits: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove  
 	Inherits@EXT: ^ExternalConditions 
    Inherits@EMP: ^FrontalEMP    
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, Vehicle.X_Vehicles, Starport.d2k, RAStarport.d2k, RAArmor.d2k 
		Prerequisites: upgrade.heavy, high_tech_factory, ~flametankprereq, ~techlevel.high
		BuildPaletteOrder: 50
		BuildDuration: 200
		BuildDurationModifier: 100
		Description: Flame Tank\n  Strong vs Infantry, Buildings\n  Weak vs Tanks
        IconPalette: player          
	Valued:
		Cost: 550
	Tooltip:
		Name: Flame Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 60000
	Armor:
		Type: Medium
	Mobile:
		TurnSpeed: 12
		Speed: 82
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: d2k_flame_tank
		LocalOffset: 128,0,64
	AttackFrontal:
	Explodes:
		Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	Selectable:
		Class: d2k_flame_tank
	AttractsWorms:
		Intensity: 400
    Cloak@TDcloak:
        Palette: cloak
    RenderSprites:
        Scale: 0.85
    Voiced:
        VoiceSet: D2KFlameTank
     
sonic_tank:
	Inherits: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender   
 	Inherits@EXT: ^ExternalConditions   
    Inherits@IXEMP: ^D2K_Ix_Frontal_EMP  
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 100
		Prerequisites: ~heavy.atreides, research_centre, ~techlevel.high, ~!faction.ixian, ~!faction.fremen
		BuildDuration: 450
		BuildDurationModifier: 100
		Description: Fires sonic shocks\n  Strong vs Infantry, Vehicles\n  Weak vs Tanks, Artillery
        IconPalette: d2kunit           
	Valued:
		Cost: 1000
	Tooltip:
		Name: Sonic Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 90000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 12
		Speed: 31
	RevealsShroud:
		Range: 5c768
	Armament:
		Weapon: Sound
		LocalOffset: 600,0,427
	AttackFrontal:
	Explodes:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
	SpawnActorOnDeath:
		Actor: sonic_tank.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
	AttractsWorms:
		Intensity: 600
    Cloak@TDcloak:
        Palette: d2kcloak
    Voiced:
        VoiceSet: D2KSonicTank

emperor_sonic_tank:
    Inherits: sonic_tank
    Buildable:
        Prerequisites: research_centre, ~techlevel.high, ~faction.emperor
    RenderSprites:
        Image: sonic_tank

emperor_deviator:
    Inherits: deviator
    Buildable:
        Prerequisites: research_centre, ~techlevel.high, ~faction.emperor
    RenderSprites:
        Image: deviator

emperor_devastator:
    Inherits: devastator
    Buildable:
        Prerequisites: research_centre, ~techlevel.high, ~faction.emperor
    RenderSprites:
        Image: devastator
        
d2k_laser_tank:
  	Inherits: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove  
 	Inherits@EXT: ^ExternalConditions   
    Inherits@IXEMP: ^D2K_Ix_Turret_EMP  
    Inherits@SHADOWS: ^Shadows
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 100
		Prerequisites: ~heavy.ordos, research_centre, ~techlevel.high, ~!faction.tleilaxu, ~!faction.smugglers, ~!faction.mercenary
		BuildDuration: 400
		BuildDurationModifier: 100
		Description: Ordos Universal Battle Tank\nHighly Mobile Hover unit\nFires laser beams\nWeak durability\n  Strong vs Everything
        IconPalette: windows256
	Valued:
		Cost: 900
	Tooltip:
		Name: Laser Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 42000
	Armor:
		Type: Medium
	Mobile:
		TurnSpeed: 12
		Speed: 105
        Locomotor: hover
        Voice: Move
	RevealsShroud:
		Range: 5c0
    Turreted:
        TurnSpeed: 10
        Offset: -100,20,-300
	Armament:
		Weapon: d2k_laser
        LocalOffset: 275,-125,0, 275,125,0
   	Armament@aa:
		Weapon: d2k_laser_aa
        LocalOffset: 275,-125,0, 275,125,0    
	AttackTurreted:
    Hovers:
    WithSpriteTurret:
	Explodes:
		Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	AttractsWorms:
		Intensity: 350
	Voiced:
		VoiceSet: D2KLaserTankVoice 
    WithShadow:
		Offset: 128, 128, 0
		ZOffset: -512
        
d2k_qafza:
  	Inherits: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove  
 	Inherits@EXT: ^ExternalConditions   
    Inherits@IXEMP: ^D2K_Ix_Frontal_EMP 
    Inherits@starport: ^Starport
 	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 10
		Prerequisites: ~heavy.harkonnen, ~techlevel.medium, ~faction.guild
		BuildDuration: 375
		BuildDurationModifier: 100
		Description: Main Battle tank of Spacing Guild\nCan jump\n  Strong vs Vehicles, Air
        IconPalette: windows256
	Valued:
		Cost: 600
	Tooltip:
		Name: Qafza
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 17500
    Hovers:
	Armor:
		Type: Medium
	Mobile:
		TurnSpeed: 16
		Speed: 125
        Locomotor: jumpjet
	RevealsShroud:
		Range: 5c0
	Armament:
		Weapon: d2k_laser_qafza
        LocalOffset: 175,0,-100
   	Armament@aa:
		Weapon: d2k_laser_qafza_aa
        LocalOffset: 175,0,-100
	AttackFrontal:
        FacingTolerance: 30
	AttractsWorms:
		Intensity: 300
        RequiresCondition: !airborne
   	Hovers:
		RequiresCondition: airborne 
	Targetable:
		RequiresCondition: !airborne && !chronobeamed
	Targetable@AIRBORNE:
		TargetTypes: Air, Aircraft
		RequiresCondition: airborne && !chronobeamed
	Explodes:
		Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
   	WithShadow@ground:
		Offset: 128, 128, 0
        ZOffset: -512
        RequiresCondition: !airborne
	WithShadow@airborne:
		Offset: 0, 128, 0
		ZOffset: -128
		RequiresCondition: airborne
	GrantConditionOnJumpjetLayer:
		Condition: airborne
        
d2k_annihilator:
 	Inherits: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove 
 	Inherits@EXT: ^ExternalConditions 
    Inherits@MC: ^MCImmune 
    Inherits@IXEMP: ^D2K_Ix_Turret_EMP     
    Inherits@ND: ^NotDevourable
    Inherits@starport: ^Starport
    AttackTurreted:
    Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 100
		Prerequisites: ~heavy.harkonnen, research_centre, upgrade.heavy, ~faction.harkonnen, ~techlevel.high
		BuildDuration: 500
		BuildDurationModifier: 100
		Description: Super Heavy Tank\nOnly one can be built\n  Strong vs Everything
        IconPalette: ra2
        BuildLimit: 1
    RenderSprites:
        Scale: 0.75
    WithSpriteTurret:
    Armor:
        Type: Heavy
    Health:
		HP: 200000
    Armament:
		Weapon: D2K_Annihilator
		LocalOffset: 350,0,0
    Armament@aa:
        Weapon: D2K_Annihilator.AA
        LocalOffset: 100,-150,100, 100,150,100
    Valued: 
        Cost: 2000
    RevealsShroud:
		Range: 5c256   
   	Tooltip:
		Name: Annihilator
	UpdatesPlayerStatistics:
		AddToArmyValue: true     
   	Mobile:
		TurnSpeed: 8
		Speed: 24
		Locomotor: heavytracked
		PauseOnCondition: notmobile
    Turreted:
        TurnSpeed: 8
        Offset: 0,0,10
  	Explodes:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 3, 5
		Range: 1c256, 2c256         
  	Voiced:
		VoiceSet: D2KAnnihilatorVoice      
        
devastator:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender    
 	Inherits@EXT: ^ExternalConditions   
 	Inherits@IXEMP: ^D2K_Ix_Frontal_EMP
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 100
		Prerequisites: ~heavy.harkonnen, research_centre, ~techlevel.high, ~faction.harkonnen
		BuildDuration: 450
		BuildDurationModifier: 100
		Description: Super Heavy Tank\n  Strong vs Tanks\n  Weak vs Artillery
        IconPalette: d2kunit            
	Valued:
		Cost: 1200
	Tooltip:
		Name: Devastator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 130000
	Armor:
		Type: Heavy
    Voiced:
        VoiceSet: D2KDevastator
	Mobile:
		TurnSpeed: 12
		Speed: 31
		Locomotor: heavytracked
		RequiresCondition: !overload
		PauseOnCondition: notmobile
	AutoCarryable:
		RequiresCondition: !overload
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: DevBullet
		LocalOffset: 640,0,32
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect       
	AttackFrontal:
	WithMuzzleOverlay:
		IgnoreOffset: true
	Explodes:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
		RequiresCondition: !overload
	SpawnActorOnDeath:
		Actor: devastator.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
	Explodes@OVERLOAD:
		Weapon: PlasmaExplosion
		EmptyWeapon: PlasmaExplosion
		RequiresCondition: meltdown
	GrantConditionOnDeploy@REACTOR:
		DeployedCondition: overload
		PauseOnCondition: overload
	WithIdleOverlay@OVERLOAD:
		Sequence: active
		RequiresCondition: overload
	WithIdleOverlay@OVERLOAD2:
		Sequence: active-2
		RequiresCondition: overload
	KillsSelf@MELTDOWN:
		Delay: 180
		RequiresCondition: overload
		GrantsCondition: meltdown
	AttractsWorms:
		Intensity: 700
	ChangesHealth:
		Step: 50
		Delay: 3
		StartIfBelow: 50
	Selectable:
		DecorationBounds: 32, 32, 0, 0
    Cloak@TDcloak:
        Palette: d2kcloak

d2k_tyrant:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender    
 	Inherits@EXT: ^ExternalConditions   
 	Inherits@IXEMP: ^D2K_Ix_Frontal_EMP
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 100
		Prerequisites: ~heavy.harkonnen, upgrade.heavy, research_centre, ~techlevel.high, ~faction.corrino
		BuildDuration: 750
		BuildDurationModifier: 100
		Description: Super Heavy Tank\n  Strong vs Tanks\n  Weak vs Artillery           
	Valued:
		Cost: 1400
	Tooltip:
		Name: Tyrant
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 150000
	Armor:
		Type: Heavy
    Voiced:
        VoiceSet: D2KTyrant
	Mobile:
		TurnSpeed: 9
		Speed: 28
		Locomotor: heavytracked
	AutoCarryable:
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: d2k_tyrant
		LocalOffset: 640,0,32     
	AttackFrontal:
	Explodes:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
	SpawnActorOnDeath:
		Actor: d2k_tyrant.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
	AttractsWorms:
		Intensity: 800
	Selectable:
		DecorationBounds: 32, 32, 0, 0
    Cloak@TDcloak:
        Palette: d2kcloak
    RenderSprites:
        Scale: 0.8

emperor_tyrant:
    Inherits: d2k_tyrant
    Buildable:
		Prerequisites: upgrade.heavy, research_centre, ~techlevel.high, ~faction.emperor
    RenderSprites:
        Image: d2k_tyrant
raider:
	Inherits@D2KV: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender    
 	Inherits@EXT: ^ExternalConditions   
    Inherits@CARGO: ^CargoVehicle
 	Inherits@EMP: ^FrontalEMP   
    Inherits@starport: ^Starport
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 10
		Prerequisites: ~faction.ordos
		BuildDuration: 150
		BuildDurationModifier: 100
		Description: Improved Scout\nCan carry a passenger\n  Strong vs Infantry, Light Vehicles\n  Weak vs Tanks
        IconPalette: d2kunit       
  	Cargo:
		Types: Infantry
		MaxWeight: 1
		LoadingCondition: notmobile
        PipCount: 1      
    AIDeployNotifier:
		DeployChance: 100   
	Valued:
		Cost: 275
	Tooltip:
		Name: Raider
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 30000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 40
		Speed: 155
	RevealsShroud:
		Range: 4c768
	WithMuzzleOverlay:
	Armament@damage:
		Weapon: HMGo
		LocalOffset: 170,0,0
        MuzzlePalette: d2keffect 
		MuzzleSequence: muzzle
	AttackFrontal:
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall
	AttractsWorms:
		Intensity: 420
    Cloak@TDcloak:
        Palette: d2kcloak
    Voiced:
        VoiceSet: D2KRaider

raider.bot:
    Inherits: raider
    Buildable:
		Prerequisites: ~faction.ordos, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 110
    Cargo:
        InitialUnits: trooper
    RenderSprites:
        Image: raider
        
shock_raider:
	Inherits@D2KV: ^D2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender    
 	Inherits@EXT: ^ExternalConditions   
    Inherits@CARGO: ^CargoVehicle
 	Inherits@EMP: ^FrontalEMP   
    Inherits@starport: ^Starport
	Buildable:
		Queue: Vehicle.d2k, RAVehicle.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 10
		Prerequisites: ~shockraiderprereq, research_centre, upgrade.light, ~techlevel.medium
		BuildDuration: 500
		BuildDurationModifier: 100
		Description: Fast Vehicle with Powerful Gauss Gun on top\n  Strong vs Tanks
        IconPalette: player             
	Valued:
		Cost: 600
	Tooltip:
		Name: Shock Raider
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 32000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 40
		Speed: 140
	RevealsShroud:
		Range: 4c768
	WithMuzzleOverlay:
    Turreted:
        TurnSpeed: 40
    WithSpriteTurret:
	Armament@damage:
		Weapon: D2K_ShockGun
		LocalOffset: 170,0,0
	AttackFrontal:
	Explodes:
		Weapon: D2KUnitExplodeSmall
		EmptyWeapon: D2KUnitExplodeSmall
	AttractsWorms:
		Intensity: 420
    Cloak@TDcloak:
        Palette: d2kcloak
    Voiced:
        VoiceSet: D2KShockRaider
        
stealth_raider:
	Inherits: raider
    Inherits@D2KSprite: ^D2KPaletteRender
	Buildable:
		Prerequisites: ~light.ordos, high_tech_factory, ~techlevel.low, ~faction.ordos
		BuildPaletteOrder: 30
		BuildDuration: 175
		BuildDurationModifier: 100
		Description: Invisible Raider Trike\n  Strong vs Infantry, Light Vehicles\n  Weak vs Tanks
        IconPalette: d2kunit
  	-Cargo:     
	Valued:
		Cost: 375
	Tooltip:
		Name: Stealth Raider 
	UpdatesPlayerStatistics:
		AddToArmyValue: true
    Voiced:
        VoiceSet: D2KStealthLightVehicle
    Cloak:
		InitialDelay: 45
		CloakDelay: 90
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        Palette: d2kcloak     
        CloakedCondition: cloaked
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: ReturnFire
	-MustBeDestroyed:

rocket_raider:
    Inherits: raider
    Inherits@bot: ^BotMicromanageable
    Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
		Cost: 1500
    Tooltip:
		Name: Stealth Rocket Raider     
    Buildable:
		Prerequisites: ~faction.tleilaxu, d2k_tleilaxu_tech, upgrade.rocket_raider, ~techlevel.medium
        Queue: Infantry.d2k, Infantry.d2k, Infantry.X_Infantry
		BuildPaletteOrder: 10
		BuildDuration: 275
		BuildDurationModifier: 100
		Description: Invisible Raider Trike with Rockets\nMust resupply at Resource Center\nCan Carrry up to 2 passengers\n  Strong vs Infantry, Light Vehicles, Air\n  Weak vs Tanks
        IconPalette: d2kunit
    Power:
        Amount: -15
	Armor:
		Type: Medium        
    AmmoPool:
		Ammo: 24
		AmmoCondition: ammo   
        PipCount: 8
    ReloadAmmoPool: 
    	Delay: 40
		Count: 3
		ResetOnFire: true    
        RequiresCondition: tleilaxu_rearm
    ReloadAmmoPool@aireload:
        Delay: 150
        Count: 6
        ResetOnFire: false
        RequiresCondition: botmicro
    ExternalCondition@rearm:
        Condition: tleilaxu_rearm
  	Cargo:
		Types: Infantry
		MaxWeight: 2
		LoadingCondition: notmobile
        PipCount: 2    
    Cloak:
		InitialDelay: 45
		CloakDelay: 40
		UncloakOn: Attack, Unload
		IsPlayerPalette: true
        Palette: d2kcloak     
        CloakedCondition: cloaked
        PauseOnCondition: cloak-force-disabled || base-reveal
    Armament@damage:
		Weapon: D2K_Bazooka2
		LocalOffset: 170,0,0  
        PauseOnCondition: !ammo
    RenderSprites:
        Image: stealth_raider

rocket_raider.bot:
    Inherits: rocket_raider
    Buildable:
		Prerequisites: ~faction.tleilaxu, d2k_tleilaxu_tech, upgrade.rocket_raider, ~techlevel.medium, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 110
    Cargo:
        InitialUnits: facedancer, facedancer
        
rocket_raider_ixian:
    Inherits: rocket_raider
    Inherits@IXEMP: ^D2K_Ix_Frontal_EMP
    Tooltip:
		Name: Ix Raider   
    Valued: 
        Cost: 500   
    Power:
        Amount: 0      
    AmmoPool:
		Ammo: 3
		AmmoCondition: ammo
        Name: primary
        PipCount: 3
	ReloadAmmoPool:
		Delay: 250
		Count: 3
		ResetOnFire: false   
        -RequiresCondition:
    -ReloadAmmoPool@aireload:
    Buildable:
        Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles    
		Prerequisites: ~faction.ixian, research_centre, ~techlevel.medium
		Description: Invisible Raider Trike with Rockets\nCan carry up to 4 passengers\n  Strong vs Infantry, Light Vehicles, Air\n  Weak vs Tanks        
        BuildDuration: 300
        BuildDurationModifier: 100
    Cargo:
		Types: Infantry
		MaxWeight: 4
		LoadingCondition: notmobile
        PipCount: 4     
    Armament@damage:
        PauseOnCondition: !ammo
    RenderSprites:
        Scale: 0.9

rocket_raider_ixian.bot1:
    Inherits: rocket_raider_ixian
    Buildable:
		Prerequisites: ~faction.ixian, research_centre, ~techlevel.medium, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 150
    Cargo:
        InitialUnits: trooper, trooper, trooper, trooper

rocket_raider_ixian.bot2:
    Inherits: rocket_raider_ixian.bot1
    ProductionCostMultiplier:
        Multiplier: 160
    Cargo:
        InitialUnits: shock_infantry, shock_infantry, shock_infantry, shock_infantry
        
rocket_raider_o:
    Inherits: raider
    Valued: 
        Cost: 300
    Tooltip:
        Name: Rocket Raider
    Buildable:
		Prerequisites: ~faction.smugglers, upgrade.light
        Description: Raider Trike with Rockets\n  Strong vs Infantry, Light Vehicles, Air\n  Weak vs Tanks
    RenderSprites:
        Image: raider
    Armament@damage:
        Weapon: D2K_Rocket
    -Cargo:    
    -AIDeployNotifier:

emperor_rocket_raider:
    Inherits: rocket_raider_o
    Buildable:
		Prerequisites: ~faction.emperor, upgrade.light
        
deviator:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender    
 	Inherits@EXT: ^ExternalConditions  
    Inherits@IXEMP: ^D2K_Ix_Frontal_EMP   
    Inherits@starport: ^Starport
	Valued:
		Cost: 1200
	Tooltip:
		Name: Deviator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 50
		Prerequisites: ~heavy.ordos, research_centre, ~techlevel.high, ~faction.ordos
		BuildDuration: 400
		BuildDurationModifier: 100
		Description: Fires a warhead which changes\nthe allegiance of enemy vehicles
        IconPalette: d2kunit
	Mobile:
		TurnSpeed: 12
		Speed: 53
	Health:
		HP: 80000
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: DeviatorMissile
		LocalOffset: -299,0,85
	AttackFrontal:
	AutoTarget:
		InitialStanceAI: Defend
	Explodes:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
	SpawnActorOnDeath:
		Actor: deviator.husk
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
	AttractsWorms:
		Intensity: 600
    Cloak@TDcloak:
        Palette: d2kcloak
    Voiced:
        VoiceSet: D2KDeviator
        
^combat_tank:
	Inherits@D2KT: ^D2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@D2KSprite: ^D2KPaletteRender   
	Inherits@EXT: ^ExternalConditions    
    Inherits@EMP: ^TurretEMP
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 40
		BuildDuration: 300
		BuildDurationModifier: 100
		Description: Main Battle Tank\n  Strong vs Tanks\n  Weak vs Infantry
        IconPalette: d2kunit
	Valued:
		Cost: 600
	Tooltip:
		Name: Combat Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 64000
	Armor:
		Type: Medium
	Mobile:
		Speed: 75
		TurnSpeed: 20
	RevealsShroud:
		Range: 5c768
	Turreted:
		TurnSpeed: 20
		RealignDelay: 0
	Armament:
		Weapon: 80mm_A
		Recoil: 128
		RecoilRecovery: 32
		LocalOffset: 256,0,0
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect     
	AttackTurreted:
	WithMuzzleOverlay:
	WithSpriteTurret:
	Explodes:
		Weapon: D2KUnitExplodeMed
		EmptyWeapon: D2KUnitExplodeMed
	Selectable:
		Class: combat
	AttractsWorms:
		Intensity: 520
	SpawnActorOnDeath:
		OwnerType: InternalName
		EffectiveOwnerFromOwner: true
    Cloak@TDcloak:
        Palette: d2kcloak
    Voiced:
        VoiceSet: D2KCombatTank
        
combat_tank_a:
	Inherits: ^combat_tank
	Buildable:
		Prerequisites: ~faction.atreides, ~techlevel.medium
	Armament:
		Weapon: 80mm_A
	SpawnActorOnDeath:
		Actor: combat_tank_a.husk
        
combat_tank_h:
	Inherits: ^combat_tank
	Buildable:
		Prerequisites: ~heavy.harkonnen_combat, ~techlevel.medium, ~!faction.guild, ~!faction.corrino
	Armament:
		Weapon: 80mm_H
	Mobile:
		Speed: 64
	Health:
		HP: 70000
	SpawnActorOnDeath:
		Actor: combat_tank_h.husk
        
combat_tank_o:
	Inherits: ^combat_tank
	Buildable:
		Prerequisites: ~heavy.ordos_combat, ~techlevel.medium     
	Turreted:
		TurnSpeed: 20
	Armament:
		Weapon: 80mm_O
	Mobile:
		Speed: 85
	Health:
		HP: 58000
	SpawnActorOnDeath:
		Actor: combat_tank_o.husk
    GrantConditionOnPrerequisite@ORDOS:
        Condition: faction.ordos
        Prerequisites: faction.ordos
    Cloak:
		InitialDelay: 40
		CloakDelay: 45
		UncloakOn: Attack, Unload
		IsPlayerPalette: true
        Palette: d2kcloak     
        CloakedCondition: cloaked  
        RequiresCondition: faction.ordos
        
combat_tank_o_stealth:
	Inherits: ^combat_tank
	Buildable:
		Prerequisites: ~heavy.ordos_combat, ~faction.ordos, ~techlevel.medium
        Description: Fast stealth tank with powerful long range cannon\n  Strong vs Tanks\n  Weak vs Infantry
        IconPalette: windows256
    Valued:
		Cost: 1000
	Tooltip:
		Name: Tank Destroyer   
	Turreted:
		TurnSpeed: 25
    Armor:
		Type: Light    
	Armament:
		Weapon: 120mm_td
        LocalOffset: 750,0,0
        -MuzzleSequence 
    Health:
		HP: 30000
    -AttackTurreted
    AttackFrontal:
    -WithSpriteTurret
    -WithMuzzleOverlay
    -Turreted
	Mobile:
		Speed: 90
	-SpawnActorOnDeath: 
    RenderSprites:
        Image: d2k_ordos_stealth_tank
        PlayerPalette: player
        Scale: 0.9
    Cloak:
		InitialDelay: 60
		CloakDelay: 60
		UncloakOn: Attack, Unload
		IsPlayerPalette: true
        Palette: cloak     
        CloakedCondition: cloaked    
        PauseOnCondition: cloak-force-disabled || base-reveal
combat_tank_ixian:
    Inherits: combat_tank_h
    Inherits@IXEMP: ^D2K_Ix_Turret_EMP
    Valued:
		Cost: 800
    Tooltip:
		Name: Ix Combat Tank
    Buildable:
		Prerequisites: ~heavy.atreides_combat, ~faction.ixian, ~techlevel.medium   
        Description: Ixian Main Battle Tank\nCombines the best of the base variants with Ixian quick fire cannon\n  Strong vs Tanks\n  Weak vs Infantry
    Armament:
		Weapon: 80mm_OUP   
    -SpawnActorOnDeath:

combat_tank_corrino:
    Inherits: combat_tank_h
    Inherits@IXEMP: ^D2K_Ix_Turret_EMP
    Valued:
		Cost: 800
    Health:
		HP: 60000
    Tooltip:
		Name: Silver Lion
    Buildable:
        BuildPaletteOrder: 10
		Prerequisites: ~heavy.harkonnen_combat, ~faction.corrino, ~techlevel.medium   
        Description: Corrino Multi-Purpose Main Battle Tank\nEquipped with Lower Calibre Cannon and AA/AT Missile System\n  All-Rounder
	Armament:
		Weapon: D2K76mm
		Recoil: 65
        Name: primary
		RecoilRecovery: 25
		MuzzleSequence: muzzle
        LocalOffset: 575, 0, 175
        MuzzlePalette: d2keffect       
   	Armament@MGround:
		Weapon: d2k_APC.AG
        Name: secondary
		LocalOffset: 575, 75, 175
        PauseOnCondition: !ammo
	Armament@MAA:
		Weapon: d2k_APC.AA
        Name: aa
		LocalOffset: 575, 75, 175   
        PauseOnCondition: !ammo
	AttackTurreted:
        Armaments: primary, secondary, aa
    Turreted:
        Offset: 125,0,0
    AmmoPool:
		Ammo: 1
		AmmoCondition: ammo
        Armaments: secondary, aa
        PipCount: 0
    ReloadAmmoPool: 
    	Delay: 120
		Count: 1
		ResetOnFire: false  
    -SpawnActorOnDeath:
    RenderSprites:
        PlayerPalette: player

combat_tank_emperor:
    Inherits: combat_tank_corrino
    Buildable:
		Prerequisites: ~faction.emperor, ~techlevel.medium
    RenderSprites:
        Image: combat_tank_corrino
combat_tank_fremen:
    Inherits: combat_tank_a
    Valued:
		Cost: 650
    Health:
		HP: 56000
    Tooltip:
		Name: Khazaan
    Mobile:
		Speed: 78
    Cargo:
        MaxWeight: 1
        PipCount: 1
        Types: Fremen
        PassengerConditions:
            nsfremen: fremenloaded
            fedaykin: fedaykinloaded
            fremen: phantomloaded
    Buildable:
		Prerequisites: ~faction.fremen, ~techlevel.medium   
        Description: Fremen Main Battle Tank\nCan be fitted with Fremen to gain extra firepower
	Armament:
		Weapon: 80mm_H
		Recoil: 65
        Name: primary
		RecoilRecovery: 25
		MuzzleSequence: muzzle
        LocalOffset: 575, 0, 175
        MuzzlePalette: d2keffect       
    Armament@sound:
		Weapon: Combat_Tank_F_Sound
		Recoil: 0
        Name: secondary
		RecoilRecovery: 25
        LocalOffset: 350, 0, 175
        RequiresCondition: fedaykinloaded
    Armament@fremenmg:
		Weapon: Fremen_Upg
		Recoil: 0
        Name: tertiary
		RecoilRecovery: 25
		MuzzleSequence: muzzle2
        LocalOffset: 350, 0, 175
        RequiresCondition: fremenloaded
        MuzzlePalette: d2keffect       
    Armament@fremenrpg:
		Weapon: Fremen_RPG
		Recoil: 0
        Name: quadruple
		RecoilRecovery: 25
        MuzzleSequence: muzzle
        LocalOffset: 350, 0, 175
        RequiresCondition: fremenloaded
        MuzzlePalette: d2keffect       
    Armament@desertphantommg:
		Weapon: Fremen_S
		Recoil: 0
        Name: pentiary
		RecoilRecovery: 25
		MuzzleSequence: muzzle2
        LocalOffset: 350, 0, 175
        RequiresCondition: phantomloaded
        MuzzlePalette: d2keffect       
    Armament@desertphantommg2:
		Weapon: Fremen_L
		Recoil: 0
        Name: hexatiary
		RecoilRecovery: 25
		MuzzleSequence: muzzle2
        LocalOffset: 350, 0, 175
        RequiresCondition: phantomloaded
        MuzzlePalette: d2keffect       
    AttackTurreted:
        Armaments: primary, secondary, tertiary, quadruple, pentiary, hexatiary
    Turreted:
        Offset: 15,0,0
    -SpawnActorOnDeath:
    RenderSprites:
        PlayerPalette: player
    WithSpriteTurret:
        Palette: playerd2k
        IsPlayerPalette: true

combat_tank_fremen.bot1:
    Inherits: combat_tank_fremen
    Buildable:
		Prerequisites: ~faction.fremen, ~techlevel.medium, ~botplayer
    ProductionCostMultiplier:
        Multiplier: 125
    Cargo:
        InitialUnits: nsfremen
    RenderSprites:
        Image: combat_tank_fremen

combat_tank_fremen.bot2:
    Inherits: combat_tank_fremen.bot1
    Cargo:
        InitialUnits: fremen

combat_tank_fremen.bot3:
    Inherits: combat_tank_fremen.bot1
    Cargo:
        InitialUnits: fedaykin
        
combat_tank_ixian_p:
    Inherits: combat_tank_ixian
    -Buildable:
    Health:
        HP: 100000
    DamageMultiplier@hologram:
        Modifier: 0
    -Explodes:
    FirepowerMultiplier:
        Modifier: 0
    RenderSprites:
        Image: combat_tank_ixian
    -ActorLostNotification:   
    ExternalCondition@projectionrange:
        Condition: projectionrange
    KillsSelf@projectionrange:
        RequiresCondition: !projectionrange
        Delay: 20
combat_siege_tank:
	Inherits: ^combat_tank
    Inherits@IXEMP: ^D2K_Ix_Turret_EMP
    Armor:
		Type: Medium   
    Tooltip:
		Name: Ix Combat Siege
    Health:
        HP: 60000
    Cargo:
        MaxWeight: 2
        PipCount: 2
        InitialUnits: shock_infantry, shock_infantry
    Mobile:
		Speed: 105
    Valued:
		Cost: 1200
    Buildable:
		BuildPaletteOrder: 40
		BuildDuration: 360
		BuildDurationModifier: 100
		Description: Siege tank with autoloader system.\nCan shoot 3 shots at once with longer reloading time\nCan carry up to 2 passengers\n  Strong vs Tanks\n  Weak vs Infantry
        Prerequisites: ~d2k_combat_siege_upgrade, research_centre, ~techlevel.high
 	AttackTurreted:
	WithSpriteTurret:
	Turreted:
		TurnSpeed: 20
        Offset: 0,0,0
	Armament:
		Weapon: D2K_155mm3
        Recoil: 150
		RecoilRecovery: 19
		LocalOffset: 256,0,320
		MuzzleSequence: muzzle
        MuzzlePalette: d2keffect   
	Health:
		HP: 50000
	-SpawnActorOnDeath:
  
quake_tank:
    Inherits@BotMicro: ^BotMicromanageable
	Inherits: ^D2KTank
    Inherits@IXEMP: ^D2K_Ix_Frontal_EMP
    Inherits@starport: ^Starport
	Buildable:
		Queue: Armor.d2k, RAArmor.d2k, Starport.d2k, RAStarport.d2k, Vehicle.X_Vehicles
		BuildPaletteOrder: 90
		Prerequisites: ~d2k_quake_tank_upgrade, research_centre, ~techlevel.high
		BuildDuration: 500
		BuildDurationModifier: 100
		Description: Suicidal Unit\nOnce deployed, Deals seismic damage to nearby vehicles\nand structures\nDeals massive damage after exploding\nSummons all worms on map once detonated - keeps luring Worms even after its death\nOnly one can be built at a time\n  Strong vs Ground targets
        IconPalette: d2kunit     
	Valued:
		Cost: 1200
	Tooltip:
		Name: Ix Quake Tank
	Health:
		HP: 100000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 34
		Locomotor: heavytracked
		RequiresCondition: !deployed
	RevealsShroud:
		Range: 5c128
	MadTankCA:
		ThumpInterval: 25
		ChargeDelay: 125
		DetonationDelay: 25
		DriverActor: shock_infantry
		DeployedCondition: deployed
        DetonationWeapon: d2k_quake_boom
        ThumpDamageWeapon: d2k_quake_thump
    AttractsWorms@thumping:
        Intensity: 2000
        Falloff: 1000, 1000, 250, 111, 60, 40, 30, 20, 10, 0
        Spread: 9999c0
        Range: 9999c0
        RequiresCondition: deployed
	Explodes@player:
		Weapon: D2KUnitExplodeLarge
		EmptyWeapon: D2KUnitExplodeLarge
        RequiresCondition: !botmicro
   	Explodes@ai:
		Weapon: d2k_quake_boom
		EmptyWeapon: d2k_quake_boom
        RequiresCondition: botmicro     
	Selectable:
		Class: quake_tank
		DecorationBounds: 44,38,0,-4
	Targetable:
		TargetTypes: Ground, MADTank, Repair, Vehicle
	AttractsWorms@normal:
		Intensity: 700
        RequiresCondition: !deployed
	WithRangeCircle:
		Color: FFFF0080
		Range: 8c0
	SpawnActorOnDeath:
		Actor: quake_tank.husk
		RequiresCondition: !deployed && !botmicro
    SpawnActorOnDeath@deployed:
		Actor: quake_tank_deployed.husk
		RequiresCondition: deployed || botmicro   
	Cloak@STEALTH:
		Palette: racloak
        IsPlayerPalette: true
        UncloakOn: Damage, Infiltrate
	RenderSprites:
		PlayerPalette: raplayer
		Scale: 1.1
        
quake_tank.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 20000
	Tooltip:
		Name: Ix Quake Tank (Destroyed)
	TransformOnCapture:
		IntoActor: quake_tank
	InfiltrateForTransform:
		IntoActor: quake_tank
	RenderSprites:
		PlayerPalette: raplayer
		Scale: 1.1
         
quake_tank_deployed.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 50000
    -Burns:
    -TransformOnCapture:
	Tooltip:
		Name: Ix Quake Tank (Destroyed, Luring Worms)
	RenderSprites:
		PlayerPalette: raplayer
		Scale: 1.1   
    AttractsWorms@thumping:
        Intensity: 2000
        Falloff: 1000, 1000, 250, 111, 60, 40, 30, 20, 10, 0
        Spread: 9999c0
        Range: 9999c0
    WithIdleOverlay@deployed:
        Sequence: piston
        Palette: raplayer
        IsPlayerPalette: true

duelist_tank:
	Inherits: ^combat_tank
	Buildable:
		Prerequisites: ~d2k_duelist_tank_upgrade, research_centre, ~techlevel.high
    Tooltip:
        Name: Ix Duelist Tank
        Description: Durable and with long range higher calibre gun, this tank is very dangerous opponent to face\n  Strong vs Tanks\n  Weak vs Infantry
    Valued:
        Cost: 1200
	Armament:
		Weapon: 100mm_A
	SpawnActorOnDeath:
		Actor: duelist_tank.husk
	Health:
		HP: 112000
	Mobile:
		Speed: 64
		TurnSpeed: 16
    Voiced:
        VoiceSet: D2KDuelistTank
        
carryall.reinforce:
	Inherits: ^D2KPlane
    Inherits@D2KSprite: ^D2KPaletteRender  
 	Inherits@EXT: ^ExternalConditions   
	Valued:
		Cost: 1500
	Tooltip:
		Name: Autonomous Carryall
	Health:
		HP: 160000
	Armor:
		Type: Heavy
	Aircraft:
		CruiseAltitude: 2160
		CruisingCondition: cruising
		InitialFacing: 0
		Speed: 156
		TurnSpeed: 6
		LandableTerrainTypes: Clear, ClearTemperat, ClearWinter, ClearJungle, ClearSnow, ClearDesert, ClearInterior, Rough, Road, Beach, Tiberium, BlueTiberium, RedTiberium, GoldTiberium, Ore, Gems, SCMinerals, ClearDune, Dune, Concrete, Sand, SpiceSand, Spice
		Repulsable: False
		AirborneCondition: airborne
		CanSlide: True
		VTOL: true
		IdleTurnSpeed: 1
	Targetable@GROUND:
		TargetTypes: Ground, Vehicle
		RequiresCondition: !airborne
	Targetable@AIRBORNE:
		TargetTypes: Air
		RequiresCondition: airborne
	SpawnActorOnDeath@CRUISING:
		Actor: carryall.husk
		RequiresCondition: cruising
	SpawnActorOnDeath@LANDING:
		Actor: carryall.huskVTOL
		RequiresCondition: !cruising
	Carryall:
		BeforeLoadDelay: 45
		BeforeUnloadDelay: 45
		LocalOffset: 0, 0, -128
	RenderSprites:
		Image: carryall        
	SelfHealing:
		Step: 50
		Delay: 3
		HealIfBelow: 75
	Buildable:
		BuildDuration: 2250
		BuildDurationModifier: 100
		Description: Large winged, planet-bound ship\n  Automatically lifts harvesters from and to Spice.\n  Lifts vehicles to Repair Pads when ordered.\nLimit: 10
        IconPalette: d2kunit
        BuildLimit: 10
	HitShape:
		Type: Circle
			Radius: 256
    RejectsOrders:    
    Interactable:     
    GrantConditionOnPrerequisite@ixianharv:
		Prerequisites: faction.ixian
		Condition: carryall_cloak   
    Cloak:
		InitialDelay: 80
		CloakDelay: 80
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled || base-reveal
        UncloakOn: Unload, Infiltrate, Demolish, Dock, Damage, Heal, Attack    
      	Palette: d2kcloak         
        CloakedCondition: cloaked 
        RequiresCondition: carryall_cloak
    SpeedMultiplier@ordos-stealth-bonus:
        Modifier: 130
        RequiresCondition: faction.guild
    GrantConditionOnPrerequisite@ordos:
        Prerequisites: faction.guild
        Condition: faction.guild
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 3, 6
		Range: 1c512, 2c512          
carryall:
	Inherits: carryall.reinforce
    Inherits@starport: ^Starport
	-Carryall:
	AutoCarryall:
		BeforeLoadDelay: 10
		BeforeUnloadDelay: 15
		LocalOffset: 0, 0, -128
	Aircraft:
		MinAirborneAltitude: 400
	RevealsShroud@lifting_low:
		Range: 2c512
		Type: GroundPosition
		RequiresCondition: !airborne
	RevealsShroud@lifting_high:
		Range: 1c256
		Type: GroundPosition
		RequiresCondition: !cruising
	Buildable:
		Queue: Aircraft.d2k, RAAircraft.d2k, Starport.d2k, RAStarport.d2k
		BuildPaletteOrder: 120
        Prerequisites: ~d2k_prereq_no_tleilaxu
        
carryall.paradrop:
  	Inherits: carryall.reinforce  
    Cargo: 
        MaxWeight: 30
        Types: Infantry, Vehicle, Tank 
    ParaDrop:
		DropRange: 4c0
		ChuteSound: chute1.aud
        
frigate:
    Inherits@D2KSprite: ^D2KPaletteRender  
	Inherits: ^Plane
	ParaDrop:
		DropRange: 1c0
	Interactable:
	Tooltip:
		Name: Frigate
	Aircraft:
		IdleBehavior: LeaveMap
		Speed: 189
		TurnSpeed: 1
		Repulsable: False
		MaximumPitch: 20
		CruiseAltitude: 2048
		VTOL: true
		CanHover: true
		CanSlide: true
	-AppearsOnRadar:
	Cargo:
		MaxWeight: 20
		PipCount: 10
	RejectsOrders:
    SpeedMultiplier@ordos-stealth-bonus:
        Modifier: 140
        RequiresCondition: faction.guild
    GrantConditionOnPrerequisite@ordos:
        Prerequisites: faction.guild
        Condition: faction.guild
        
ornithopter.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Ornithopter
	Aircraft:
		TurnSpeed: 5
		Speed: 224
    RenderSprites:
        Image: ornithopter
        PlayerPalette: playerd2k
        Scale: 0.8
   	FallsToEarth:
		Explosion: D2KUnitExplodeMed            
carryall.husk:
	Inherits: ^PlaneHusk
	Tooltip:
		Name: Carryall
	Aircraft:
		TurnSpeed: 4
		Speed: 144
		CanSlide: True
		VTOL: true
	RenderSprites:
		Image: carryall
        Scale: 0.8
        PlayerPalette: playerd2k
    FallsToEarth:
		Explosion: D2KUnitExplodeLarge         
carryall.huskVTOL:
	Inherits: ^PlaneHusk 
	Tooltip:
		Name: Carryall
	FallsToEarth:
		Moves: False
		Velocity: 0c128
	Aircraft:
		TurnSpeed: 4
		CanSlide: True
		VTOL: true
	RenderSprites:
		Image: carryall
        Scale: 0.8
        PlayerPalette: playerd2k
    FallsToEarth:
		Explosion: D2KUnitExplodeLarge        
        
###########################
#   STARPORT
###########################
devastator.starport:
	Inherits: devastator
	Buildable:
        Queue: Starport.d2k, RAStarport.d2k
		Prerequisites: ~starport_smuggler
    ProductionCostMultiplier:
        Multiplier: 150
	-MapEditorData:
	RenderSprites:
		Image: devastator
	UpdatesPlayerStatistics:
		OverrideActor: devastator
         
deviator.starport:
	Inherits: deviator
	Buildable:
        Queue: Starport.d2k, RAStarport.d2k
		Prerequisites: ~starport_smuggler
    ProductionCostMultiplier:
        Multiplier: 150
	-MapEditorData:
	RenderSprites:
		Image: deviator
	UpdatesPlayerStatistics:
		OverrideActor: deviator
          
sonic_tank.starport:
	Inherits: sonic_tank
	Buildable:
        Queue: Starport.d2k, RAStarport.d2k
		Prerequisites: ~starport_smuggler
    ProductionCostMultiplier:
        Multiplier: 150
	-MapEditorData:
	RenderSprites:
		Image: sonic_tank
	UpdatesPlayerStatistics:
		OverrideActor: sonic_tank
 
d2k_stealth_tank.starport:
	Inherits: d2k_stealth_tank
	Buildable:
        Queue: Starport.d2k, RAStarport.d2k
		Prerequisites: ~starport_smuggler
    ProductionCostMultiplier:
        Multiplier: 150
	-MapEditorData:
	RenderSprites:
		Image: d2k_stealth_tank
	UpdatesPlayerStatistics:
		OverrideActor: d2k_stealth_tank
###########################
#   UPGRADES
###########################

upgrade.conyard:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Construction Yard Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: construction_yard, ~d2k_prereq_no_tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 500
		BuildDurationModifier: 100
		Description: Unlocks additional construction options \n(Large Concrete Slab, Wall)
        IconPalette: d2kunit      
	Valued:
		Cost: 750
	RenderSprites:
		Image: conyard.ordos
		FactionImages:
			atreides: conyard.atreides
			fremen: conyard.atreides
            ixian: conyard.atreides
			harkonnen: conyard.harkonnen
			corrino: conyard.harkonnen
            guild: conyard.harkonnen
	ProvidesPrerequisite@upgradename:

upgrade.barracks:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Barracks Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: d2k_barracks, ~d2k_prereq_no_tleilaxu, ~techlevel.low
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Unlocks additional infantry\n\nRequired to unlock faction specific infantry
        IconPalette: d2kunit     
	Valued:
		Cost: 500
	RenderSprites:
		Image: barracks.ordos
		FactionImages:
			atreides: barracks.atreides
			fremen: barracks.atreides
            ixian: barracks.atreides
			harkonnen: barracks.harkonnen
			corrino: barracks.harkonnen
            guild: barracks.harkonnen
	ProvidesPrerequisite@upgradename:

upgrade.light:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Light Factory Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: light_factory, ~d2k_prereq_no_tleilaxu, ~techlevel.low
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 500
		BuildDurationModifier: 100
		Description: Unlocks additional light units\n\nRequired to unlock faction specific light units
        IconPalette: d2kunit
	Valued:
		Cost: 750
	RenderSprites:
		Image: light.ordos
		FactionImages:
			atreides: light.atreides
			fremen: light.atreides
            ixian: light.atreides
			harkonnen: light.harkonnen
			corrino: light.harkonnen
            guild: light.harkonnen
	ProvidesPrerequisite@upgradename:

upgrade.heavy:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Heavy Factory Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: heavy_factory, ~techlevel.medium, ~!faction.mercenary, ~!faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 1125
		BuildDurationModifier: 100
		Description: Unlocks additional construction options\n\nUnlocks additional heavy units and faction specific heavy units
        IconPalette: d2kunit
	Valued:
		Cost: 1500
	RenderSprites:
		Image: heavy.ordos
		FactionImages:
			atreides: heavy.atreides
			fremen: heavy.atreides
            ixian: heavy.ixian
			harkonnen: heavy.harkonnen
			corrino: heavy.harkonnen
            guild: heavy.harkonnen
	ProvidesPrerequisite@upgradename:

upgrade.hightech:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: High Tech Factory Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: ~hightech.atreides, ~techlevel.superweapons, ~!faction.ixian
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 1500
		BuildDurationModifier: 100
		Description: Unlocks the Atreides Ornithopters
        IconPalette: d2kunit
	Valued:
		Cost: 3000
	RenderSprites:
		Image: hightech.atreides
	ProvidesPrerequisite@upgradename:

upgrade.contaminator:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Contaminator Unlock
	Buildable:
		BuildPaletteOrder: 10
		Prerequisites: ~d2k_tleilaxu_tech, ~faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 375
		BuildDurationModifier: 100
		Description: Unlocks Contaminator    
	Valued:
		Cost: 500
	RenderSprites:
		Image: contaminator
	ProvidesPrerequisite@upgradename:

upgrade.leech:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Leech Unlock
	Buildable:
		BuildPaletteOrder: 20
		Prerequisites: ~d2k_tleilaxu_tech, upgrade.contaminator, ~faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 750
		BuildDurationModifier: 100
		Description: Unlocks Leech
        IconPalette: player
	Valued:
		Cost: 1000
	RenderSprites:
		Image: d2k_leech
	ProvidesPrerequisite@upgradename:

upgrade.rocketeer:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Rocketeer Unlock
	Buildable:
		BuildPaletteOrder: 40
		Prerequisites: ~d2k_tleilaxu_tech, upgrade.rocket_raider, ~faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 750
		BuildDurationModifier: 100
		Description: Unlocks Rocketeer      
        IconPalette: d2kunit  
	Valued:
		Cost: 1000
	RenderSprites:
		Image: rocketeer
        PlayerPalette: ra2player
	ProvidesPrerequisite@upgradename:
 
upgrade.rocket_raider: 
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Rocket Raider Unlock
	Buildable:
		BuildPaletteOrder: 30
		Prerequisites: ~d2k_tleilaxu_tech, ~faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 375
		BuildDurationModifier: 100
		Description: Unlocks Rocket Raider     
        IconPalette: d2kunit  
	Valued:
		Cost: 500
	RenderSprites:
		Image: raider
	ProvidesPrerequisite@upgradename:  
    
upgrade.mg_quad:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: MG Quad Unlock
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: ~d2k_tleilaxu_tech, ~faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 375
		BuildDurationModifier: 100
		Description: Unlocks MG Quad    
        IconPalette: d2kunit  
	Valued:
		Cost: 500
	RenderSprites:
		Image: quad
	ProvidesPrerequisite@upgradename:  

upgrade.mcv:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: MCV Unlock
	Buildable:
		BuildPaletteOrder: 70
		Prerequisites: ~d2k_tleilaxu_tech, ~faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 1125
		BuildDurationModifier: 100
		Description: Unlocks Mobile Construction Vehicle    
        IconPalette: d2kunit  
	Valued:
		Cost: 1500
	RenderSprites:
		Image: d2k_mcv
	ProvidesPrerequisite@upgradename:  

upgrade.basq:
 	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Basq Unlock
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: ~d2k_tleilaxu_tech, upgrade.mg_quad, ~faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 750
		BuildDurationModifier: 100
		Description: Unlocks Basq
        IconPalette: ra2
	Valued:
		Cost: 1000
	RenderSprites:
		Image: d2k_basq
        Palette: ra2
        PlayerPalette: ra2player
	ProvidesPrerequisite@upgradename:   

upgrade.tleilaxueyes:    
   	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Tleilaxu Eyes
	Buildable:
		BuildPaletteOrder: 60
		Prerequisites: ~d2k_tleilaxu_tech, upgrade.mg_quad, ~faction.tleilaxu
		Queue: Upgrade.d2k
		BuildLimit: 1
		BuildDuration: 750
		BuildDurationModifier: 100
		Description: Gives Face Dancers longer view distance and detector capabilities
        IconPalette: windows256
	Valued:
		Cost: 1000
	RenderSprites:
        Palette: windows256
	ProvidesPrerequisite@upgradename:   
    
d2k_personal_shield:
	Inherits: ^upgrade.template
	Tooltip:
		Name: Personal Shield
    Valued:
        Cost: 2500
	Buildable:
		BuildPaletteOrder: 250
		Queue: Research.d2k
		Description: Shield protects infantry from small caliber weapons\nExhausts under heavy fire and leaves unit vulnerable
		Prerequisites: ~!d2k_personal_shield
        IconPalette: ra2
        BuildDuration: 1500
        BuildDurationModifier: 100
	RenderSprites:
		Image: d2k_personal_shield_icon
	ProvidesPrerequisite:
		Prerequisite: d2k_personal_shield

d2k_combat_siege_upgrade: 
	Inherits: ^upgrade.template
	Tooltip:
		Name: Combat Siege
	Buildable:
		BuildPaletteOrder: 200
		Prerequisites: ~!d2k_combat_siege_upgrade
		Queue: Research.d2k
		BuildDuration: 1500
		BuildDurationModifier: 100
		Description: Unlocks Ix Combat Siege Tank
        IconPalette: d2kunit  
	Valued:
		Cost: 2500
	RenderSprites:
		Image: combat_tank_o
	ProvidesPrerequisite@upgradename:  

d2k_quake_tank_upgrade: 
	Inherits: ^upgrade.template
	Tooltip:
		Name: Quake Tank
	Buildable:
		BuildPaletteOrder: 200
		Prerequisites: ~!d2k_quake_tank_upgrade
		Queue: Research.d2k
		BuildDuration: 1500
		BuildDurationModifier: 100
		Description: Unlocks Ix Quake Tank
        IconPalette: d2kunit  
	Valued:
		Cost: 2500
	RenderSprites:
		Image: quake_tank
	ProvidesPrerequisite@upgradename:  

d2k_duelist_tank_upgrade: 
	Inherits: ^upgrade.template
	Tooltip:
		Name: Duelist Tank
	Buildable:
		BuildPaletteOrder: 200
		Prerequisites: ~!d2k_duelist_tank_upgrade
		Queue: Research.d2k
		BuildDuration: 1500
		BuildDurationModifier: 100
		Description: Unlocks Ix Duelist Tank
        IconPalette: d2kunit  
	Valued:
		Cost: 2500
	RenderSprites:
		Image: duelist_tank
	ProvidesPrerequisite@upgradename:  
    
d2k_spice_sifter_upgrade:
	Inherits: ^upgrade.template
	Tooltip:
		Name: Efficient Filtering
	Buildable:
		BuildPaletteOrder: 200
		Prerequisites: ~!d2k_spice_sifter_upgrade
		Queue: Research.d2k
		BuildDuration: 1500
		BuildDurationModifier: 100
		Description: Decreases amount of Spice filtered out incorrectly from the Spice Sifters
        IconPalette: d2kunit  
	Valued:
		Cost: 2500
	RenderSprites:
		Image: d2k_spice_sifter
	ProvidesPrerequisite@upgradename: 
   
d2k_siege_range_upgrade:
	Inherits: ^upgrade.template
	Tooltip:
		Name: Reinforced barrel
	Buildable:
		BuildPaletteOrder: 200
		Prerequisites: ~!d2k_siege_range_upgrade
		Queue: Research.d2k
		BuildDuration: 1500
		BuildDurationModifier: 100
		Description: Siege Tanks gains higher range 
	Valued:
		Cost: 2000
	RenderSprites:
		Image: d2k_siege_tank_higher_range
	ProvidesPrerequisite@upgradename: 

d2k_ornithopter_upgrade:
	Inherits: ^upgrade.template
	Tooltip:
		Name: Ornithopter Missiles
	Buildable:
		BuildPaletteOrder: 200
		Prerequisites: ~du_ornithopter, ~!d2k_ornithopter_upgrade
		Queue: Research.d2k
		BuildDuration: 1500
		BuildDurationModifier: 100
		Description: Ornithopters will have bombs replaced by guided missiles
	Valued:
		Cost: 2500
	RenderSprites:
		Image: d2k_ornithopter_upgrade
	ProvidesPrerequisite@upgradename: 
    
#####################################
#       EDITOR STUFF
#####################################

wormspawner:
	Interactable:
	EditorOnlyTooltip:
		Name: (worm spawning location)
	AlwaysVisible:
	Immobile:
		OccupiesSpace: false
	RenderSpritesEditorOnly:
        Palette: d2kunit
	WithSpriteBody:
	BodyOrientation:
		QuantizedFacings: 1
	ActorSpawner:
	MapEditorData:
		Categories: System
        
#######################################
#       HUSKS
#######################################

d2k_mcv.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 1750
	Tooltip:
		Name: Mobile Construction Vehicle (Destroyed)
    TransformOnCapture:
        IntoActor: d2k_mcv

harvester.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 1500
	Tooltip:
		Name: Spice Harvester (Destroyed)
	TransformOnCapture:
		IntoActor: harvester

siege_tank.husk:
	Inherits: ^D2KVehicleHusk
	Tooltip:
		Name: Siege Tank (Destroyed)
    Health:
		HP: 750
	ThrowsParticle@turret:
		Anim: turret
	TransformOnCapture:
		IntoActor: siege_tank

duelist_tank.husk:
	Inherits: ^D2KVehicleHusk
	Tooltip:
		Name: Ix Duelist Tank (Destroyed)
    Health:
		HP: 1250
	ThrowsParticle@turret:
		Anim: turret
	TransformOnCapture:
		IntoActor: duelist_tank
        
missile_tank.husk: 
	Inherits: ^D2KVehicleHusk
    Health:
		HP: 750
	Tooltip:
		Name: Missile Tank (Destroyed)
	TransformOnCapture:
		IntoActor: missile_tank

sonic_tank.husk:
	Inherits: ^D2KVehicleHusk
    Health:
		HP: 1000
	Tooltip:
		Name: Sonic Tank (Destroyed)
	TransformOnCapture:
		IntoActor: sonic_tank

devastator.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 1250
	Tooltip:
		Name: Devastator (Destroyed)
	TransformOnCapture:
		IntoActor: devastator

d2k_tyrant.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 1500
	Tooltip:
		Name: Tyrant (Destroyed)
	TransformOnCapture:
		IntoActor: d2k_tyrant
        
deviator.husk:
	Inherits: ^D2KVehicleHusk
    Health:
		HP: 1000
	Tooltip:
		Name: Deviator (Destroyed)
	TransformOnCapture:
		IntoActor: deviator

^combat_tank.husk:
	Inherits: ^D2KVehicleHusk
	Health:
		HP: 1000
	Tooltip:
		Name: Combat Tank (Destroyed)
	ThrowsParticle@turret:
		Anim: turret
        
combat_tank_a.husk:
	Inherits: ^combat_tank.husk
	TransformOnCapture:
		IntoActor: combat_tank_a

combat_tank_h.husk:
	Inherits: ^combat_tank.husk
	TransformOnCapture:
		IntoActor: combat_tank_h

combat_tank_o.husk:
	Inherits: ^combat_tank.husk
	TransformOnCapture:
		IntoActor: combat_tank_o

##################################
#       PROMOTIONS
##################################

d2k_striketeam2:
	Inherits: ^upgrade.template
	Tooltip:
		Name: Strike Team Paradrop II
	Buildable:
		BuildPaletteOrder: 220
		Queue: Promotions.d2k
		Description: Unlocks Strike Team Paradrop II
		Prerequisites: ~!d2k_striketeam2, rank3, rank1, ~faction.mercenary, ~techlevel.superweapons
        Icon: icon_merc
        IconPalette: d2kunit
	RenderSprites:
		Image: light_inf
	ProvidesPrerequisite:
		Prerequisite: d2k_striketeam2

d2k_striketeam3:
	Inherits: ^upgrade.template
	Tooltip:
		Name: Strike Team Paradrop III
	Buildable:
		BuildPaletteOrder: 220
		Queue: Promotions.d2k
		Description: Unlocks Strike Team Paradrop III
		Prerequisites: ~!d2k_striketeam3, rank5, rank1, ~d2k_striketeam2, ~faction.mercenary, ~techlevel.superweapons
        Icon: icon_merc
        IconPalette: d2kunit
	RenderSprites:
		Image: light_inf
	ProvidesPrerequisite:
		Prerequisite: d2k_striketeam3
        
##################################
#       MISC
##################################
sandworm_tleilaxu:
    Inherits: sandworm
    Inherits@1: ^ExistsInWorld
    Inherits@selection: ^SelectableCombatUnit
    Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Tooltip:
		Name: Tamed Sandworm
    -RequiresSpecificOwners:
    Health:
		HP: 60000
    Mobile:
		Speed: 60
		Locomotor: sandwormtleilaxu
        RequiresCondition: !make
        PauseOnCondition: attacking
    RenderSprites:
        Image: sandworm
    SelectionDecorations:
	WithSpriteControlGroupDecoration:
  	Transforms:
		IntoActor: d2k_sandworm_tower
		Offset: -1,-1
		TransformSounds: BUILD1.WAV
   		Facing: 64     
		NoTransformNotification: BuildingCannotPlaceAudio
    AIDeployNotifier:
		DeployChance: 50      
    Selectable:
        Bounds: 52,52
    -Interactable:
    Armament:
        Weapon: WormSwallow
        RequiresCondition: !make
    GrantConditionOnMovement@move:
        Condition: move
        ValidMovementTypes: Horizontal, Vertical, Turn
    AutoTarget:
        ScanRadius: 5
    WithIdleOverlay@DEPLOYED:
		Sequence: traila
        RequiresCondition: !make && !move
    WithSpriteBody:
		Sequence: invisible
    AttackFollow:
    -AttackSwallow:
    -Sandworm:      
    Voiced:
        VoiceSet: SCDroneVoice
        
sandworm_tleilaxu_summon:
    Inherits: sandworm_tleilaxu
    -AIDeployNotifier
    -Transforms
    Tooltip:
		Name: Summoned Sandworm
    Mobile:
		Speed: 85
    WithMakeAnimation:
        Condition: make
    DamageMultiplier@weaker:
        Modifier: 200
        RequiresCondition: make
    AmbientSound@wormspawn:
        SoundFiles: WORM.WAV
        Interval: 200
        RequiresCondition: make       
    Health:
		HP: 120000
        
sietch:
	Inherits: ^D2KBuilding
    Inherits@D2KSprite: ^D2KPaletteRender    
	Tooltip:
		Name: Sietch
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,Concrete,ClearDune,Cliff
	Health:
		HP: 120000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	-DamagedByTerrain:
	-GivesBuildableArea:
	-Sellable:
	-RepairableBuilding:
	Demolishable:
		-Condition:
	ProvidesPrerequisite@buildingname:
	-WithMakeAnimation:
	-WithBuildingRepairDecoration:
    -WithDeathAnimation:
    ThrowsShrapnel:
		Weapons: Debris, Debris2, Debris3, Debris4
		Pieces: 4, 6
		Range: 1c512, 3c0     
    RenderSprites:
        Image: sietch
        Scale: 0.79

fremen_sietch:
    Inherits: sietch
    Buildable:
		Prerequisites: wind_trap, ~faction.fremen
		Queue: Building.d2k, RABuilding.d2k
		BuildPaletteOrder: 150
		BuildDuration: 250
		BuildDurationModifier: 100
		Description: Produces Fremen Units\nCan be additionally placed on Cliffs
        IconPalette: windows256      
    RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 15   
    Production@NORMAL:
		Produces: Infantry.d2k
        RequiresCondition: !classicproductionqueues
   	Production@CLASSICPRODUCTIONQUEUES:
		Produces: RAInfantry.d2k
        RequiresCondition: classicproductionqueues     
	ProductionQueue:
		Type: Infantry.d2k
        Group: Infantry
    	ReadyAudio: UnitReady
		BlockedAudio: NoBuild
     	LowPowerModifier: 250    
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled         
	ProductionBar@infantry:
		ProductionType: Infantry.d2k
        RequiresCondition: !classicproductionqueues
   	ProductionBar@rainfantry:
		ProductionType: RAInfantry.d2k     
        RequiresCondition: classicproductionqueues
	ProvidesPrerequisite@fremen:
		Prerequisite: barracks.atreides
		Factions: fremen
    ProvidesPrerequisite@d2kbarracks:
        Prerequisite: d2k_barracks       
    ProvidesPrerequisite@barracks:
        Prerequisite: barracks
  	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished
		SellSounds: BUILD1.WAV   
	Exit@1:
		SpawnOffset: 352,576,0
		ExitCell: 0,2
	Exit@2:
		SpawnOffset: 512,480,0
		ExitCell: 1,2     
    RallyPoint:    
    Health:
        HP: 160000
    Valued:
        Cost: 600
    Power:
        Amount: 0        
##############################################
#                CREEPS
##############################################
sandworm:
	Inherits@1: ^SpriteActor
    Inherits: ^D2KPaletteRender 
	Interactable:
	Tooltip:
		Name: Sandworm
	Health:
		HP: 150000
	HitShape:
		Type: Circle
			Radius: 256
	Armor:
		Type: Heavy
	Mobile:
		Speed: 42
		Locomotor: sandwormsub
	Targetable:
		TargetTypes: Ground, Creep
	WithSpriteBody:
	WithIdleAnimation:
		Interval: 160
		Sequences: lightninga, lightningb, lightningc, lightningd, lightninge, lightningf
		RequiresCondition: !attacking
	AmbientSound:
		SoundFiles: WRMSIGN1.WAV
		Interval: 160
		RequiresCondition: !attacking
	WithAttackOverlay@mouth:
		Sequence: mouth
	WithAttackOverlay@sand:
		Sequence: sand
	HiddenUnderFog:
	AppearsOnRadar:
		UseLocation: true
	AttackSwallow:
		AttackRequiresEnteringCell: true
		AttackingCondition: attacking
        WormAttackNotification: WormAttack
	Armament:
		Weapon: WormJaw
	Sandworm:
		WanderMoveRadius: 5
        ChanceToDisappear: 30
	IgnoresCloak:
	AnnounceOnSeen:
		Notification: WormSign
		PingRadar: True
        AnnounceNeutrals: True
	RevealsShroud:
		Range: 5c0
	LeavesTrails:
		Image: sandtrail
		Sequences: traila, trailb, trailc
		Palette: d2keffect
		Type: CenterPosition
		TerrainTypes: Clear, ClearTemperat, ClearWinter, ClearJungle, ClearSnow, ClearDesert, ClearInterior, Rough, Road, Beach, Tiberium, BlueTiberium, RedTiberium, GoldTiberium, Ore, Gems, SCMinerals, ClearDune, Dune, Sand, SpiceSand, Spice
		MovingInterval: 3
		RequiresCondition: !attacking
	ConditionManager:
	RevealOnFire:
		Duration: 50
		Radius: 2c512
	RequiresSpecificOwners:
		ValidOwnerNames: Creeps
        
fremen_creep:
    Inherits: nsfremen
    -Buildable:
    Health:
        HP: 6000
    MobSpawnerSlave:
    -DamagedByTerrain:
    ReloadDelayMultiplier@creep:
        Modifier: 125
    FirepowerMultiplier@creep:
        Modifier: 60
    Armament@PRIMARY:
		Weapon: HMG_fremen
    -Armament@SECONDARY:
    AutoTarget:
        ScanRadius: 7
	RevealOnFire:
		Duration: 50
		Radius: 2c512
	RequiresSpecificOwners:
		ValidOwnerNames: Creeps  
    -RevealsShroud@base-reveal:
    -GrantConditionOnPrerequisite@base-reveal:        

fremen_creep_s:
    Inherits: nsfremen
    -Buildable:
    Health:
        HP: 6000
    MobSpawnerSlave:      
    Tooltip:
        Name: Fremen Milishia
    -DamagedByTerrain:
    ReloadDelayMultiplier@creep:
        Modifier: 125 
    FirepowerMultiplier@creep:
        Modifier: 60
    Armament@PRIMARY:
		Weapon: D2K_Rocket_Fremen
    -Armament@SECONDARY:
    AutoTarget:
        ScanRadius: 7
	RevealOnFire:
		Duration: 50
		Radius: 2c512
	RequiresSpecificOwners:
		ValidOwnerNames: Creeps   
    -RevealsShroud@base-reveal:
    -GrantConditionOnPrerequisite@base-reveal:        
        
sietch_creep:
	Inherits: sietch
	Health:
		HP: 150000
    Capturable:
        RequiresCondition: no-capture 
	RequiresSpecificOwners:
		ValidOwnerNames: Creeps    
    ChangesHealth:
  		PercentageStep: 3
		Delay: 80
		StartIfBelow: 30
    MobSpawnerMaster:
        Actors: fremen_creep
        Offset: 0,2000,0
        RespawnTicks: 300
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing
        SpawnAllAtOnce: false
    MobSpawnerMaster@1:
        Actors: fremen_creep
        Offset: 0,2000,0
        RespawnTicks: 500
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing     
        SpawnAllAtOnce: false
    MobSpawnerMaster@2:
        Actors: fremen_creep
        Offset: 0,2000,0
        RespawnTicks: 1000
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing    
        SpawnAllAtOnce: false
    MobSpawnerMaster@3:
        Actors: fremen_creep
        Offset: 0,2000,0
        RespawnTicks: 1200
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing     
        SpawnAllAtOnce: false        
    MobSpawnerMaster@4:
        Actors: fremen_creep
        Offset: 0,2000,0
        RespawnTicks: 1600
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing 
        SpawnAllAtOnce: false    
    MobSpawnerMaster@5:
        Actors: fremen_creep
        Offset: 0,2000,0
        RespawnTicks: 2000
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing   
        SpawnAllAtOnce: false
    MobSpawnerMaster@6:
        Actors: fremen_creep
        Offset: 0,2000,0
        RespawnTicks: 2500
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing     
        SpawnAllAtOnce: false
    MobSpawnerMaster@7:
        Actors: fremen_creep_s
        Offset: 0,2000,0
        RespawnTicks: 1000
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing      
        SpawnAllAtOnce: false
    MobSpawnerMaster@8:
        Actors: fremen_creep_s
        Offset: 0,2000,0
        RespawnTicks: 3000
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing   
        SpawnAllAtOnce: false
    MobSpawnerMaster@9:
        Actors: fremen_creep_s
        Offset: 0,2000,0
        RespawnTicks: 4000
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing  
        SpawnAllAtOnce: false
    MobSpawnerMaster@10:
        Actors: fremen_creep_s
        Offset: 0,2000,0
        RespawnTicks: 5000
        ExitByBudding: false
        AggregateHealth: false
        SlavesHaveFreeWill: true
        SlaveDisposalOnKill: DoNothing
        SlaveDisposalOnOwnerChange: DoNothing    
        SpawnAllAtOnce: false
    SpawnActorOnDeath:
        Actor: sietch_creep_disabled
    -RevealsShroud@base-reveal:
    -GrantConditionOnPrerequisite@base-reveal:
        
sietch_creep_disabled: 
    Inherits@0: sietch
    Capturable:
        RequiresCondition: no-capture 
    -Targetable:
    -ThrowsShrapnel:
    -Selectable:
    Interactable:
        Bounds: 45,45
        DecorationBounds: 45,45
    Tooltip:
        Name: Sietch Ruins
    RenderSprites:
        Palette: staticterrain 
        Scale: 1
    WithSpriteBody:
        Sequence: destroyed
    KillsSelf:
        Delay: 7500
    SpawnActorOnDeath:
        Actor: sietch_creep
    -Targetable@ivan:
	-Targetable@trappable:
	-Targetable@chrono:
    -RevealsShroud@base-reveal:
    -GrantConditionOnPrerequisite@base-reveal:

###################################################
#       OG DUNE 2000
###################################################

^OD2kBuilding:
    Inherits: ^BaseBuilding
	Inherits@selection: ^SelectableBuilding
    Inherits@D2KSprite: ^D2KPaletteRender
    Inherits@bot: ^BotMicromanageable
    Buildable:
        IconPalette: d2kunit
	Tooltip:
		GenericName: Structure
    DamagedByTerrain:
		Damage: 100
		DamageInterval: 50
		Terrain: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,ClearDune
		DamageThreshold: 50
		StartOnThreshold: true
    DamageMultiplier@AI:
        Modifier: 50
        RequiresCondition: botmicro
	Huntable:
	OwnerLostAction:
		Action: Kill
	SelectionDecorations:
	WithSpriteControlGroupDecoration:
	RevealsShroud:
	Targetable:
		TargetTypes: Ground, C4, Structure
	HitShape:
		UseTargetableCellsOffsets: true
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	Building:
		Dimensions: 1,1
		Footprint: x
		TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,Concrete,ClearDune
		BuildSounds: BUILD1.WAV
    -ActorPreviewPlaceBuildingPreview: 
    D2kActorPreviewPlaceBuildingPreview:
		OverridePalette: playerd2k     
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 3
	GivesBuildableArea:
		AreaTypes: building
    BaseProvider:
		Range: 5c0
	CaptureManager:
	Capturable:
		RequiresCondition: !build-incomplete
		Types: building
	SoundOnDamageTransition:
		DamagedSounds: EXPLSML1.WAV
		DestroyedSounds: EXPLHG1.WAV
	Explodes:
		Type: Footprint
		Weapon: oBuildingExplode
		EmptyWeapon: oBuildingExplode
	RepairableBuilding:
		RepairStep: 500
		PlayerExperience: 25
		RepairingNotification: Repairing
	SpawnActorsOnSell:
		ActorTypes: olight_inf
	MustBeDestroyed:
		RequiredForShortGame: true
	FrozenUnderFog:
	CaptureNotification:
	ActorLostNotification:
		Notification: BuildingLost
	ShakeOnDeath:
	Demolishable:
		Condition: being-demolished
	Sellable:
		RequiresCondition: !build-incomplete && !being-demolished
		SellSounds: BUILD1.WAV
	Guardable:
		Range: 3c0
	ThrowsShrapnel:
		Weapons: oDebris, oDebris2, oDebris3, oDebris4
		Pieces: 2, 5
		Range: 1c512, 4c0
	WithSpriteBody:
	WithMakeAnimation:
		Condition: build-incomplete
	RevealOnDeath:
		Duration: 100
		Radius: 4c768
	MapEditorData:
		Categories: Building
	CommandBarBlacklist:
	WithBuildingRepairDecoration:
		Image: allyrepair
		Sequence: repair
		ReferencePoint: Center
		Palette: player
		IsPlayerPalette: True
    Cloak@TScloak:
        Palette: d2kcloak
    -WithDeathAnimation:
^OD2kDefense:
    Inherits: ^Defense
	Inherits@1: ^OD2kBuilding
	Inherits@selection: ^SelectableCombatBuilding
    Inherits@D2K_Og_Buff: ^D2K_Og_Buff
	WithSpriteTurret:
	AttackTurreted:
	RenderRangeCircle:
	DetectCloaked:
		Range: 1c768
	-GivesBuildableArea:
	-WithMakeAnimation:
	Capturable:
	-WithSpriteBody:
	Sellable:
		RequiresCondition: !being-demolished
	WithWallSpriteBody:
	LineBuildNode:
		Types: turret
	ThrowsShrapnel:
		Weapons: oDebris, oDebris3
		Pieces: 2, 2
		Range: 2c0, 4c0
    -BaseProvider
    -WithDeathAnimation
	MustBeDestroyed:
		RequiredForShortGame: false
	RevealOnFire:
	Targetable:
		TargetTypes: Ground, C4, Structure, Defense
	MapEditorData:
		Categories: Defense
	-CommandBarBlacklist:
    -ActorPreviewPlaceBuildingPreview

^DisableOnLowPower:
	WithColoredOverlay@IDISABLE:
		RequiresCondition: disabled
		Palette: disabled
	GrantConditionOnPowerState@LOWPOWER:
		Condition: lowpower
		ValidPowerStates: Low, Critical
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower
		Condition: disabled
        
^DisableOnLowPowerOrPowerDown:
	Inherits: ^DisableOnLowPower
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown
		Condition: disabled
	ToggleConditionOnOrder:
		DisabledSound: EnablePower
		EnabledSound: DisablePower
		Condition: powerdown
		OrderName: PowerDown
	WithDecoration@POWERDOWN:
		Image: poweroff
		Sequence: offline
		Palette: chrome
		RequiresCondition: powerdown
		ReferencePoint: Center
		Offsets:
			repairing: 10, 0
	PowerMultiplier@POWERDOWN:
		RequiresCondition: powerdown
		Modifier: 0
	RepairableBuilding:
		RepairCondition: repairing
	WithBuildingRepairDecoration:
		Offsets:
			powerdown: -10, 0
            
^oconcrete:
    Inherits: ^concrete
	Buildable:
		Queue: Building.od2k
        
oconcretea:
	Inherits: ^oconcrete
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Tooltip:
		Name: Concrete Slab
	Valued:
		Cost: 20
	Buildable:
		BuildPaletteOrder: 110
		BuildDuration: 54
		BuildDurationModifier: 40
    RenderSprites:
        Image: concretea
        
oconcreteb:
	Inherits: ^oconcrete
	Building:
		Footprint: xxx xxx xxx 
		Dimensions: 3,3
	Tooltip:
		Name: Large Concrete Slab
	Valued:
		Cost: 50
	Buildable:
		BuildPaletteOrder: 210
		Prerequisites: upgrade.oconyard
		BuildDuration: 81
		BuildDurationModifier: 40
    RenderSprites:
        Image: concreteb
        
oconstruction_yard:
	Inherits: ^OD2kBuilding
    Inherits@UCPQ: ^UnconditionalCPQ
    Inherits@ai: ^AIConyardCash
    Inherits@conyard: ^Conyard
	Buildable:
		Description: Produces structures.
	-DamagedByTerrain:
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
   	LaysTerrain:
		Template: 856
        TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,ClearDune    
	Selectable:
		Bounds: 96,64
	Health:
		HP: 90000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 5c768
	Production:
		Produces: Building.od2k, Defence.od2k, Upgrade.od2k
	Valued:
		Cost: 2000
    ResourcePurifier@duneai:
		Modifier: 40
		ShowTicks: False
		RequiresCondition: botmicro
	Tooltip:
		Name: Construction Yard
	CustomSellValue:
		Value: 2000
	SpawnActorsOnSell:
		ActorTypes: olight_inf, olight_inf, oengineer
	BaseBuilding:
	ProductionBar:
		ProductionType: Building.od2k
	ProductionBar@2:
		ProductionType: Defence.od2k
	Power:
		Amount: 20
	RenderSprites:
		Image: conyard.ordos
		FactionImages:
			oatreides: conyard.atreides
			oharkonnen: conyard.harkonnen
	WithBuildingPlacedOverlay:
		RequiresCondition: !build-incomplete
		Palette: d2k
	PrimaryBuilding:
		PrimaryCondition: primary
		ProductionQueues: Building.od2k, Defence.od2k
		SelectionNotification: PrimaryBuildingSelected
	ProvidesPrerequisite@buildingname:
	GrantConditionOnPrerequisite:
		Prerequisites: upgrade.oconyard
		Condition: stardecoration
	WithDecoration@upgraded:
		RequiresSelection: true
		Image: d2k_pips
		Sequence: tag-upgraded
		ReferencePoint: Top, Right
		ZOffset: 256
		RequiresCondition: stardecoration
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RevealOnDeath:
		Radius: 5c768
    CashTricklerMultiplier@hard:
        Modifier: 250
        RequiresCondition: hardcash && !noinsurance
    CashTricklerMultiplier@brutal:
        Modifier: 300
        RequiresCondition: brutalcash && !noinsurance
        
owind_trap:
	Inherits: ^OD2kBuilding
	Buildable:
		Queue: Building.od2k
		BuildPaletteOrder: 120
		BuildDuration: 270
		BuildDurationModifier: 40
		Description: Provides power for other structures.
	Selectable:
		Bounds: 64,64
	Valued:
		Cost: 225
	Tooltip:
		Name: Wind Trap
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024
	Armor:
		Type: building
	RevealsShroud:
		Range: 3c768
	RenderSprites:
		Image: power.ordos
		FactionImages:
			oatreides: power.atreides
			oharkonnen: power.harkonnen
	WithIdleOverlay@ZAPS:
		RequiresCondition: !build-incomplete
		Sequence: idle-zaps
	Power:
		Amount: 200
    PowerMultiplier@AI:
        Modifier: 200
        RequiresCondition: botmicro
	ScalePowerWithHealth:
	ProvidesPrerequisite@buildingname:
	RevealOnDeath:
		Radius: 3c768

obarracks:
	Inherits: ^OD2kBuilding
    Inherits@UCPQ: ^UnconditionalCPQ
	Buildable:
		Prerequisites: owind_trap
		Queue: Building.od2k
		BuildPaletteOrder: 220
		BuildDuration: 323
		BuildDurationModifier: 40
		Description: Trains infantry.
	Selectable:
		Bounds: 64,64
	Valued:
		Cost: 225
	Tooltip:
		Name: Barracks
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 96000
	HitShape:
		Type: Rectangle
			TopLeft: -1024, -1024
			BottomRight: 1024, 1024
	Armor:
		Type: building
	RevealsShroud:
		Range: 3c768
	RallyPoint:
	Exit@1:
		SpawnOffset: 352,576,0
		ExitCell: 0,2
	Exit@2:
		SpawnOffset: 512,480,0
		ExitCell: 1,2
	Production:
		Produces: Infantry.od2k
	PrimaryBuilding:
		PrimaryCondition: primary
		ProductionQueues: Infantry.od2k
		SelectionNotification: PrimaryBuildingSelected
	ProductionBar:
		ProductionType: Infantry.od2k
	ProvidesPrerequisite@atreides:
		Prerequisite: barracks.atreides
		Factions: oatreides
	ProvidesPrerequisite@ordos:
		Prerequisite: barracks.ordos
		Factions: oordos
	ProvidesPrerequisite@harkonnen:
		Prerequisite: barracks.harkonnen
		Factions: oharkonnen
	Power:
		Amount: -30
	RenderSprites:
		Image: barracks.ordos
		FactionImages:
			oatreides: barracks.atreides
			oharkonnen: barracks.harkonnen
	ProvidesPrerequisite@buildingname:
	GrantConditionOnPrerequisite:
		Prerequisites: upgrade.obarracks
		Condition: stardecoration
	WithDecoration@upgraded:
		RequiresSelection: true
		Image: d2k_pips
		Sequence: tag-upgraded
		ReferencePoint: Top, Right
		ZOffset: 256
		RequiresCondition: stardecoration
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
	RevealOnDeath:
		Radius: 3c768

orefinery:
	Inherits: ^OD2kBuilding
	Buildable:
		Prerequisites: owind_trap
		Queue: Building.od2k
		BuildPaletteOrder: 130
		BuildDuration: 810
		BuildDurationModifier: 40
		Description: Harvesters unload Spice here for processing.
	Selectable:
		Bounds: 96,64
	Valued:
		Cost: 1500
	Tooltip:
		Name: Spice Refinery
	Building:
		Footprint: =xx xx= ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	HitShape:
		Type: Rectangle
			TopLeft: -512, -1024
			BottomRight: 1536, 0
	HitShape@BOTTOM:
		Type: Rectangle
			TopLeft: -1536, 0
			BottomRight: 512, 1024
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 3c768
	Refinery:
		DockAngle: 160
		DockOffset: 2,1
		TickRate: 20
	StoresResources:
		PipColor: green
		PipCount: 10
		Capacity: 2000
	CustomSellValue:
		Value: 500
	FreeActorWithDelivery:
		Actor: oharvester
		DeliveryOffset: 2,2
		DeliveringActor: ocarryall.reinforce
		Facing: 160
	RenderSprites:
		Image: refinery.ordos
		FactionImages:
			oatreides: refinery.atreides
			oharkonnen: refinery.harkonnen
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: idle-top
	WithDockedOverlay@SMOKE:
		RequiresCondition: !build-incomplete
		Sequence: smoke
	Power:
		Amount: -75
	ProvidesPrerequisite@buildingname:

osilo:
	Inherits: ^OD2kBuilding
	Buildable:
		Prerequisites: orefinery
		Queue: Defence.od2k
		BuildPaletteOrder: 310
		BuildDuration: 200
		BuildDurationModifier: 40
		Description: Stores excess harvested Spice.
	Selectable:
		Bounds: 32,32
	Valued:
		Cost: 120
	Tooltip:
		Name: Silo
	RequiresBuildableArea:
		Adjacent: 4
	-GivesBuildableArea:
	Health:
		HP: 45000
	Armor:
		Type: building
	RevealsShroud:
		Range: 2c768
	RenderSprites:
		Image: silo.ordos
		FactionImages:
			oatreides: silo.atreides
			oharkonnen: silo.harkonnen
	-WithSpriteBody:
	WithResourceLevelSpriteBody:
		Sequence: stages
	StoresResources:
		PipColor: green
		PipCount: 5
		Capacity: 2000
	-SpawnActorsOnSell:
	Power:
		Amount: -15
	MustBeDestroyed:
		RequiredForShortGame: false
	ThrowsShrapnel:
		Weapons: oDebris, oDebris2, oDebris3, oDebris4
		Pieces: 3, 5
		Range: 2c0, 5c0
	RevealOnDeath:
		Radius: 2c768

olight_factory:
	Inherits: ^OD2kBuilding
    Inherits@UCPQ: ^UnconditionalCPQ
	Buildable:
		Prerequisites: orefinery
		Queue: Building.od2k
		BuildPaletteOrder: 230
		BuildDuration: 415
		BuildDurationModifier: 40
		Description: Produces light vehicles.
	Selectable:
		Bounds: 96,64
	Valued:
		Cost: 500
	Tooltip:
		Name: Light Factory
	Building:
		Footprint: xxx xx= ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 99000
	HitShape:
		TargetableOffsets: -210,608,0
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024
	Armor:
		Type: building
	RevealsShroud:
		Range: 5c768
	RenderSprites:
		Image: light.ordos
		FactionImages:
			oatreides: light.atreides
			oharkonnen: light.harkonnen
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: idle-top
	WithProductionOverlay@WELDING:
		RequiresCondition: !build-incomplete
		Queues: Vehicle
		Sequence: production-welding
	RallyPoint:
	Exit@1:
		SpawnOffset: 544,-224,0
		ExitCell: 2,1
	Production:
		Produces: Vehicle.od2k, Upgrade.od2k
	PrimaryBuilding:
		PrimaryCondition: primary
		ProductionQueues: Vehicle.od2k
		SelectionNotification: PrimaryBuildingSelected
	ProductionBar:
		ProductionType: Vehicle.od2k
	ProvidesPrerequisite@atreides:
		Prerequisite: light.atreides
		Factions: oatreides
	ProvidesPrerequisite@ordos:
		Prerequisite: light.ordos
		Factions: oordos
	ProvidesPrerequisite@harkonnen:
		Prerequisite: light.harkonnen
		Factions: oharkonnen
	ProvidesPrerequisite@trike:
		Prerequisite: light.trike
		Factions: oatreides, oharkonnen
	ProvidesPrerequisite@raider:
		Prerequisite: light.raider
		Factions: oordos
	ProvidesPrerequisite@buildingname:
	Power:
		Amount: -125
	GrantConditionOnPrerequisite:
		Prerequisites: upgrade.olight
		Condition: stardecoration
	WithDecoration@upgraded:
		RequiresSelection: true
		Image: d2k_pips
		Sequence: tag-upgraded
		ReferencePoint: Top, Right
		ZOffset: 256
		RequiresCondition: stardecoration
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary

oheavy_factory:
	Inherits: ^OD2kBuilding
    Inherits@UCPQ: ^UnconditionalCPQ
	Buildable:
		Prerequisites: orefinery
		Queue: Building.od2k
		BuildPaletteOrder: 330
		BuildDuration: 972
		BuildDurationModifier: 40
		Description: Produces heavy vehicles.
	Selectable:
		Bounds: 96,96
	Valued:
		Cost: 1000
	Tooltip:
		Name: Heavy Factory
	Building:
		Footprint: _x_ xxx =xX ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 105000
	HitShape:
		TargetableOffsets: -1155,-704,0, -1365,832,0
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 1536
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	Armor:
		Type: building
	RevealsShroud:
		Range: 4c768
	RallyPoint:
	Exit@1:
		SpawnOffset: 256,192,0
		ExitCell: 0,2
	Production:
		Produces: Armor.od2k
	PrimaryBuilding:
		PrimaryCondition: primary
		ProductionQueues: Armor.od2k
		SelectionNotification: PrimaryBuildingSelected
	ProductionBar:
		ProductionType: Armor.od2k
	ProvidesPrerequisite@atreides:
		Prerequisite: heavy.atreides
		Factions: oatreides
	ProvidesPrerequisite@ordos:
		Prerequisite: heavy.ordos
		Factions: oordos
	ProvidesPrerequisite@harkonnen:
		Prerequisite: heavy.harkonnen
		Factions: oharkonnen
	ProvidesPrerequisite@atreides_combat:
		Prerequisite: heavy.atreides_combat
		Factions: oatreides
	ProvidesPrerequisite@ordos_combat:
		Prerequisite: heavy.ordos_combat
		Factions: oordos
	ProvidesPrerequisite@harkonnen_combat:
		Prerequisite: heavy.harkonnen_combat
		Factions: oharkonnen
	ProvidesPrerequisite@missile_tank:
		Prerequisite: heavy.missile_tank
		Factions: oatreides, oharkonnen
	RenderSprites:
		Image: heavy.ordos
		FactionImages:
			oatreides: heavy.atreides
			oharkonnen: heavy.harkonnen
	WithIdleOverlay@TOP:
		RequiresCondition: !build-incomplete
		Sequence: idle-top
	WithProductionOverlay@WELDING:
		RequiresCondition: !build-incomplete
		Queues: Armor.od2k
		Sequence: production-welding
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	GrantConditionOnPrerequisite:
		Prerequisites: upgrade.oheavy
		Condition: stardecoration
	WithDecoration@upgraded:
		RequiresSelection: true
		Image: d2k_pips
		Sequence: tag-upgraded
		ReferencePoint: Top, Right
		ZOffset: 256
		RequiresCondition: stardecoration
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary

ooutpost:
	Inherits: ^OD2kBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Buildable:
		Prerequisites: obarracks, ~techlevel.medium
		Queue: Building.od2k
		BuildPaletteOrder: 320
		BuildDuration: 405
		BuildDurationModifier: 40
		Description: Provides a radar map of the battlefield.\n  Requires power to operate.
	Selectable:
		Bounds: 96,64
	Valued:
		Cost: 750
	Tooltip:
		Name: Outpost
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 105000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1024
			BottomRight: 1536, 1024
	Armor:
		Type: building
	RevealsShroud:
		Range: 5c768
	ExternalCondition@JAMMED:
		Condition: jammed
	ProvidesRadar:
		RequiresCondition: !disabled && !jammed
	RenderSprites:
		Image: outpost.ordos
		FactionImages:
			oatreides: outpost.atreides
			oharkonnen: outpost.harkonnen
	WithIdleOverlay@DISH:
		RequiresCondition: !build-incomplete && !severe-damaged
		Sequence: idle-dish
		PauseOnCondition: disabled
	GrantConditionOnDamageState@STOPDISH:
		Condition: severe-damaged
	Power:
		Amount: -125
	ProvidesPrerequisite@buildingname:

ostarport:
	Inherits: ^OD2kBuilding
    Inherits@UCPQ: ^UnconditionalCPQ
	Tooltip:
		Name: Starport
	Buildable:
		Prerequisites: oheavy_factory, ooutpost, ~techlevel.high
		Queue: Building.od2k
		BuildPaletteOrder: 530
		BuildDuration: 810
		BuildDurationModifier: 40
		Description: Dropzone for quick reinforcements, at a price.
	Valued:
		Cost: 1500
	Building:
		Footprint: xxx x=x =x=
		Dimensions: 3,3
	Selectable:
		Bounds: 96,96
	Health:
		HP: 105000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 512
	HitShape@BOTTOM:
		Type: Rectangle
			TopLeft: -512, 512
			BottomRight: 512, 1536
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 3c768
	RallyPoint:
	Exit@1:
		SpawnOffset: 0,-480,0
		ExitCell: 2,2
	Exit@2:
		SpawnOffset: 0,-480,0
		ExitCell: 0,2
	ProductionAirdrop:
		Produces: Starport.od2k
		ActorType: frigate
	RenderSprites:
		Image: starport.ordos
		FactionImages:
			oatreides: starport.atreides
			oharkonnen: starport.harkonnen
	WithDeliveryOverlay:
		RequiresCondition: !build-incomplete
		Palette: starportlights
	ProductionBar:
		ProductionType: Starport.od2k
	PrimaryBuilding:
		PrimaryCondition: primary
		ProductionQueues: Starport.od2k
		SelectionNotification: PrimaryBuildingSelected
	ProvidesPrerequisite@atreides:
		Prerequisite: starport.atreides
		Factions: oatreides
	ProvidesPrerequisite@ordos:
		Prerequisite: starport.ordos
		Factions: oordos
	ProvidesPrerequisite@harkonnen:
		Prerequisite: starport.harkonnen
		Factions: oharkonnen
	ProvidesPrerequisite@atreides_combat:
		Prerequisite: starport.atreides_combat
		Factions: oatreides
	ProvidesPrerequisite@ordos_combat:
		Prerequisite: starport.ordos_combat
		Factions: oordos
	ProvidesPrerequisite@harkonnen_combat:
		Prerequisite: starport.harkonnen_combat
		Factions: oharkonnen
	Power:
		Amount: -150
	ProvidesPrerequisite@buildingname:
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary

owall:
	Inherits@1: ^SpriteActor
    Inherits@D2KSprite: ^D2KPaletteRender
	Interactable:
	CombatDebugOverlay:
	FrozenUnderFog:
	ScriptTriggers:
	OwnerLostAction:
		Action: ChangeOwner
	Buildable:
		Queue: Defence.od2k
		Prerequisites: obarracks
		BuildPaletteOrder: 410
		BuildDuration: 81
		BuildDurationModifier: 40
		Description: Stop units and blocks enemy fire.
        IconPalette: d2kunit
	Valued:
		Cost: 20
	CustomSellValue:
		Value: 0
	Tooltip:
		Name: Concrete Wall
		GenericName: Structure
	AppearsOnRadar:
	Building:
		BuildSounds: CHUNG.WAV
        TerrainTypes: Clear,ClearTemperat,ClearWinter,ClearJungle,ClearSnow,ClearDesert,Road,Concrete,ClearDune
	FootprintPlaceBuildingPreview:
		LineBuildSegmentPalette: placelinesegment
	RequiresBuildableArea:
		AreaTypes: building
		Adjacent: 7
	Health:
		HP: 60000
	Armor:
		Type: wall
	RevealsShroud:
		Range: 1c768
	Crushable:
		CrushClasses: wall
	BlocksProjectiles:
		Height: 512
	LineBuild:
		Range: 5
		NodeTypes: wall, turret
	LineBuildNode:
		Types: wall
	Targetable:
		TargetTypes: Ground, Wall
	WithWallSpriteBody:
	Sellable:
		SellSounds: CHUNG.WAV
	Guardable:
	Explodes:
		Weapon: oWallExplode
		EmptyWeapon: oWallExplode
	ThrowsShrapnel:
		Weapons: oDebris2, oDebris3
		Pieces: 1, 1
		Range: 1c512, 2c768
	HitShape:
		Type: Rectangle
			TopLeft: -512, -512
			BottomRight: 512, 512
	AppearsOnMapPreview:
	MapEditorData:
		Categories: Defense
	Replaceable:
		Types: Tower
    RenderSprites:
        Image: wall

omedium_gun_turret:
	Inherits: ^OD2kDefense
	Inherits@AUTOTARGET: ^AutoTargetGround
	Buildable:
		Queue: Defence.od2k
		Prerequisites: obarracks
		BuildPaletteOrder: 510
		BuildDuration: 346
		BuildDurationModifier: 40
		Description: Defensive structure.\n  Strong vs Tanks\n  Weak vs Infantry, Aircraft
	Valued:
		Cost: 550
	Tooltip:
		Name: Gun Turret
	Building:
		BuildSounds: CHUNG.WAV
	RequiresBuildableArea:
		Adjacent: 4
	Sellable:
		SellSounds: CHUNG.WAV
	Selectable:
		Bounds: 32,32
		DecorationBounds: 32,40,0,-8
	Health:
		HP: 81000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c768
	BodyOrientation:
		QuantizedFacings: 32
	WithMuzzleOverlay:
	Turreted:
		TurnSpeed: 6
		InitialFacing: 128
	Armament:
		Weapon: o110mm_Gun
		LocalOffset: 512,0,432
		MuzzleSequence: muzzle
	Power:
		Amount: -50
	Replacement:
		ReplaceableTypes: Tower
    RenderSprites:
        Image: medium_gun_turret
    -DamageMultiplier@D2K_Og_Buff
olarge_gun_turret:
	Inherits: ^OD2kDefense
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@AUTOTARGET: ^AutoTargetGround
	AttackTurreted:
		PauseOnCondition: disabled
	Buildable:
		Queue: Defence.od2k
		Prerequisites: ooutpost, upgrade.oconyard, ~techlevel.medium
		BuildPaletteOrder: 610
		BuildDuration: 405
		BuildDurationModifier: 40
		Description: Defensive structure.\n  Strong vs Infantry, Aircraft\n  Weak vs Tanks\n\n  Requires power to operate.
	Valued:
		Cost: 750
	Tooltip:
		Name: Rocket Turret
	Building:
		BuildSounds: CHUNG.WAV
	RequiresBuildableArea:
		Adjacent: 4
	Sellable:
		SellSounds: CHUNG.WAV
	Selectable:
		Bounds: 32,32
		DecorationBounds: 32,40,0,-8
	Health:
		HP: 90000
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 5c768
	BodyOrientation:
		QuantizedFacings: 32
	Armament:
		Weapon: oTowerMissile
		LocalOffset: 256,384,768, 256,-384,768
	Turreted:
		TurnSpeed: 8
		InitialFacing: 128
	Power:
		Amount: -60
	RevealOnDeath:
		Radius: 5c768
	Replacement:
		ReplaceableTypes: Tower
    RenderSprites:
        Image: large_gun_turret
    -DamageMultiplier@D2K_Og_Buff
orepair_pad:
	Inherits: ^OD2kBuilding
	Buildable:
		Queue: Building.od2k
		Prerequisites: oheavy_factory, upgrade.oheavy, ~techlevel.medium
		BuildPaletteOrder: 430
		BuildDuration: 486
		BuildDurationModifier: 40
		Description: Repairs vehicles.\n Allows construction of MCVs
	Valued:
		Cost: 800
	Tooltip:
		Name: Repair Pad
	Building:
		Footprint: +++ +++ +++
		Dimensions: 3,3
	Health:
		HP: 90000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	HitShape@TOPANDBOTTOM:
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, 1536
	Armor:
		Type: building
	RevealsShroud:
		Range: 3c768
	Selectable:
		Bounds: 96,96
	Reservable:
	RepairsUnits:
		Interval: 10
		HpPerStep: 800
		StartRepairingNotification: Repairing
		FinishRepairingNotification: Repaired
		PlayerExperience: 15
	RallyPoint:
	RenderSprites:
		Image: repair_pad.ordos
		FactionImages:
			oatreides: repair_pad.atreides
			oharkonnen: repair_pad.harkonnen
	WithRepairOverlay:
		RequiresCondition: !build-incomplete
		Palette: effect75alpha
	Power:
		Amount: -50
	ProvidesPrerequisite@buildingname:
        
ohigh_tech_factory:
	Inherits: ^OD2kBuilding
    Inherits@UCPQ: ^UnconditionalCPQ
	Buildable:
		Prerequisites: ooutpost, ~techlevel.medium
		Queue: Building.od2k
		BuildPaletteOrder: 420
		BuildDuration: 607
		BuildDurationModifier: 40
		Description: Unlocks advanced technology.
	Selectable:
		Bounds: 96,96
	Valued:
		Cost: 1150
	Tooltip:
		Name: High Tech Factory
	ProductionFromMapEdge:
		Produces: Aircraft.od2k
	ProductionBar:
		ProductionType: Aircraft.od2k
	PrimaryBuilding:
		PrimaryCondition: primary
		ProductionQueues: Aircraft.od2k
		SelectionNotification: PrimaryBuildingSelected
	Exit:
		SpawnOffset: 0,0,728
		ExitCell: 0,0
	Building:
		Footprint: _X_ xxx XXX ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 105000
	HitShape:
		TargetableOffsets: -1312,0,0, -1312,-1024,0, -1312,1024,0
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 1536
	HitShape@TOP:
		TargetableOffsets: 1280,0,0
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	Armor:
		Type: building
	RevealsShroud:
		Range: 4c768
	RenderSprites:
		Image: hightech.ordos
		FactionImages:
			oatreides: hightech.atreides
			oharkonnen: hightech.harkonnen
	WithProductionOverlay@WELDING:
		RequiresCondition: !build-incomplete
		Queues: Aircraft
		Sequence: production-welding
	ProvidesPrerequisite@upgrade:
		Prerequisite: hightech.atreides
		Factions: oatreides
	ProvidesPrerequisite@buildingname:
    ClassicAirstrikePower@orni:
		Squad:
			oornithopter:
				SpawnOffset: 0,0,0
				TargetOffset: 0,0,0
            oornithopter:
				SpawnOffset: -1024,1024,0
				TargetOffset: -1024,1024,0    
            oornithopter:
				SpawnOffset: 1024,1024,0
				TargetOffset: 1024,1024,0        
		Icon: ornistrike
        IconPalette: d2kunit         
		ChargeInterval: 7500
		Description: Ornithopters
		LongDesc: Ornithopters hit the target with bombs
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: EnemyPlanesApproaching
		QuantizedFacings: 8
		DisplayBeacon: True
        AllowMultiple: False
		BeaconPoster: airstrike
		BeaconPosterPalette: beaconposter
		DisplayRadarPing: True
		CameraActor: camera
		CameraRemoveDelay: 150
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		UseDirectionalTarget: True
		DirectionArrowAnimation: airstrikedirection
		Strikes: 3
		CircleDelay: 25
		OrderName: oornistrike
		SupportPowerPaletteOrder: 20
		Prerequisites: ~techlevel.superweapons, upgrade.ohightech
	Power:
		Amount: -75
	GrantConditionOnPrerequisite:
		Prerequisites: upgrade.ohightech
		Condition: stardecoration
	WithDecoration@upgraded:
		RequiresSelection: true
		Image: d2k_pips
		Sequence: tag-upgraded
		ReferencePoint: Top, Right
		ZOffset: 256
		RequiresCondition: stardecoration
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary
        
oresearch_centre:
	Inherits: ^OD2kBuilding
	Buildable:
		Queue: Building.od2k
		Prerequisites: ooutpost, oheavy_factory, upgrade.oheavy, ~techlevel.high
		BuildPaletteOrder: 520
		BuildDuration: 405
		BuildDurationModifier: 40
		Description: Unlocks advanced tanks, technologies and upgrades.
	Selectable:
		Bounds: 96,96
	Valued:
		Cost: 1000
	Tooltip:
		Name: Ix Research Center
	Building:
		Footprint: _X_ xxx XXX ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 75000
	HitShape:
		TargetableOffsets: -1574,-158,0, -1050,-1024,0, -1155,960,0
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 1536
	HitShape@TOP:
		TargetableOffsets: 1312,0,0
		Type: Rectangle
			TopLeft: -512, -1536
			BottomRight: 512, -512
	Armor:
		Type: building
	RevealsShroud:
		Range: 4c768
	RenderSprites:
		Image: research.ordos
		FactionImages:
			oatreides: research.atreides
			oharkonnen: research.harkonnen
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !build-incomplete
		Sequence: idle-lights
	Power:
		Amount: -175
	ProvidesPrerequisite@buildingname:
        
opalace:
	Inherits: ^OD2kBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Buildable:
		Prerequisites: oresearch_centre, ~techlevel.high
		Queue: Building.od2k
		BuildPaletteOrder: 620
		BuildDuration: 1215
		BuildDurationModifier: 40
		Description: Unlocks elite infantry and weapons.
	Selectable:
		Bounds: 96,96
	Valued:
		Cost: 1600
	Tooltip:
		Name: Palace
	Building:
		Footprint: xx= xxx =xx
		Dimensions: 3,3
	Health:
		HP: 120000
	HitShape:
		Type: Rectangle
			TopLeft: -1536, -512
			BottomRight: 1536, 512
	HitShape@TOP:
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 512, -512
	HitShape@BOTTOM:
		Type: Rectangle
			TopLeft: -512, 512
			BottomRight: 1536, 1536
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 4c768
	RenderSprites:
		Image: palace.ordos
		FactionImages:
			oatreides: palace.atreides
			oharkonnen: palace.harkonnen
	WithNukeLaunchOverlay:
		RequiresCondition: !build-incomplete && !launchpad-damaged && harkonnen
	GrantConditionOnDamageState@LAUNCHPADDAMAGED:
		Condition: launchpad-damaged
	Power:
		Amount: -200
	ProvidesPrerequisite@nuke:
		Prerequisite: palace.nuke
		Factions: oharkonnen
	ProvidesPrerequisite@fremen:
		Prerequisite: palace.fremen
		Factions: oatreides
	ProvidesPrerequisite@saboteur:
		Prerequisite: palace.saboteur
		Factions: oordos
	PrimaryBuilding:
		PrimaryCondition: primary
		RequiresCondition: atreides || ordos
		SelectionNotification: PrimaryBuildingSelected
	WithTextDecoration@primary:
		RequiresSelection: true
		Text: PRIMARY
		ReferencePoint: Top
		ZOffset: 256
		RequiresCondition: primary && (atreides || ordos)
	NukePower:
		Cursor: nuke
		Icon: deathhand
        IconPalette: d2kunit
		PauseOnCondition: disabled
        OrderName: odeathhand
		RequiresCondition: harkonnen
		Prerequisites: ~techlevel.superweapons, ~palace.nuke
		ChargeInterval: 7500
		Description: Death Hand
		LongDesc: Launches an atomic missile at a target location
		BeginChargeSpeechNotification: DeathHandCharging
        InsufficientPowerSpeechNotification: InsufficientPower
        EndChargeSpeechNotification: DeathHandAvailable
		LaunchSpeechNotification: NuclearWeaponLaunched
        IncomingSpeechNotification: NuclearWarheadApproaching
        MissilePalette: d2kunit          
        TrailPalette: d2kunit
		MissileWeapon: oDeathHand
		MissileDelay: 18
		SpawnOffset: 32,816,0
		DetonationAltitude: 3c0
		RemoveMissileOnDetonation: False
		DisplayBeacon: True
		DisplayRadarPing: True
		CameraRange: 10c0
		ArrowSequence: arrow
		CircleSequence: circles
		FlightVelocity: 384
		TrailInterval: 0
		TrailImage: large_trail
		TrailSequences: idle
		SupportPowerPaletteOrder: 40
	ProduceActorPowerCA@fremen:
		Description: Recruit Fremen
		LongDesc: Elite infantry unit armed with assault rifles and rockets\n  Strong vs Infantry, Vehicles\n  Weak vs Artillery\n  Special Ability: Invisibility
		Icon: fremeng
		PauseOnCondition: disabled
		RequiresCondition: atreides
		Prerequisites: ~techlevel.superweapons, ~palace.fremen
		Actors: ofremen, ofremen
        IconPalette: d2kunit
		Type: Fremen
		ChargeInterval: 2250
		ReadyAudio: Reinforce
		BlockedAudio: NoBuild
		OrderName: ProduceActorPower.Fremen
		SupportPowerPaletteOrder: 20
        AutoFire: true
		LaunchSound: A_FSEL1.AUD
	ProduceActorPowerCA@saboteur:
		Description: Recruit Saboteur
		LongDesc: Sneaky infantry, armed with explosives\n  Strong vs Buildings\n  Weak vs Everything\n  Special Ability: destroy buildings
		Icon: saboteur
		PauseOnCondition: disabled
		RequiresCondition: ordos
		Prerequisites: ~techlevel.superweapons, ~palace.saboteur
		Actors: osaboteur
		Type: Saboteur
        IconPalette: d2kunit
		ChargeInterval: 2250
		ReadyAudio: Reinforce
		BlockedAudio: NoBuild
		OrderName: ProduceActorPower.Saboteur
        AutoFire: true
		SupportPowerPaletteOrder: 30
		LaunchSound: O_SCONF1.AUD
	Exit@1:
		SpawnOffset: -704,768,0
		ExitCell: -1,2
	Exit@2:
		SpawnOffset: -704,768,0
		ExitCell: -1,3
	Exit@3:
		SpawnOffset: -704,768,0
		ExitCell: 0,3
	Production@Atreides:
		Produces: Fremen.od2k
		RequiresCondition: atreides
	Production@Ordos:
		Produces: Saboteur.od2k
		RequiresCondition: ordos
	GrantConditionOnFaction@Atreides:
		Condition: atreides
		Factions: oatreides
	GrantConditionOnFaction@Harkonnen:
		Condition: harkonnen
		Factions: oharkonnen
	GrantConditionOnFaction@Ordos:
		Condition: ordos
		Factions: oordos
	SupportPowerChargeBar:
		RequiresCondition: atreides || harkonnen || ordos
	ProvidesPrerequisite@buildingname:

oconyard.atreides:
	Inherits: oconstruction_yard
	Buildable:
		Queue: Building.od2k
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		ForceFaction: atreides
	RenderSprites:
		Image: conyard.atreides
		-FactionImages:

oconyard.harkonnen:
	Inherits: oconstruction_yard
	Buildable:
		Queue: Building.od2k
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		ForceFaction: harkonnen
	RenderSprites:
		Image: conyard.harkonnen
		-FactionImages:

oconyard.ordos:
	Inherits: oconstruction_yard
	Buildable:
		Queue: Building.od2k
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		ForceFaction: ordos
	RenderSprites:
		Image: conyard.ordos
		-FactionImages:

^oD2KVehicle:
    Inherits: ^D2KVehicle
    Inherits@D2KSprite: ^D2KPaletteRender
    Inherits@D2K_Og_Buff: ^D2K_Og_Buff
    Buildable:
        IconPalette: d2kunit
    SpeedMultiplier@DAMAGED:
        Modifier: 70
    -GrantConditionOnPrerequisite@FREMENFACTION:
    -GrantConditionOnPrerequisite@HARKONNENFACTION:
    -ProductionCostMultiplier@IXIANVEHICLES:
    -AttractsWorms@fremen:
    -SpeedMultiplier@ordos-stealth-bonus:
    -GrantConditionOnPrerequisite@ordos:
    Voiced:
        VoiceSet: oVehicleVoice
    Cloak@TDcloak:
        Palette: d2kcloak
        IsPlayerPalette: true
^oD2KTank:
    Inherits: ^oD2KVehicle
	Mobile:
		Locomotor: tracked
        
omcv:
	Inherits: ^oD2KTank
	Inherits@selection: ^SelectableSupportUnit
    Inherits@conyard: ^Conyard
	Buildable:
		Prerequisites: orepair_pad, upgrade.oheavy, ~techlevel.medium
		Queue: Armor.od2k
		BuildPaletteOrder: 110
		BuildDuration: 972
		BuildDurationModifier: 40
		Description: Deploys into another Construction Yard\n  Unarmed
	Valued:
		Cost: 2000
	Tooltip:
		Name: Mobile Construction Vehicle
	Selectable:
		Class: mcv
		DecorationBounds: 42,42
	Health:
		HP: 45000
	Armor:
		Type: Light
	Mobile:
		Speed: 31
	RevealsShroud:
		Range: 2c768
	MustBeDestroyed:
		RequiredForShortGame: true
	BaseBuilding:
	Explodes:
		Weapon: oUnitExplodeLarge
		EmptyWeapon: oUnitExplodeLarge
	Transforms:
		Facing: 16
		IntoActor: oconstruction_yard
		Offset: -1,-1
		TransformSounds: BUILD1.WAV
		NoTransformNotification: BuildingCannotPlaceAudio
	AttractsWorms:
		Intensity: 700
	SelectionDecorations:
	SelfHealing:
		Step: 50
		Delay: 3
		HealIfBelow: 50
    RenderSprites:
        Image: d2k_mcv
	-RevealOnFire:

oharvester:
	Inherits: ^oD2KTank
    Inherits@harv: ^Harvester
	Inherits@selection: ^SelectableEconomicUnit
	Buildable:
		Queue: Armor.od2k
		Prerequisites: orefinery
		BuildPaletteOrder: 10
		BuildDuration: 810
		BuildDurationModifier: 40
		Description: Collects Spice for processing\n  Unarmed
	Valued:
		Cost: 1200
	Tooltip:
		Name: Harvester
	Selectable:
		Class: harvester
		DecorationBounds: 42,42
	Harvester:
		PipCount: 7
		Capacity: 28
		HarvestFacings: 8
		BaleUnloadDelay: 5
		SearchFromProcRadius: 30
		SearchFromHarvesterRadius: 15
	CarryableHarvester:
	Health:
		HP: 45000
	Armor:
		Type: harvester
	Mobile:
		Speed: 43
	RevealsShroud:
		Range: 3c768
	Explodes:
		Weapon: oUnitExplodeLarge
		EmptyWeapon: oUnitExplodeLarge
	WithHarvestOverlay:
		Palette: effect50alpha
	WithDockingAnimation:
	AttractsWorms:
		Intensity: 700
	SelectionDecorations:
    RenderSprites:
        Image: harvester
	SelfHealing:
		Step: 50
		Delay: 3
		HealIfBelow: 50
	-RevealOnFire:

otrike:
	Inherits: ^oD2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Vehicle.od2k
		BuildPaletteOrder: 10
		Prerequisites: ~light.trike
		BuildDuration: 291
		BuildDurationModifier: 40
		Description: Fast scout\n  Strong vs Infantry\n  Weak vs Tanks
	Valued:
		Cost: 300
	Tooltip:
		Name: Trike
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Selectable:
		Class: trike
	Health:
		HP: 9000
	Armor:
		Type: Wood
	Mobile:
		TurnSpeed: 10
		Speed: 128
	RevealsShroud:
		Range: 4c768
	WithMuzzleOverlay:
	Armament@damage:
		Weapon: oHMG
		LocalOffset: 180,0,110
	Armament@muzzle:
		Weapon: oHMG_muzzle
		LocalOffset: -544,0,0
		MuzzleSequence: muzzle
	AttackFrontal:
	Explodes:
		Weapon: oUnitExplodeSmall
		EmptyWeapon: oUnitExplodeSmall
	AttractsWorms:
		Intensity: 420
    RenderSprites:
        Image: trike
oquad:
	Inherits: ^oD2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Vehicle.od2k
		Prerequisites: upgrade.olight, ~techlevel.medium
		BuildPaletteOrder: 20
		BuildDuration: 415
		BuildDurationModifier: 40
		Description: Missile Scout\n  Strong vs Vehicles\n  Weak vs Infantry
	Valued:
		Cost: 400
	Tooltip:
		Name: Quad
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 11000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 8
		Speed: 96
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: oRocket
		LocalOffset: 128,64,64, 128,-64,64
	AttackFrontal:
	Explodes:
		Weapon: oUnitExplodeSmall
		EmptyWeapon: oUnitExplodeSmall
	Selectable:
		Class: quad
	AttractsWorms:
		Intensity: 470
    RenderSprites:
        Image: quad

osiege_tank:
	Inherits: ^oD2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Armor.od2k
		Prerequisites: upgrade.oheavy, ~techlevel.medium
		BuildPaletteOrder: 50
		BuildDuration: 486
		BuildDurationModifier: 40
		Description: Siege Artillery\n  Strong vs Infantry, Buildings\n  Weak vs Tanks
	Valued:
		Cost: 700
	Tooltip:
		Name: Siege Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 12000
	Armor:
		Type: Light
	Mobile:
		Speed: 43
		TurnSpeed: 3
	RevealsShroud:
		Range: 6c768
	Turreted:
		TurnSpeed: 3
		Offset: 0,0,-32
	Armament:
		Weapon: o155mm
		Recoil: 150
		RecoilRecovery: 19
		LocalOffset: 512,0,320
		MuzzleSequence: muzzle
	AttackFrontal:
	WithMuzzleOverlay:
	WithSpriteTurret:
	Explodes:
		Weapon: oUnitExplodeMed
		EmptyWeapon: oUnitExplodeMed
	AutoTarget:
		InitialStanceAI: Defend
	Selectable:
		Class: siegetank
	AttractsWorms:
		Intensity: 600
    RenderSprites:
        Image: siege_tank 
omissile_tank:
	Inherits: ^oD2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Tooltip:
		Name: Missile Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Armor.od2k
		Prerequisites: ~heavy.missile_tank, upgrade.oheavy, oresearch_centre, ~techlevel.high
		BuildPaletteOrder: 60
		BuildDuration: 661
		BuildDurationModifier: 40
		Description: Rocket Artillery\n  Strong vs Vehicles, Buildings, Aircraft\n  Weak vs Infantry
	Valued:
		Cost: 900
	Mobile:
		Speed: 64
		TurnSpeed: 5
	Health:
		HP: 13000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c768
	Armament:
		Weapon: omtank_pri
		LocalOffset: -128,128,171, -128,-128,171
	AttackFrontal:
	AutoTarget:
		InitialStanceAI: Defend
	Explodes:
		Weapon: oUnitExplodeMed
		EmptyWeapon: oUnitExplodeMed
	Selectable:
		Class: missiletank
	AttractsWorms:
		Intensity: 600
    RenderSprites:
        Image: missile_tank
        
osonic_tank:
	Inherits: ^oD2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Armor.od2k
		BuildPaletteOrder: 100
		Prerequisites: ~heavy.atreides, oresearch_centre, ~techlevel.high
		BuildDuration: 729
		BuildDurationModifier: 40
		Description: Fires sonic shocks\n  Strong vs Infantry, Vehicles\n  Weak vs Artillery
	Valued:
		Cost: 1000
	Tooltip:
		Name: Sonic Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 30000
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 3
		Speed: 31
	RevealsShroud:
		Range: 5c768
	Armament:
		Weapon: oSound
		LocalOffset: 600,0,427
	AttackFrontal:
	Explodes:
		Weapon: oUnitExplodeLarge
		EmptyWeapon: oUnitExplodeLarge
	AttractsWorms:
		Intensity: 600
    RenderSprites:
        Image: sonic_tank
        
odevastator:
	Inherits: ^oD2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Armor.od2k
		BuildPaletteOrder: 100
		Prerequisites: ~heavy.harkonnen, oresearch_centre, ~techlevel.high
		BuildDuration: 810
		BuildDurationModifier: 40
		Description: Super Heavy Tank\n  Strong vs Tanks\n  Weak vs Artillery
	Valued:
		Cost: 1050
	Tooltip:
		Name: Devastator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 50000
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 3
		Speed: 31
		Locomotor: heavytracked
		RequiresCondition: !overload
		PauseOnCondition: notmobile
	AutoCarryable:
		RequiresCondition: !overload
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: oDevBullet
		LocalOffset: 640,0,32
		MuzzleSequence: muzzle
	AttackFrontal:
	WithMuzzleOverlay:
		IgnoreOffset: true
	Explodes:
		Weapon: oUnitExplodeLarge
		EmptyWeapon: oUnitExplodeLarge
		RequiresCondition: !overload
	Explodes@OVERLOAD:
		Weapon: oPlasmaExplosion
		EmptyWeapon: oPlasmaExplosion
		RequiresCondition: meltdown
	GrantConditionOnDeploy@REACTOR:
		DeployedCondition: overload
		PauseOnCondition: overload
	WithIdleOverlay@OVERLOAD:
		Sequence: active
		RequiresCondition: overload
	WithIdleOverlay@OVERLOAD2:
		Sequence: active-2
		RequiresCondition: overload
	KillsSelf@MELTDOWN:
		Delay: 240
		RequiresCondition: overload
		GrantsCondition: meltdown
	AttractsWorms:
		Intensity: 700
	SelectionDecorations:
	SelfHealing:
		Step: 50
		Delay: 3
		HealIfBelow: 50
	Selectable:
		DecorationBounds: 44,38,0,0
    RenderSprites:
        Image: devastator
        
oraider:
	Inherits: ^oD2KVehicle
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Vehicle.od2k
		BuildPaletteOrder: 10
		Prerequisites: ~light.raider
		BuildDuration: 291
		BuildDurationModifier: 40
		Description: Improved Scout\n  Strong vs Infantry, Light Vehicles\n  Weak vs Tanks
	Valued:
		Cost: 350
	Tooltip:
		Name: Raider
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 10000
	Armor:
		Type: Wood
	Mobile:
		TurnSpeed: 10
		Speed: 149
	RevealsShroud:
		Range: 4c768
	WithMuzzleOverlay:
	Armament@damage:
		Weapon: oHMGo
		LocalOffset: 170,0,0
	Armament@muzzle:
		Weapon: oHMGo_muzzle
		LocalOffset: 170,0,0
		MuzzleSequence: muzzle
	AttackFrontal:
	Explodes:
		Weapon: oUnitExplodeSmall
		EmptyWeapon: oUnitExplodeSmall
	AttractsWorms:
		Intensity: 420
    RenderSprites:
        Image: raider
        
ostealth_raider:
	Inherits: oraider
	Buildable:
		Prerequisites: ~light.ordos, upgrade.olight, ohigh_tech_factory, ~techlevel.medium
		BuildPaletteOrder: 30
		BuildDuration: 291 ## Copied from Raider, not included in conversion. Both have same "BuildSpeed" in TibEd
		BuildDurationModifier: 40
		Description: Invisible Raider Trike\n  Strong vs Infantry, Light Vehicles\n  Weak vs Tanks
	Valued:
		Cost: 400
	Tooltip:
		Name: Stealth Raider
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Cloak:
		InitialDelay: 45
		CloakDelay: 90
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled
        Palette: d2kcloak
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	AutoTarget:
		InitialStance: HoldFire
		InitialStanceAI: ReturnFire
	-MustBeDestroyed:
    RenderSprites:
        Image: stealth_raider
        
odeviator:
	Inherits: ^oD2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Valued:
		Cost: 1000
	Tooltip:
		Name: Deviator
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Armor.od2k
		BuildPaletteOrder: 50
		Prerequisites: ~heavy.ordos, oresearch_centre, ~techlevel.high
		BuildDuration: 729
		BuildDurationModifier: 40
		Description: Fires a warhead which changes\nthe allegiance of enemy vehicles
	Mobile:
		TurnSpeed: 3
		Speed: 53
	Health:
		HP: 11000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c768
	Armament:
		Weapon: oDeviatorMissile
		LocalOffset: -299,0,85
	AttackFrontal:
	AutoTarget:
		InitialStanceAI: Defend
	Explodes:
		Weapon: oUnitExplodeLarge
		EmptyWeapon: oUnitExplodeLarge
	AttractsWorms:
		Intensity: 600
    RenderSprites:
        Image: deviator
        
^ocombat_tank:
	Inherits: ^oD2KTank
	Inherits@GAINSEXPERIENCE: ^GainsExperience
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Armor.od2k
		BuildPaletteOrder: 40
		BuildDuration: 559
		BuildDurationModifier: 40
		Description: Main Battle Tank\n  Strong vs Tanks\n  Weak vs Infantry
	Valued:
		Cost: 700
	Tooltip:
		Name: Combat Tank
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 21000
	Armor:
		Type: Heavy
	Mobile:
		Speed: 75
		TurnSpeed: 5
	RevealsShroud:
		Range: 5c768
	Turreted:
		TurnSpeed: 5
		RealignDelay: 0
	Armament:
		Weapon: o80mm_A
		Recoil: 128
		RecoilRecovery: 32
		LocalOffset: 256,0,0
		MuzzleSequence: muzzle
	AttackTurreted:
	WithMuzzleOverlay:
	WithSpriteTurret:
	Explodes:
		Weapon: oUnitExplodeMed
		EmptyWeapon: oUnitExplodeMed
	Selectable:
		Class: combat
	AttractsWorms:
		Intensity: 520
        
ocombat_tank_a:
	Inherits: ^ocombat_tank
	Buildable:
		Prerequisites: ~heavy.atreides_combat
	Armament:
		Weapon: o80mm_A
    RenderSprites:
        Image: combat_tank_a
        
ocombat_tank_h:
	Inherits: ^ocombat_tank
	Buildable:
		Prerequisites: ~heavy.harkonnen_combat
	Armament:
		Weapon: o80mm_H
	Mobile:
		Speed: 64
	Health:
		HP: 27000
    RenderSprites:
        Image: combat_tank_h
        
ocombat_tank_o:
	Inherits: ^ocombat_tank
	Buildable:
		Prerequisites: ~heavy.ordos_combat
	Turreted:
		TurnSpeed: 5
	Armament:
		Weapon: o80mm_O
	Mobile:
		Speed: 85
	Health:
		HP: 18000
    RenderSprites:
        Image: combat_tank_o
        
omcv.starport:
	Inherits: omcv
	Buildable:
		Prerequisites: ostarport
		Queue: Starport.od2k
	Valued:
		Cost: 2500
	-MapEditorData:
	RenderSprites:
		Image: d2k_mcv
	UpdatesPlayerStatistics:
		OverrideActor: omcv

oharvester.starport:
	Inherits: oharvester
	Buildable:
		Prerequisites: ostarport
		Queue: Starport.od2k
	Valued:
		Cost: 1500
	-MapEditorData:
	RenderSprites:
		Image: harvester
	UpdatesPlayerStatistics:
		OverrideActor: oharvester

otrike.starport:
	Inherits: otrike
	Buildable:
		Prerequisites: ostarport
		Queue: Starport.od2k
	Valued:
		Cost: 315
	-MapEditorData:
	RenderSprites:
		Image: trike
	UpdatesPlayerStatistics:
		OverrideActor: otrike

oquad.starport:
	Inherits: oquad
	Buildable:
		Prerequisites: ostarport
		Queue: Starport.od2k
	Valued:
		Cost: 500
	-MapEditorData:
	RenderSprites:
		Image: quad
	UpdatesPlayerStatistics:
		OverrideActor: oquad

osiege_tank.starport:
	Inherits: osiege_tank
	Buildable:
		Prerequisites: ostarport
		Queue: Starport.od2k
	Valued:
		Cost: 1075
	-MapEditorData:
	RenderSprites:
		Image: siege_tank
	UpdatesPlayerStatistics:
		OverrideActor: osiege_tank

omissile_tank.starport:
	Inherits: omissile_tank
	Buildable:
		Prerequisites: ostarport
		Queue: Starport.od2k
	Valued:
		Cost: 1250
	-MapEditorData:
	RenderSprites:
		Image: missile_tank
	UpdatesPlayerStatistics:
		OverrideActor: omissile_tank

ocombat_tank_a.starport:
	Inherits: ocombat_tank_a
	Buildable:
		Prerequisites: ~starport.atreides_combat
		Queue: Starport.od2k
	Valued:
		Cost: 875
	-MapEditorData:
	RenderSprites:
		Image: combat_tank_a
	UpdatesPlayerStatistics:
		OverrideActor: ocombat_tank_a

ocombat_tank_h.starport:
	Inherits: ocombat_tank_h
	Buildable:
		Prerequisites: ~starport.harkonnen_combat
		Queue: Starport.od2k
	Valued:
		Cost: 875
	-MapEditorData:
	RenderSprites:
		Image: combat_tank_h
	UpdatesPlayerStatistics:
		OverrideActor: ocombat_tank_h

ocombat_tank_o.starport:
	Inherits: ocombat_tank_o
	Buildable:
		Prerequisites: ~starport.ordos_combat
		Queue: Starport.od2k
	Valued:
		Cost: 875
	-MapEditorData:
	RenderSprites:
		Image: combat_tank_o
	UpdatesPlayerStatistics:
		OverrideActor: ocombat_tank_o

ocarryall.starport:
	Inherits: ocarryall
	Buildable:
		Prerequisites: ostarport
		Queue: Starport.od2k
	Valued:
		Cost: 1500
	-MapEditorData:
	UpdatesPlayerStatistics:
		OverrideActor: ocarryall

ocarryall.reinforce:
	Inherits: ^D2KPlane
    Inherits@D2KSprite: ^D2KPaletteRender
    Inherits@D2K_Og_Buff: ^D2K_Og_Buff
	Valued:
		Cost: 1100
	Tooltip:
		Name: Carryall
	Health:
		HP: 48000
	Armor:
		Type: Light
    Interactable:
    HitShape:
		Type: Circle
			Radius: 256
	Aircraft:
		CruiseAltitude: 2160
		CruisingCondition: cruising
		InitialFacing: 0
		Speed: 144
		TurnSpeed: 4
		LandableTerrainTypes: Sand, Rock, Transition, Spice, SpiceSand, Dune, Concrete
		Repulsable: False
		AirborneCondition: airborne
		CanSlide: True
		VTOL: true
		IdleTurnSpeed: 1
	Targetable@GROUND:
		TargetTypes: Ground, Vehicle
		RequiresCondition: !airborne
	Targetable@AIRBORNE:
		TargetTypes: Air
		RequiresCondition: airborne
	Carryall:
		BeforeLoadDelay: 10
		BeforeUnloadDelay: 15
		LocalOffset: 0, 0, -128
	RenderSprites:
		Image: carryall
	SelfHealing:
		Step: 50
		Delay: 3
		HealIfBelow: 50
	Buildable:
		BuildDuration: 972
		BuildDurationModifier: 40
		Description: Large winged, planet-bound ship\n  Automatically lifts harvesters from and to Spice.\n  Lifts vehicles to Repair Pads when ordered.
        IconPalette: d2kunit
ocarryall:
	Inherits: ocarryall.reinforce
	-Carryall:
	AutoCarryall:
		BeforeLoadDelay: 10
		BeforeUnloadDelay: 15
		LocalOffset: 0, 0, -128
	Aircraft:
		MinAirborneAltitude: 400
	RevealsShroud@lifting_low:
		Range: 2c512
		Type: GroundPosition
		RequiresCondition: !airborne
	RevealsShroud@lifting_high:
		Range: 1c256
		Type: GroundPosition
		RequiresCondition: !cruising
	Buildable:
		Queue: Aircraft.od2k
		BuildPaletteOrder: 120

ofrigate:
	Inherits: frigate
    -SpeedMultiplier@ordos-stealth-bonus:
    -GrantConditionOnPrerequisite@ordos:

oornithopter:
    Inherits@D2KSprite: ^D2KPaletteRender  
	Inherits: ^Plane
    Inherits@D2K_Og_Buff: ^D2K_Og_Buff
	AttackBomber:
    Interactable:
	Armament:
		Weapon: oOrniBomb
	Health:
		HP: 9000
	Armor:
		Type: Light
	Aircraft:
		Speed: 224
		TurnSpeed: 2
		Repulsable: False
		CruiseAltitude: 1920
    HitShape:
		Type: Circle
			Radius: 256
	AmmoPool:
		Ammo: 5
	Tooltip:
		Name: Ornithopter
	RejectsOrders:
	RevealOnFire:
	-MapEditorData:

^oD2KInfantry:
    Inherits: ^D2KInfantry
    Inherits@D2K_Og_Buff: ^D2K_Og_Buff
    Buildable:
        IconPalette: d2kunit
    -ExternalCondition@d2krearm:
    -ReloadDelayMultiplier@d2krearm:
    -ReloadDelayMultiplier@d2krearm2:
    -ReloadDelayMultiplier@d2krearm3:
    -ReloadDelayMultiplier@d2krearm4:
    -ReloadDelayMultiplier@d2krearm5:
    -SpeedMultiplier@ordos-stealth-bonus:
    -GrantConditionOnPrerequisite@ordos:
    -ProductionCostMultiplier@corrino:     
    Voiced:
		VoiceSet: oInfantryVoice
olight_inf:
	Inherits: ^oD2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@anim: ^D2KPaletteRenderInfantry   
	Buildable:
		Queue: Infantry.od2k
		BuildPaletteOrder: 10
		BuildDuration: 81
		BuildDurationModifier: 40
		Description: General-purpose infantry\n  Strong vs Infantry\n  Weak vs Vehicles, Artillery
	Valued:
		Cost: 50
	Tooltip:
		Name: Light Infantry
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 6000
	Mobile:
		Speed: 43
	Armament:
		Weapon: oLMG
	WithInfantryBody:
		DefaultAttackSequence: shoot
    RenderSprites:
        Image: light_inf

oengineer:
	Inherits: ^oD2KInfantry
	Inherits@selection: ^SelectableSupportUnit
    Inherits@anim: ^D2KPaletteRenderInfantry   
	Buildable:
		Queue: Infantry.od2k
		BuildPaletteOrder: 30
		Prerequisites: upgrade.obarracks, ~techlevel.medium
		BuildDuration: 162
		BuildDurationModifier: 40
		Description: Infiltrates and captures enemy structures\n  Strong vs Buildings\n  Weak vs Everything
	Valued:
		Cost: 400
	Tooltip:
		Name: Engineer
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 5000
	RevealsShroud:
		Range: 2c768
	Mobile:
		Speed: 31
	EngineerRepair:
	CaptureManager:
	Captures:
		CaptureTypes: building
		PlayerExperience: 50
	-RevealOnFire:
	Voiced:
		VoiceSet: oEngineerVoice
	-AttackFrontal:
    RenderSprites:
        Image: engineer
        
otrooper:
	Inherits: ^oD2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@anim: ^D2KPaletteRenderInfantry   
	Buildable:
		Queue: Infantry.od2k
		BuildPaletteOrder: 20
		Prerequisites: upgrade.obarracks, ~techlevel.medium
		BuildDuration: 109
		BuildDurationModifier: 40
		Description: Anti-tank infantry\n  Strong vs Tanks\n  Weak vs Infantry, Artillery
	Valued:
		Cost: 90
	Tooltip:
		Name: Trooper
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 7000
	RevealsShroud:
		Range: 4c768
	Mobile:
		Speed: 31
	Armament:
		Weapon: oBazooka
		LocalOffset: 128,0,256
	TakeCover:
		ProneOffset: 324,0,-204
	WithInfantryBody:
		DefaultAttackSequence: shoot
    RenderSprites:
        Image: trooper
        
othumper:
	Inherits: thumper
	Buildable:
		Queue: Infantry.od2k
		BuildPaletteOrder: 40
		Prerequisites: upgrade.obarracks, ~techlevel.high
		BuildDuration: 162
		BuildDurationModifier: 40
	Valued:
		Cost: 200
    Voiced:
        VoiceSet: oD2KThumper
    RenderSprites:
        Image: thumper
ofremen:
	Inherits: ^oD2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@anim: ^D2KPaletteRenderInfantry   
	Tooltip:
		Name: Fremen
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Buildable:
		Queue: Infantry.od2k
		BuildPaletteOrder: 80
		Prerequisites: ~disabled
		Description: Elite infantry unit armed with assault rifles and rockets\n  Strong vs Infantry, Vehicles\n  Weak vs Artillery\n  Special Ability: Invisibility
	Mobile:
		Speed: 43
	Valued:
		Cost: 200 ## actually 0, but spawns from support power at Palace
	Health:
		HP: 7000
	RevealsShroud:
		Range: 4c768
	AutoTarget:
		ScanRadius: 7
		InitialStance: HoldFire
		InitialStanceAI: ReturnFire
	Armament@PRIMARY:
		Weapon: oFremen_S
	Armament@SECONDARY:
		Weapon: oFremen_L
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Cloak:
		InitialDelay: 85
		CloakDelay: 85
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Dock, Damage, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled
        Palette: d2kcloak
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	-MustBeDestroyed:
	Voiced:
		VoiceSet: oFremenVoice
    RenderSprites:
        Image: fremen
        
ogrenadier:
	Inherits: ^oD2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@anim: ^D2KPaletteRenderInfantry   
	Buildable:
		Queue: Infantry.od2k
		BuildPaletteOrder: 60
		Prerequisites: ~barracks.atreides, upgrade.obarracks, ohigh_tech_factory, ~techlevel.medium
		BuildDuration: 121 ## Wasn't converted, copied from Sardauker who has same value in TibEd.
		BuildDurationModifier: 40
		Description: Infantry armed with grenades. \n  Strong vs Buildings, Infantry\n  Weak vs Vehicles
	Valued:
		Cost: 80
	Tooltip:
		Name: Grenadier
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 6000
	Mobile:
		Speed: 43
	Armament:
		Weapon: ogrenade
		LocalOffset: 192,0,224
		FireDelay: 3
	TakeCover:
		ProneOffset: 96,100,-64
	WithInfantryBody:
		DefaultAttackSequence: throw
	Explodes:
		Weapon: oGrenDeath
		EmptyWeapon: oGrenDeath
    RenderSprites:
        Image: grenadier
        
osardaukar:
	Inherits: ^oD2KInfantry
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
    Inherits@anim: ^D2KPaletteRenderInfantry   
	Buildable:
		Queue: Infantry.od2k
		BuildPaletteOrder: 50
		Prerequisites: ~palace.sardaukar, ~techlevel.high
		BuildDuration: 121
		BuildDurationModifier: 40
		Description: Elite assault infantry of Corrino\n  Strong vs Infantry, Vehicles\n  Weak vs Artillery
	Valued:
		Cost: 120
	Tooltip:
		Name: Sardaukar
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 10000
	Mobile:
		Speed: 31
	RevealsShroud:
		Range: 4c768
	WithInfantryBody:
		DefaultAttackSequence: shoot
	Armament@PRIMARY:
		Weapon: oM_LMG
	Armament@SECONDARY:
		Weapon: oM_HMG
	Voiced:
		VoiceSet: oGenericVoice
	Explodes:
		Weapon: oSardDeath
		EmptyWeapon: oSardDeath
		Chance: 100
    RenderSprites:
        Image: sardaukar
        
osaboteur:
	Inherits: ^oD2KInfantry
    Inherits@anim: ^D2KPaletteRenderInfantry   
	Buildable:
		Queue: Infantry.od2k
		BuildPaletteOrder: 100
		Prerequisites: ~disabled
		Description: Sneaky infantry, armed with explosives\n  Strong vs Buildings\n  Weak vs Everything\n  Special Ability: destroy buildings
	Valued:
		Cost: 300 ## actually 0, but spawns from support power at Palace
	Tooltip:
		Name: Saboteur
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 4000
	Mobile:
		Speed: 43
	Demolition:
		DetonationDelay: 0
		Flashes: 0
		EnterBehaviour: Suicide
	-RevealOnFire:
	Cloak:
		InitialDelay: 85
		CloakDelay: 85
		CloakSound: STEALTH1.WAV
		UncloakOn: Attack, Unload, Infiltrate, Demolish, Move, Damage, Heal
		IsPlayerPalette: true
		PauseOnCondition: cloak-force-disabled
        Palette: d2kcloak
	GrantConditionOnDamageState@UNCLOAK:
		Condition: cloak-force-disabled
		ValidDamageStates: Critical
	Voiced:
		VoiceSet: oSaboteurVoice
	-AttackFrontal:
    RenderSprites:
        Image: saboteur
        
upgrade.oconyard:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Construction Yard Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: oconstruction_yard
		Queue: Upgrade.od2k
		BuildLimit: 1
		BuildDuration: 937
		BuildDurationModifier: 100
		Description: Unlocks additional construction options \n(Large Concrete Slab, Rocket Turret)
        IconPalette: d2kunit
	Valued:
		Cost: 1000
	RenderSprites:
		Image: conyard.ordos
		FactionImages:
			atreides: conyard.atreides
			fremen: conyard.atreides
			harkonnen: conyard.harkonnen
			corrino: conyard.harkonnen
	ProvidesPrerequisite@upgradename:

upgrade.obarracks:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Barracks Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: obarracks
		Queue: Upgrade.od2k
		BuildLimit: 1
		BuildDuration: 312
		BuildDurationModifier: 100
		Description: Unlocks additional infantry \n(Trooper, Engineer, Thumper Infantry)    \n\nRequired to unlock faction specific infantry \n(Atreides: Grenadier, Harkonnen: Sardaukar)
        IconPalette: d2kunit
    Valued:
		Cost: 500
	RenderSprites:
		Image: barracks.ordos
		FactionImages:
			atreides: barracks.atreides
			fremen: barracks.atreides
			harkonnen: barracks.harkonnen
			corrino: barracks.harkonnen
	ProvidesPrerequisite@upgradename:

upgrade.olight:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Light Factory Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: olight_factory
		Queue: Upgrade.od2k
		BuildLimit: 1
		BuildDuration: 402
		BuildDurationModifier: 100
		Description: Unlocks additional light unit \n(Missile Quad) \n\nRequired to unlock faction specific light unit \n(Ordos: Stealth Raider Trike)
        IconPalette: d2kunit

    Valued:
		Cost: 400
	RenderSprites:
		Image: light.ordos
		FactionImages:
			atreides: light.atreides
			fremen: light.atreides
			harkonnen: light.harkonnen
			corrino: light.harkonnen
	ProvidesPrerequisite@upgradename:

upgrade.oheavy:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: Heavy Factory Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: oheavy_factory
		Queue: Upgrade.od2k
		BuildLimit: 1
		BuildDuration: 702
		BuildDurationModifier: 100
		Description: Unlocks additional construction options    \n(Repair Pad, IX Research Center) \n\nUnlocks additional heavy units \n(Siege Tank, Missile Tank, MCV)
	    IconPalette: d2kunit
    Valued:
		Cost: 800
	RenderSprites:
		Image: heavy.ordos
		FactionImages:
			atreides: heavy.atreides
			fremen: heavy.atreides
			harkonnen: heavy.harkonnen
			corrino: heavy.harkonnen
			mercenary: heavy.mercenary
	ProvidesPrerequisite@upgradename:

upgrade.ohightech:
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	Tooltip:
		Name: High Tech Factory Upgrade
	Buildable:
		BuildPaletteOrder: 50
		Prerequisites: ~hightech.oatreides, ~techlevel.superweapons
		Queue: Upgrade.od2k
		BuildLimit: 1
		BuildDuration: 1405
		BuildDurationModifier: 100
		Description: Unlocks the Atreides Air Strike superweapon
        IconPalette: d2kunit
	Valued:
		Cost: 1500
	RenderSprites:
		Image: hightech.atreides
	ProvidesPrerequisite@upgradename:
